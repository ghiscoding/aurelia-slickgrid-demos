(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{GAND:function(t,e,n){},GmYv:function(t,e,n){"use strict";n.r(e);var i,r=n("70NS");Object.defineProperty(r.d,"Loader",{get:function(){return i||(i=n("5jyU").WebpackLoader)},set:function(t){i=t}})},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=c(t),s=i[0],a=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"K/SW":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("70NS"),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){return function(){var e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}var s=function(){function t(){var t,e,n,r,s,a=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],i.c.mutationObserver?this.requestFlushMicroTaskQueue=(t=function(){return a.flushMicroTaskQueue()},e=i.b.createMutationObserver(t),n="a",r=i.b.createTextNode("a"),(s=Object.create(null)).a="b",s.b="a",e.observe(r,{characterData:!0}),function(){r.data=n=s[n]}):this.requestFlushMicroTaskQueue=o((function(){return a.flushMicroTaskQueue()})),this.requestFlushTaskQueue=o((function(){return a.flushTaskQueue()}))}return t.prototype._flushQueue=function(t,e){var n=0,i=void 0;try{for(this.flushing=!0;n<t.length;)if(i=t[n],this.longStacks&&(this.stack="string"==typeof i.stack?i.stack:void 0),i.call(),++n>e){for(var o=0,s=t.length-n;o<s;o++)t[o]=t[o+n];t.length-=n,n=0}}catch(t){!function(t,e,n){n&&e.stack&&"object"===(void 0===t?"undefined":r(t))&&null!==t&&(t.stack=a(t.stack)+e.stack),"onError"in e?e.onError(t):setTimeout((function(){throw t}),0)}(t,i,this.longStacks)}finally{this.flushing=!1}},t.prototype.queueMicroTask=function(t){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(t)},t.prototype.queueTask=function(t){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(t.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(t)},t.prototype.flushTaskQueue=function(){var t=this.taskQueue;this.taskQueue=[],this._flushQueue(t,Number.MAX_VALUE)},t.prototype.flushMicroTaskQueue=function(){var t=this.microTaskQueue;this._flushQueue(t,this.microTaskQueueCapacity),t.length=0},t.prototype.prepareQueueStack=function(t){var e=t+function(t){return t.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}(function(){var t=new Error;if(t.stack)return t.stack;try{throw t}catch(t){return t.stack}}());return"string"==typeof this.stack&&(e=a(e)+this.stack),e},t}();function a(t){var e=t.lastIndexOf("flushMicroTaskQueue");return e<0&&(e=t.lastIndexOf("flushTaskQueue"))<0||(e=t.lastIndexOf("\n",e))<0?t:t.substr(0,e)}},QgUw:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function r(e,n){void 0===n&&(n={present:!0,interval:50,timeout:5e3});var r=!1;return n=i({present:!0,interval:50,timeout:5e3},n),t.race([new t((function(t,e){return setTimeout((function(){r=!0,e(new Error(n.present?"Element not found":"Element not removed"))}),n.timeout)})),function i(){var o=e(),s=null!==o&&(!(o instanceof NodeList)&&!o.jquery||o.length>0);return!n.present==!s||r?t.resolve(o):new t((function(t){return setTimeout(t,n.interval)})).then(i)}()])}function o(t,e){return r((function(){return document.querySelector(t)}),e)}function s(t,e){return r((function(){return document.querySelectorAll(t)}),e)}}).call(this,n("CW7D"))},RZ7W:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var i=n("hij8"),r=n("QgUw"),o=function(){function t(){}return t.withResources=function(t){return void 0===t&&(t=[]),(new s).withResources(t)},t}(),s=function(){function e(){this.resources=[]}return e.prototype.configure=function(t){return t.use.standardConfiguration()},e.prototype.bootstrap=function(t){this.configure=t},e.prototype.withResources=function(t){return this.resources=t,this},e.prototype.inView=function(t){return this.html=t,this},e.prototype.boundTo=function(t){return this.bindingContext=t,this},e.prototype.manuallyHandleLifecycle=function(){return this._prepareLifecycle(),this},e.prototype.create=function(e){var n=this;return e((function(e){return t.resolve(n.configure(e)).then((function(){return n.resources&&e.use.globalResources(n.resources),e.start().then((function(){return n.host=document.createElement("div"),n.host.innerHTML=n.html,document.body.appendChild(n.host),e.enhance(n.bindingContext,n.host).then((function(){return n.rootView=e.root,n.element=n.host.firstElementChild,e.root.controllers.length&&(n.viewModel=e.root.controllers[0].viewModel),new t((function(t){return setTimeout((function(){return t()}),0)}))}))}))}))}))},e.prototype.dispose=function(){if(void 0===this.host||void 0===this.rootView)throw new Error("Cannot call ComponentTester.dispose() before ComponentTester.create()");return this.rootView.detached(),this.rootView.unbind(),this.host.parentNode.removeChild(this.host)},e.prototype._prepareLifecycle=function(){var e=this,n=i.l.prototype.bind;i.l.prototype.bind=function(){},this.bind=function(r){return new t((function(t){i.l.prototype.bind=n,void 0!==r&&(e.bindingContext=r),e.rootView.bind(e.bindingContext),setTimeout((function(){return t()}),0)}))};var r=i.l.prototype.attached;i.l.prototype.attached=function(){},this.attached=function(){return new t((function(t){i.l.prototype.attached=r,e.rootView.attached(),setTimeout((function(){return t()}),0)}))},this.detached=function(){return new t((function(t){e.rootView.detached(),setTimeout((function(){return t()}),0)}))},this.unbind=function(){return new t((function(t){e.rootView.unbind(),setTimeout((function(){return t()}),0)}))}},e.prototype.waitForElement=function(t,e){var n=this;return Object(r.a)((function(){return n.element.querySelector(t)}),e)},e.prototype.waitForElements=function(t,e){var n=this;return Object(r.a)((function(){return n.element.querySelectorAll(t)}),e)},e}()}).call(this,n("CW7D"))},"aurelia-templating-binding":function(t,e,n){"use strict";n.d(e,"configure",(function(){return M}));var i,r,o,s,a,u,c,l,h=n("MP1E"),d=n("X5gX"),p=n("hij8");var f=(r=i=function(){function t(t){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=t,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return t.prototype.register=function(t,e,n){t=t.toLowerCase(),e=e.toLowerCase(),(this.elements[t]=this.elements[t]||Object.create(null))[e]=n},t.prototype.registerUniversal=function(t,e){t=t.toLowerCase(),this.allElements[t]=e},t.prototype.map=function(t,e){if(this.svg.isStandardSvgAttribute(t,e))return e;t=t.toLowerCase(),e=e.toLowerCase();var n=this.elements[t];return void 0!==n&&e in n?n[e]:e in this.allElements?this.allElements[e]:/(?:^data-)|(?:^aria-)|:/.test(e)?e:Object(d.s)(e)},t}(),i.inject=[d.n],r),v=function(){function t(t,e,n,i,r,o){this.observerLocator=t,this.targetProperty=e,this.parts=n,this.mode=i,this.lookupFunctions=r,this.attribute=this.attrToRemove=o,this.discrete=!1}return t.prototype.createBinding=function(t){return 3===this.parts.length?new b(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new m(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)},t}();function g(t,e){if("style"===e)h.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(t.parentElement&&"TEXTAREA"===t.parentElement.nodeName&&"textContent"===e)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var m=function(){function t(t,e,n,i,r,o){g(n,i),this.observerLocator=t,this.parts=e,this.target=n,this.targetProperty=i,this.targetAccessor=t.getAccessor(n,i),this.mode=r,this.lookupFunctions=o}return t.prototype.interpolate=function(){if(this.isBound){for(var t="",e=this.parts,n=0,i=e.length;n<i;n++)t+=n%2==0?e[n]:this["childBinding"+n].value;this.targetAccessor.setValue(t,this.target,this.targetProperty)}},t.prototype.updateOneTimeBindings=function(){for(var t=1,e=this.parts.length;t<e;t+=2){var n=this["childBinding"+t];n.mode===d.r.oneTime&&n.call()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.source=t;for(var e=this.parts,n=1,i=e.length;n<i;n+=2){var r=new b(this,this.observerLocator,e[n],this.mode,this.lookupFunctions);r.bind(t),this["childBinding"+n]=r}this.isBound=!0,this.interpolate()},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var t=1,e=this.parts.length;t<e;t+=2){this["childBinding"+t].unbind()}}},t}(),b=Object(d.t)()(o=function(){function t(t,e,n,i,r,o,s,a){t instanceof m?this.parent=t:(g(t,o),this.target=t,this.targetProperty=o,this.targetAccessor=e.getAccessor(t,o)),this.observerLocator=e,this.sourceExpression=n,this.mode=i,this.lookupFunctions=r,this.left=s,this.right=a}return t.prototype.updateTarget=function(t){(t=null==t?"":t.toString())!==this.value&&(this.value=t,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty))},t.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==d.r.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t;var e=this.sourceExpression;e.bind&&e.bind(this,t,this.lookupFunctions),this.rawValue=e.evaluate(t,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===d.r.oneWay&&Object(d.w)(this)},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var t=this.sourceExpression;t.unbind&&t.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},t.prototype.connect=function(t){this.isBound&&(t&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},t}())||o,w=function(){function t(t,e,n,i,r){this.observerLocator=t,this.sourceExpression=n,this.targetProperty=e,this.lookupFunctions=i,this.toBindingContext=r}return t.prototype.createBinding=function(){return new y(this.observerLocator,this.sourceExpression,this.targetProperty,this.lookupFunctions,this.toBindingContext)},t}(),y=Object(d.t)()(s=function(){function t(t,e,n,i,r){this.observerLocator=t,this.sourceExpression=e,this.targetProperty=n,this.lookupFunctions=i,this.source=null,this.target=null,this.toBindingContext=r}return t.prototype.updateTarget=function(){var t=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.target[this.targetProperty]=t},t.prototype.call=function(t){if(this.isBound){if(t!==d.y)throw new Error("Unexpected call context "+t);this.updateTarget()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.target=this.toBindingContext?t.bindingContext:t.overrideContext,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),Object(d.w)(this)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.target=null,this.unobserve(!0))},t.prototype.connect=function(){this.isBound&&(this.updateTarget(),this.sourceExpression.connect(this,this.source))},t}())||s,C=function(){function t(t,e,n,i,r){this.observerLocator=t,this.targetProperty=e,this.parts=n,this.lookupFunctions=i,this.toBindingContext=r}return t.prototype.createBinding=function(){return new S(this.observerLocator,this.targetProperty,this.parts,this.lookupFunctions,this.toBindingContext)},t}(),S=function(){function t(t,e,n,i,r){this.observerLocator=t,this.parts=n,this.targetProperty=e,this.lookupFunctions=i,this.toBindingContext=r,this.target=null}return t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.target=this.toBindingContext?t.bindingContext:t.overrideContext,this.interpolationBinding=this.createInterpolationBinding(),this.interpolationBinding.bind(t)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.source=null,this.target=null,this.interpolationBinding.unbind(),this.interpolationBinding=null)},t.prototype.createInterpolationBinding=function(){return 3===this.parts.length?new b(this.target,this.observerLocator,this.parts[1],d.r.oneWay,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new m(this.observerLocator,this.parts,this.target,this.targetProperty,d.r.oneWay,this.lookupFunctions)},t}(),V=(u=a=function(){function t(t,e,n,i){this.parser=t,this.observerLocator=e,this.eventManager=n,this.attributeMap=i}return t.prototype.interpret=function(t,e,n,i,r){return n.command in this?this[n.command](t,e,n,i,r):this.handleUnknownCommand(t,e,n,i,r)},t.prototype.handleUnknownCommand=function(t,e,n,i,r){return h.getLogger("templating-binding").warn("Unknown binding command.",n),i},t.prototype.determineDefaultBindingMode=function(t,e,n){var i=t.tagName.toLowerCase();return"input"===i&&("value"===e||"files"===e)&&"checkbox"!==t.type&&"radio"!==t.type||"input"===i&&"checked"===e&&("checkbox"===t.type||"radio"===t.type)||("textarea"===i||"select"===i)&&"value"===e||("textcontent"===e||"innerhtml"===e)&&"true"===t.contentEditable||"scrolltop"===e||"scrollleft"===e?d.r.twoWay:n&&e in n.attributes&&n.attributes[e]&&n.attributes[e].defaultBindingMode>=d.r.oneTime?n.attributes[e].defaultBindingMode:d.r.oneWay},t.prototype.bind=function(t,e,n,i,r){var o=i||p.b.attribute(n.attrName);return o.attributes[n.attrName]=new d.d(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),void 0===n.defaultBindingMode||null===n.defaultBindingMode?this.determineDefaultBindingMode(e,n.attrName,r):n.defaultBindingMode,t.lookupFunctions),o},t.prototype.trigger=function(t,e,n){return new d.i(this.eventManager,n.attrName,this.parser.parse(n.attrValue),d.v.none,!0,t.lookupFunctions)},t.prototype.capture=function(t,e,n){return new d.i(this.eventManager,n.attrName,this.parser.parse(n.attrValue),d.v.capturing,!0,t.lookupFunctions)},t.prototype.delegate=function(t,e,n){return new d.i(this.eventManager,n.attrName,this.parser.parse(n.attrValue),d.v.bubbling,!0,t.lookupFunctions)},t.prototype.call=function(t,e,n,i){var r=i||p.b.attribute(n.attrName);return r.attributes[n.attrName]=new d.e(this.observerLocator,n.attrName,this.parser.parse(n.attrValue),t.lookupFunctions),r},t.prototype.options=function(t,e,n,i,r){var o,s=i||p.b.attribute(n.attrName),a=n.attrValue,u=this.language,c=null,l="",h=void 0,d=void 0,f=!1,v=!1,g=!1;for(d=0,o=a.length;d<o;++d){if(";"!==(h=a[d])||f)if(":"===h&&null===c)g=!0,c=l.trim(),l="";else{if("\\"===h){l+=h,v=!0;continue}l+=h,null!==c&&!1===v&&"'"===h&&(f=!f)}else g||(c=this._getPrimaryPropertyName(t,r)),n=u.inspectAttribute(t,"?",c,l.trim()),u.createAttributeInstruction(t,e,n,s,r),s.attributes[n.attrName]||(s.attributes[n.attrName]=n.attrValue),l="",c=null;v=!1}return g||(c=this._getPrimaryPropertyName(t,r)),null!==c&&(n=u.inspectAttribute(t,"?",c,l.trim()),u.createAttributeInstruction(t,e,n,s,r),s.attributes[n.attrName]||(s.attributes[n.attrName]=n.attrValue)),s},t.prototype._getPrimaryPropertyName=function(t,e){var n=t.getAttribute(e.attributeName);return n&&n.primaryProperty?n.primaryProperty.attribute:null},t.prototype.for=function(t,e,n,i){var r,o=void 0,s=void 0,a=void 0,u=void 0;if(2!==(o=(r=(u=n.attrValue).match(/^ *[[].+[\]]/))?u.split("of "):u.split(" of ")).length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return a=i||p.b.attribute(n.attrName),r?(s=o[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),a.attributes.key=s[0],a.attributes.value=s[1]):a.attributes.local=o[0],a.attributes.items=new d.d(this.observerLocator,"items",this.parser.parse(o[1]),d.r.oneWay,t.lookupFunctions),a},t.prototype["two-way"]=function(t,e,n,i){var r=i||p.b.attribute(n.attrName);return r.attributes[n.attrName]=new d.d(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),d.r.twoWay,t.lookupFunctions),r},t.prototype["to-view"]=function(t,e,n,i){var r=i||p.b.attribute(n.attrName);return r.attributes[n.attrName]=new d.d(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),d.r.toView,t.lookupFunctions),r},t.prototype["from-view"]=function(t,e,n,i){var r=i||p.b.attribute(n.attrName);return r.attributes[n.attrName]=new d.d(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),d.r.fromView,t.lookupFunctions),r},t.prototype["one-time"]=function(t,e,n,i){var r=i||p.b.attribute(n.attrName);return r.attributes[n.attrName]=new d.d(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),d.r.oneTime,t.lookupFunctions),r},t}(),a.inject=[d.m,d.l,d.g,f],u);V.prototype["one-way"]=V.prototype["to-view"];var _={},O=(l=c=function(t){function e(e,n,i,r){var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o.parser=e,o.observerLocator=n,o.syntaxInterpreter=i,o.emptyStringExpression=o.parser.parse("''"),i.language=o,o.attributeMap=r,o.toBindingContextAttr="to-binding-context",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.inspectAttribute=function(t,e,n,i){var r=n.split(".");if(_.defaultBindingMode=null,2===r.length)_.attrName=r[0].trim(),_.attrValue=i,_.command=r[1].trim(),"ref"===_.command?(_.expression=new d.k(this.parser.parse(i),_.attrName,t.lookupFunctions),_.command=null,_.attrName="ref"):_.expression=null;else if("ref"===n)_.attrName=n,_.attrValue=i,_.command=null,_.expression=new d.k(this.parser.parse(i),"element",t.lookupFunctions);else{_.attrName=n,_.attrValue=i,_.command=null;var o=this.parseInterpolation(t,i);_.expression=null===o?null:new v(this.observerLocator,this.attributeMap.map(e,n),o,d.r.oneWay,t.lookupFunctions,n)}return _},e.prototype.createAttributeInstruction=function(t,e,n,i,r){var o=void 0;if(n.expression){if("ref"===n.attrName)return n.expression;(o=i||p.b.attribute(n.attrName)).attributes[n.attrName]=n.expression}else n.command&&(o=this.syntaxInterpreter.interpret(t,e,n,i,r));return o},e.prototype.createLetExpressions=function(t,e){for(var n=[],i=e.attributes,r=void 0,o=void 0,s=void 0,a=void 0,u=this.toBindingContextAttr,c=e.hasAttribute(u),l=0,p=i.length;p>l;++l)if(s=(r=i[l]).name,a=r.nodeValue,o=s.split("."),s!==u)if(2===o.length){if("bind"!==o[1]){h.getLogger("templating-binding-language").warn('Detected invalid let command. Expected "'+o[0]+'.bind", given "'+s+'"');continue}n.push(new w(this.observerLocator,Object(d.s)(o[0]),this.parser.parse(a),t.lookupFunctions,c))}else s=Object(d.s)(s),null===(o=this.parseInterpolation(t,a))&&h.getLogger("templating-binding-language").warn('Detected string literal in let bindings. Did you mean "'+s+".bind="+a+'" or "'+s+"=${"+a+'}" ?'),o?n.push(new C(this.observerLocator,s,o,t.lookupFunctions,c)):n.push(new w(this.observerLocator,s,new d.j(a),t.lookupFunctions,c));return n},e.prototype.inspectTextContent=function(t,e){var n=this.parseInterpolation(t,e);return null===n?null:new v(this.observerLocator,"textContent",n,d.r.oneWay,t.lookupFunctions,"textContent")},e.prototype.parseInterpolation=function(t,e){for(var n=e.indexOf("${",0),i=e.length,r=void 0,o=0,s=0,a=null,u=void 0,c=void 0,l=0;n>=0&&n<i-2;){s=1,u=n,n+=2;do{r=e[n],n++,"'"!==r&&'"'!==r?"\\"!==r?null===a&&("{"===r?s++:"}"===r&&s--):n++:null===a?a=r:a===r&&(a=null)}while(s>0&&n<i);if(0!==s)break;c=c||[],"\\"===e[u-1]&&"\\"!==e[u-2]?(c[l]=e.substring(o,u-1)+e.substring(u,n),c[++l]=this.emptyStringExpression,l++):(c[l]=e.substring(o,u),c[++l]=this.parser.parse(e.substring(u+2,n-1)),l++),o=n,n=e.indexOf("${",n)}return 0===l?null:(c[l]=e.substr(o),c)},e}(p.c),c.inject=[d.m,d.l,V,f],l);function M(t){t.container.registerSingleton(p.c,O),t.container.registerAlias(p.c,O)}},"aurelia-templating-resources":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return bt})),n.d(e,"b",(function(){return wt})),n.d(e,"configure",(function(){return _t}));var i,r=n("3U8n"),o=n("70NS"),s=n("K/SW"),a=n("hij8"),u=n("X5gX"),c=n("MP1E"),l=n("ZdUM"),h=n("iD3O"),d=n("qrcG"),p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function f(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function v(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}!function(t){t.InvokeLifecycle="invoke-lifecycle",t.Replace="replace"}(i||(i={}));var g=function(){function t(t,e,n,r,o,s){this.activationStrategy=i.InvokeLifecycle,this.element=t,this.container=e,this.compositionEngine=n,this.viewSlot=r,this.viewResources=o,this.taskQueue=s,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}return t.inject=function(){return[o.b.Element,r.a,a.e,a.q,a.p,s.a]},t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e;var n=this.changes;n.view=this.view,n.viewModel=this.viewModel,n.model=this.model,this.pendingTask||m(this)},t.prototype.unbind=function(){this.changes=Object.create(null),this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},t.prototype.modelChanged=function(t,e){this.changes.model=t,w(this)},t.prototype.viewChanged=function(t,e){this.changes.view=t,w(this)},t.prototype.viewModelChanged=function(t,e){this.changes.viewModel=t,w(this)},v([a.r],t.prototype,"model",void 0),v([a.r],t.prototype,"view",void 0),v([a.r],t.prototype,"viewModel",void 0),v([a.r],t.prototype,"activationStrategy",void 0),v([a.r],t.prototype,"swapOrder",void 0),t=v([a.v,Object(a.t)("compose")],t)}();function m(e){var n=e.changes;if(e.changes=Object.create(null),function(t,e){var n=t.activationStrategy,r=t.currentViewModel;r&&"function"==typeof r.determineActivationStrategy&&(n=r.determineActivationStrategy());return"view"in e||"viewModel"in e||n===i.Replace}(e,n)){var r={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};r=Object.assign(r,n),r=function(t,e){return Object.assign(e,{bindingContext:t.bindingContext,overrideContext:t.overrideContext,owningView:t.owningView,container:t.container,viewSlot:t.viewSlot,viewResources:t.viewResources,currentController:t.currentController,host:t.element,swapOrder:t.swapOrder})}(e,r),e.pendingTask=e.compositionEngine.compose(r).then((function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null}))}else if(e.pendingTask=function(e,n){if(e&&"function"==typeof e.activate)return t.resolve(e.activate(n))}(e.currentViewModel,n.model),!e.pendingTask)return;e.pendingTask=e.pendingTask.then((function(){b(e)}),(function(t){throw b(e),t}))}function b(t){t.pendingTask=null,function(t){for(var e in t)return!1;return!0}(t.changes)||m(t)}function w(t){t.pendingTask||t.updateRequested||(t.updateRequested=!0,t.taskQueue.queueMicroTask((function(){t.updateRequested=!1,m(t)})))}var y=function(){function e(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1,this.cache=!0}return e.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e},e.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))},e.prototype._show=function(){if(!this.showing)return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view);this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)},e.prototype._hide=function(){var e=this;if(this.showing){this.showing=!1;var n=this.viewSlot.remove(this.view);if(n instanceof t)return n.then((function(){e._unbindView()}));this._unbindView()}},e.prototype._unbindView=function(){var t="false"!==this.cache&&!!this.cache;this.view.unbind(),t||(this.view=null)},e}(),C=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=!0,t}return f(n,e),n.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.condition?this._show():this._hide()},n.prototype.conditionChanged=function(t){this._update(t)},n.prototype._update=function(t){var e,n=this;this.animating||(e=this.elseVm?t?this._swap(this.elseVm,this):this._swap(this,this.elseVm):t?this._show():this._hide())&&(this.animating=!0,e.then((function(){n.animating=!1,n.condition!==n.showing&&n._update(n.condition)})))},n.prototype._swap=function(e,n){switch(this.swapOrder){case"before":return t.resolve(n._show()).then((function(){return e._hide()}));case"with":return t.all([e._hide(),n._show()]);default:var i=e._hide();return i?i.then((function(){return n._show()})):n._show()}},v([Object(a.r)({primaryProperty:!0})],n.prototype,"condition",void 0),v([a.r],n.prototype,"swapOrder",void 0),v([a.r],n.prototype,"cache",void 0),n=v([Object(a.s)("if"),a.x,Object(r.f)(a.d,a.q)],n)}(y),S=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._registerInIf(),i}return f(e,t),e.prototype.bind=function(e,n){t.prototype.bind.call(this,e,n),this.ifVm.condition?this._hide():this._show()},e.prototype._registerInIf=function(){for(var t=this.viewSlot.anchor.previousSibling;t&&!t.au;)t=t.previousSibling;if(!t||!t.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=t.au.if.viewModel,this.ifVm.elseVm=this},e=v([Object(a.s)("else"),a.x,Object(r.f)(a.d,a.q)],e)}(y),V=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.parentOverrideContext=null,this.view=null}return t.prototype.bind=function(t,e){this.parentOverrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=Object(u.u)(t,this.parentOverrideContext),n=this.view;n?n.bind(t,e):((n=this.view=this.viewFactory.create()).bind(t,e),this.viewSlot.add(n))},t.prototype.unbind=function(){var t=this.view;this.parentOverrideContext=null,t&&t.unbind()},t=v([Object(a.s)("with"),a.x,Object(r.f)(a.d,a.q)],t)}(),_=u.r.oneTime;function O(t,e){var n=t.length;for(e>0&&(e-=1);e<n;++e)x(t[e].overrideContext,e,n)}function M(t,e,n,i,r){var o={},s=Object(u.u)(o,t.scope.overrideContext);return void 0!==r?(o[t.key]=r,o[t.value]=e):o[t.local]=e,x(s,n,i),s}function x(t,e,n){var i=0===e,r=e===n-1,o=e%2==0;t.$index=e,t.$first=i,t.$last=r,t.$middle=!(i||r),t.$odd=!o,t.$even=o}function A(t){t.call&&t.mode===_?t.call(u.y):t.updateOneTimeBindings&&t.updateOneTimeBindings()}function k(t,e,n,i){if(!n)return t.indexOf(e);for(var r=t.length,o=i||0;o<r;o++)if(n(t[o],e))return o;return-1}var j=function(){function e(){}return e.prototype.getCollectionObserver=function(t,e){return t.getArrayObserver(e)},e.prototype.instanceChanged=function(e,n){var i=this,r=e,o=n.length;if(n&&0!==o){var s=r.views(),a=s.length;if(0!==a)if(r.viewsRequireLifecycle){for(var u=s.slice(0),c=r.local,l=r.matcher(),h=[],d=[],p=0;p<a;p++){var f=u[p],v=f.bindingContext[c];-1===k(n,v,l)?d.push(f):h.push(v)}var g=void 0,m=void 0;h.length>0?(m=r.removeViews(d,!0,!r.viewsRequireLifecycle),g=function(){for(var t=0;t<o;t++){var e=n[t],a=k(h,e,l,t),u=void 0;if(-1===a){var c=M(r,n[t],t,o);r.insertView(t,c.bindingContext,c),h.splice(t,0,void 0)}else a===t?(u=s[a],h[a]=void 0):(u=s[a],r.moveView(a,t),h.splice(a,1),h.splice(t,0,void 0));u&&x(u.overrideContext,t,o)}i._inPlaceProcessItems(r,n)}):(m=r.removeAllViews(!0,!r.viewsRequireLifecycle),g=function(){return i._standardProcessInstanceChanged(r,n)}),m instanceof t?m.then(g):g()}else this._inPlaceProcessItems(r,n);else this._standardProcessInstanceChanged(r,n)}else r.removeAllViews(!0,!r.viewsRequireLifecycle)},e.prototype._standardProcessInstanceChanged=function(t,e){for(var n=0,i=e.length;n<i;n++){var r=M(t,e[n],n,i);t.addView(r.bindingContext,r)}},e.prototype._inPlaceProcessItems=function(t,e){for(var n=e.length,i=t.viewCount();i>n;)i--,t.removeView(i,!0,!t.viewsRequireLifecycle);for(var r=t.local,o=0;o<i;o++){var s=t.view(o),a=o===n-1,u=0!==o&&!a,c=s.bindingContext,l=s.overrideContext;c[r]===e[o]&&l.$middle===u&&l.$last===a||(c[r]=e[o],l.$middle=u,l.$last=a,t.updateBindings(s))}for(o=i;o<n;o++){l=M(t,e[o],o,n);t.addView(l.bindingContext,l)}},e.prototype.instanceMutated=function(e,n,i){var r=this;if(e.__queuedSplices){for(var o=0,s=i.length;o<s;++o){var a=i[o],c=a.index,l=a.removed,h=a.addedCount;Object(u.x)(e.__queuedSplices,c,l,h)}e.__array=n.slice(0)}else{var d=this._runSplices(e,n.slice(0),i);if(d instanceof t){var p=e.__queuedSplices=[],f=function(){if(!p.length)return e.__queuedSplices=void 0,void(e.__array=void 0);var n=r._runSplices(e,e.__array,p)||t.resolve();p=e.__queuedSplices=[],n.then(f)};d.then(f)}}},e.prototype._runSplices=function(e,n,i){for(var r=this,o=0,s=[],a=0,u=i.length;a<u;++a){for(var c=i[a],l=0,h=c.removed.length;l<h;++l){var d=e.removeView(c.index+o+s.length,!0);d instanceof t&&s.push(d)}o-=c.addedCount}if(s.length>0)return t.all(s).then((function(){var t=r._handleAddedSplices(e,n,i);O(e.views(),t)}));var p=this._handleAddedSplices(e,n,i);O(e.views(),p)},e.prototype._handleAddedSplices=function(t,e,n){for(var i,r,o=e.length,s=0,a=n.length;s<a;++s){var u=n[s],c=i=u.index,l=u.index+u.addedCount;for((null==r||r>u.index)&&(r=i);c<l;++c){var h=M(t,e[c],c,o);t.insertView(c,h.bindingContext,h)}}return r},e}(),N=function(){function e(){}return e.prototype.getCollectionObserver=function(t,e){return t.getMapObserver(e)},e.prototype.instanceChanged=function(e,n){var i=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof t?r.then((function(){return i._standardProcessItems(e,n)})):this._standardProcessItems(e,n)},e.prototype._standardProcessItems=function(t,e){var n,i=0;e.forEach((function(r,o){n=M(t,r,i,e.size,o),t.addView(n.bindingContext,n),++i}))},e.prototype.instanceMutated=function(e,n,i){var r,o,s,a,u,c,l,h,d=[];for(o=0,s=i.length;o<s;++o)switch(r=(l=i[o]).key,l.type){case"update":u=this._getViewIndexByKey(e,r),(h=e.removeView(u,!0,!e.viewsRequireLifecycle))instanceof t&&d.push(h),a=M(e,n.get(r),u,n.size,r),e.insertView(u,a.bindingContext,a);break;case"add":c=e.viewCount()<=n.size-1?e.viewCount():n.size-1,a=M(e,n.get(r),c,n.size,r),e.insertView(n.size-1,a.bindingContext,a);break;case"delete":if(void 0===l.oldValue)return;u=this._getViewIndexByKey(e,r),(h=e.removeView(u,!0,!e.viewsRequireLifecycle))instanceof t&&d.push(h);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}d.length>0?t.all(d).then((function(){O(e.views(),0)})):O(e.views(),0)},e.prototype._getViewIndexByKey=function(t,e){var n,i;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.key]===e)return n},e}(),T=function(){function t(){}return t.prototype.instanceChanged=function(t,e){t.removeAllViews(!0)},t.prototype.getCollectionObserver=function(t,e){},t}(),E=function(){function e(){}return e.prototype.getCollectionObserver=function(){return null},e.prototype.instanceChanged=function(e,n){var i=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof t?r.then((function(){return i._standardProcessItems(e,n)})):this._standardProcessItems(e,n)},e.prototype._standardProcessItems=function(t,e){var n,i,r,o,s=t.viewCount();if((o=s-(e=Math.floor(e)))>0)for(o>s&&(o=s),n=0,i=o;n<i;++n)t.removeView(s-(n+1),!0,!t.viewsRequireLifecycle);else{for(n=s,i=e;n<i;++n)r=M(t,n,n,i),t.addView(r.bindingContext,r);O(t.views(),0)}},e}(),I=function(){function e(){}return e.prototype.getCollectionObserver=function(t,e){return t.getSetObserver(e)},e.prototype.instanceChanged=function(e,n){var i=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof t?r.then((function(){return i._standardProcessItems(e,n)})):this._standardProcessItems(e,n)},e.prototype._standardProcessItems=function(t,e){var n,i=0;e.forEach((function(r){n=M(t,r,i,e.size),t.addView(n.bindingContext,n),++i}))},e.prototype.instanceMutated=function(e,n,i){var r,o,s,a,u,c,l,h=[];for(o=0,s=i.length;o<s;++o)switch(r=(c=i[o]).value,c.type){case"add":var d=Math.max(n.size-1,0);a=M(e,r,d,n.size),e.insertView(d,a.bindingContext,a);break;case"delete":u=this._getViewIndexByValue(e,r),(l=e.removeView(u,!0,!e.viewsRequireLifecycle))instanceof t&&h.push(l);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}h.length>0?t.all(h).then((function(){O(e.views(),0)})):O(e.views(),0)},e.prototype._getViewIndexByValue=function(t,e){var n,i;for(n=0,i=t.viewCount();n<i;++n)if(t.view(n).bindingContext[t.local]===e)return n},e}(),B=function(){function t(){this.matchers=[],this.strategies=[],this.addStrategy((function(t){return null==t}),new T),this.addStrategy((function(t){return t instanceof Array}),new j),this.addStrategy((function(t){return t instanceof Map}),new N),this.addStrategy((function(t){return t instanceof Set}),new I),this.addStrategy((function(t){return"number"==typeof t}),new E)}return t.prototype.addStrategy=function(t,e){this.matchers.push(t),this.strategies.push(e)},t.prototype.getStrategy=function(t){for(var e=this.matchers,n=0,i=e.length;n<i;++n)if(e[n](t))return this.strategies[n];return null},t}(),F=["focus","if","else","repeat","show","hide","with"];function L(t){var e=t.type,n=null!==e.elementName?e.elementName:e.attributeName;return-1===F.indexOf(n)&&(e.handlesAttached||e.handlesBind||e.handlesCreated||e.handlesDetached||e.handlesUnbind)||e.viewFactory&&R(e.viewFactory)||t.viewFactory&&R(t.viewFactory)}function P(t){var e=t.behaviorInstructions;if(e)for(var n=e.length;n--;)if(L(e[n]))return!0;return t.viewFactory&&R(t.viewFactory)}function R(t){if("_viewsRequireLifecycle"in t)return t._viewsRequireLifecycle;if(t._viewsRequireLifecycle=!1,t.viewFactory)return t._viewsRequireLifecycle=R(t.viewFactory),t._viewsRequireLifecycle;if(t.template.querySelector(".au-animate"))return t._viewsRequireLifecycle=!0,!0;for(var e in t.instructions)if(P(t.instructions[e]))return t._viewsRequireLifecycle=!0,!0;return t._viewsRequireLifecycle=!1,!1}var D=function(){function t(t){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return t.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},t.prototype.views=function(){throw new Error("subclass must implement `views`")},t.prototype.view=function(t){throw new Error("subclass must implement `view`")},t.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},t.prototype.addView=function(t,e){throw new Error("subclass must implement `addView`")},t.prototype.insertView=function(t,e,n){throw new Error("subclass must implement `insertView`")},t.prototype.moveView=function(t,e){throw new Error("subclass must implement `moveView`")},t.prototype.removeAllViews=function(t,e){throw new Error("subclass must implement `removeAllViews`")},t.prototype.removeViews=function(t,e,n){throw new Error("subclass must implement `removeView`")},t.prototype.removeView=function(t,e,n){throw new Error("subclass must implement `removeView`")},t.prototype.updateBindings=function(t){throw new Error("subclass must implement `updateBindings`")},t}(),q=function(t){function e(e,n,i,r,o,s){var a=t.call(this,{local:"item",viewsRequireLifecycle:R(e)})||this;return a.viewFactory=e,a.instruction=n,a.viewSlot=i,a.lookupFunctions=r.lookupFunctions,a.observerLocator=o,a.key="key",a.value="value",a.strategyLocator=s,a.ignoreMutation=!1,a.sourceExpression=function(t,e){return t.behaviorInstructions.filter((function(t){return t.originalAttrName===e}))[0].attributes.items.sourceExpression}(a.instruction,"repeat.for"),a.isOneTime=function(t){for(;t instanceof u.a;){if("oneTime"===t.name)return!0;t=t.expression}return!1}(a.sourceExpression),a.viewsRequireLifecycle=R(e),a}var n;return f(e,t),n=e,e.prototype.call=function(t,e){this[t](this.items,e)},e.prototype.bind=function(t,e){this.scope={bindingContext:t,overrideContext:e};var n=this.instruction;"__marker_extracted__"in n||(n.__marker_extracted__=this._captureAndRemoveMatcherBinding()),this.matcherBinding=n.__marker_extracted__,this.itemsChanged()},e.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()},e.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},e.prototype.itemsChanged=function(){var t=this;if(this._unsubscribeCollection(),this.scope){var e=this.items;if(this.strategy=this.strategyLocator.getStrategy(e),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.ignoreMutation=!0,this.strategy.instanceChanged(this,e),this.observerLocator.taskQueue.queueMicroTask((function(){t.ignoreMutation=!1}))}},e.prototype._getInnerCollection=function(){var t=function(t){for(var e=!1;t instanceof u.a;)t=t.expression;for(;t instanceof u.o;)t=t.expression,e=!0;return e?t:null}(this.sourceExpression);return t?t.evaluate(this.scope,null):null},e.prototype.handleCollectionMutated=function(t,e){this.collectionObserver&&(this.ignoreMutation||this.strategy.instanceMutated(this,t,e))},e.prototype.handleInnerCollectionMutated=function(t,e){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var i=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask((function(){return n.ignoreMutation=!1})),i===this.items?this.itemsChanged():this.items=i}},e.prototype._observeInnerCollection=function(){var t=this._getInnerCollection(),e=this.strategyLocator.getStrategy(t);return!!e&&(this.collectionObserver=e.getCollectionObserver(this.observerLocator,t),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},e.prototype._observeCollection=function(){var t=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,t),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},e.prototype._captureAndRemoveMatcherBinding=function(){var t=this.viewFactory.viewFactory;if(t){var e=t.template,i=t.instructions;if(n.useInnerMatcher)return z(i);if(H(e)>1)return;var r=U(e);if(!r.hasAttribute("au-target-id"))return;var o=r.getAttribute("au-target-id");return z(i,o)}},e.prototype.viewCount=function(){return this.viewSlot.children.length},e.prototype.views=function(){return this.viewSlot.children},e.prototype.view=function(t){return this.viewSlot.children[t]},e.prototype.matcher=function(){var t=this.matcherBinding;return t?t.sourceExpression.evaluate(this.scope,t.lookupFunctions):null},e.prototype.addView=function(t,e){var n=this.viewFactory.create();n.bind(t,e),this.viewSlot.add(n)},e.prototype.insertView=function(t,e,n){var i=this.viewFactory.create();i.bind(e,n),this.viewSlot.insert(t,i)},e.prototype.moveView=function(t,e){this.viewSlot.move(t,e)},e.prototype.removeAllViews=function(t,e){return this.viewSlot.removeAll(t,e)},e.prototype.removeViews=function(t,e,n){return this.viewSlot.removeMany(t,e,n)},e.prototype.removeView=function(t,e,n){return this.viewSlot.removeAt(t,e,n)},e.prototype.updateBindings=function(t){for(var e=t,n=e.bindings.length;n--;)A(e.bindings[n]);for(n=e.controllers.length;n--;)for(var i=e.controllers[n].boundProperties.length;i--;){A(e.controllers[n].boundProperties[i].binding)}},e.useInnerMatcher=!0,v([a.r],e.prototype,"items",void 0),v([a.r],e.prototype,"local",void 0),v([a.r],e.prototype,"key",void 0),v([a.r],e.prototype,"value",void 0),e=n=v([Object(a.s)("repeat"),a.x,Object(r.f)(a.d,a.j,a.q,a.p,u.l,B)],e)}(D),z=function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];if(void 0===e||r===e){var o=t[r].expressions;if(o)for(var s=0;s<o.length;s++)if("matcher"===o[s].targetProperty){var a=o[s];return o.splice(s,1),a}}}},H=function(t){for(var e=t.childNodes,n=0,i=0,r=e.length;r>i;++i)1===e[i].nodeType&&++n;return n},U=function(t){for(var e=t.firstChild;null!==e;){if(1===e.nodeType)return e;e=e.nextSibling}return null};function Q(t){o.c.shadowDOM&&t&&!t.hasAureliaHideStyle&&(t.hasAureliaHideStyle=!0,o.b.injectStyles(".aurelia-hide { display:none !important; }",t))}var W=function(){function t(t,e,n){this.element=t,this.animator=e,this.domBoundary=n}return t.inject=function(){return[o.b.Element,a.a,r.d.of(o.b.boundary,!0)]},t.prototype.created=function(){Q(this.domBoundary)},t.prototype.valueChanged=function(t){var e=this.element,n=this.animator;t?n.removeClass(e,"aurelia-hide"):n.addClass(e,"aurelia-hide")},t.prototype.bind=function(t){this.valueChanged(this.value)},t=v([Object(a.s)("show")],t)}(),$=function(){function t(t,e,n){this.element=t,this.animator=e,this.domBoundary=n}return t.inject=function(){return[o.b.Element,a.a,r.d.of(o.b.boundary,!0)]},t.prototype.created=function(){Q(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.addClass(this.element,"aurelia-hide"):this.animator.removeClass(this.element,"aurelia-hide")},t.prototype.bind=function(t){this.valueChanged(this.value)},t.prototype.value=function(t){throw new Error("Method not implemented.")},t=v([Object(a.s)("hide")],t)}(),K=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,X=!0,G=function(){function t(){}return t.prototype.sanitize=function(t){return X&&(X=!1,Object(c.getLogger)("html-sanitizer").warn("CAUTION: The default HTMLSanitizer does NOT provide security against a wide variety of sophisticated XSS attacks,\nand should not be relied on for sanitizing input from unknown sources.\nPlease see https://aurelia.io/docs/binding/basics#element-content for instructions on how to use a secure solution like DOMPurify or sanitize-html.")),t.replace(K,"")},t}(),Z=function(){function t(t){this.sanitizer=t}return t.prototype.toView=function(t){return null==t?null:this.sanitizer.sanitize(t)},t=v([Object(u.B)("sanitizeHTML"),Object(r.f)(G)],t)}(),Y=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null}return t.prototype.bind=function(t,e){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(t,e)},t.prototype.unbind=function(){this.view.unbind()},t=v([Object(a.s)("replaceable"),a.x,Object(r.f)(a.d,a.q)],t)}(),J=function(){function t(t,e){this.element=t,this.taskQueue=e,this.isAttached=!1,this.needsApply=!1}return t.inject=function(){return[o.b.Element,s.a]},t.prototype.valueChanged=function(t){this.isAttached?this._apply():this.needsApply=!0},t.prototype._apply=function(){var t=this;this.value?this.taskQueue.queueMicroTask((function(){t.value&&t.element.focus()})):this.element.blur()},t.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)},t.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)},t.prototype.handleEvent=function(t){"focus"===t.type?this.value=!0:o.b.activeElement!==this.element&&(this.value=!1)},t=v([Object(a.s)("focus",u.r.twoWay)],t)}(),tt=/url\((?!['"]data)([^)]+)\)/gi;var et=function(){function t(t){this.address=t,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return t.prototype.initialize=function(t,e){this._scoped=new e(this)},t.prototype.register=function(t,e){"scoped"===e?t.registerViewEngineHooks(this._scoped):this._global=!0},t.prototype.load=function(t){var e=this;return t.get(l.a).loadText(this.address).catch((function(t){return null})).then((function(t){t=function(t,e){if("string"!=typeof e)throw new Error("Failed loading required CSS file: "+t);return e.replace(tt,(function(e,n){var i=n.charAt(0);return"'"!==i&&'"'!==i||(n=n.substr(1,n.length-2)),"url('"+Object(h.d)(n,t)+"')"}))}(e.address,t),e._scoped.css=t,e._global&&(e._alreadyGloballyInjected=!0,o.b.injectStyles(t))}))},t}(),nt=function(){function t(t){this.owner=t,this.css=null}return t.prototype.beforeCompile=function(t,e,n){if(n.targetShadowDOM)o.b.injectStyles(this.css,t,!0);else if(o.c.scopedCSS){o.b.injectStyles(this.css,t,!0).setAttribute("scoped","scoped")}else this._global&&!this.owner._alreadyGloballyInjected&&(o.b.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},t}();var it=function(){function t(){}return t.prototype.bind=function(t,e){t.targetObserver=new u.f(t.target,t.targetProperty)},t.prototype.unbind=function(t,e){},t=v([Object(u.q)("attr")],t)}(),rt={bind:function(t,e,n){t.originalMode=t.mode,t.mode=this.mode},unbind:function(t,e){t.mode=t.originalMode,t.originalMode=null}},ot=function(){function t(){this.mode=u.r.oneTime}return t=v([Object(d.c)(rt),Object(u.q)("oneTime")],t)}(),st=function(){function t(){this.mode=u.r.toView}return t=v([Object(d.c)(rt),Object(u.q)("oneWay")],t)}(),at=function(){function t(){this.mode=u.r.toView}return t=v([Object(d.c)(rt),Object(u.q)("toView")],t)}(),ut=function(){function t(){this.mode=u.r.fromView}return t=v([Object(d.c)(rt),Object(u.q)("fromView")],t)}(),ct=function(){function t(){this.mode=u.r.twoWay}return t=v([Object(d.c)(rt),Object(u.q)("twoWay")],t)}();function lt(t){var e=this,n=this.throttleState,i=+new Date-n.last;if(i>=n.delay)return clearTimeout(n.timeoutId),n.timeoutId=null,n.last=+new Date,void this.throttledMethod(t);n.newValue=t,null===n.timeoutId&&(n.timeoutId=setTimeout((function(){n.timeoutId=null,n.last=+new Date,e.throttledMethod(n.newValue)}),n.delay-i))}var ht=function(){function t(){}return t.prototype.bind=function(t,e,n){void 0===n&&(n=200);var i="updateTarget";t.callSource?i="callSource":t.updateSource&&t.mode===u.r.twoWay&&(i="updateSource"),t.throttledMethod=t[i],t.throttledMethod.originalName=i,t[i]=lt,t.throttleState={delay:n,last:0,timeoutId:null}},t.prototype.unbind=function(t,e){t[t.throttledMethod.originalName]=t.throttledMethod,t.throttledMethod=null,clearTimeout(t.throttleState.timeoutId),t.throttleState=null},t=v([Object(u.q)("throttle")],t)}(),dt={};function pt(t){var e=this,n=this.debounceState;clearTimeout(n.timeoutId),n.timeoutId=setTimeout((function(){return e.debouncedMethod(t)}),n.delay)}function ft(t,e,n){var i=this,r=this.debounceState;if(clearTimeout(r.timeoutId),t!==r.callContextToDebounce)return r.oldValue=dt,void this.debouncedMethod(t,e,n);r.oldValue===dt&&(r.oldValue=n),r.timeoutId=setTimeout((function(){var n=r.oldValue;r.oldValue=dt,i.debouncedMethod(t,e,n)}),r.delay)}var vt=function(){function t(){}return t.prototype.bind=function(t,e,n){void 0===n&&(n=200);var i=void 0!==t.callSource,r=i?"callSource":"call",o=i?pt:ft,s=t.mode,a=s===u.r.twoWay||s===u.r.fromView?u.A:u.y;t.debouncedMethod=t[r],t.debouncedMethod.originalName=r,t[r]=o,t.debounceState={callContextToDebounce:a,delay:n,timeoutId:0,oldValue:dt}},t.prototype.unbind=function(t,e){t[t.debouncedMethod.originalName]=t.debouncedMethod,t.debouncedMethod=null,clearTimeout(t.debounceState.timeoutId),t.debounceState=null},t=v([Object(u.q)("debounce")],t)}();function gt(t){var e=function(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}(t);this.target===e&&this.selfEventCallSource(t)}var mt=function(){function t(){}return t.prototype.bind=function(t,e){if(!t.callSource||!t.targetEvent)throw new Error("Self binding behavior only supports event.");t.selfEventCallSource=t.callSource,t.callSource=gt},t.prototype.unbind=function(t,e){t.callSource=t.selfEventCallSource,t.selfEventCallSource=null},t=v([Object(u.q)("self")],t)}(),bt=function(){function t(){this.signals={}}return t.prototype.signal=function(t){var e=this.signals[t];if(e)for(var n=e.length;n--;)e[n].call(u.y)},t}(),wt=function(){function t(t){this.signals=t.signals}return t.inject=function(){return[bt]},t.prototype.bind=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!t.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");var r=this.signals;if(1===n.length){var o=n[0];(r[o]||(r[o]=[])).push(t),t.signalName=o}else{if(!(n.length>1))throw new Error("Signal name is required.");for(var s=n.length;s--;){var a=n[s];(r[a]||(r[a]=[])).push(t)}t.signalName=n}},t.prototype.unbind=function(t,e){var n=this.signals,i=t.signalName;if(t.signalName=null,Array.isArray(i))for(var r=i,o=r.length;o--;){var s;(s=n[r[o]]).splice(s.indexOf(t),1)}else(s=n[i]).splice(s.indexOf(t),1)},t=v([Object(u.q)("signal")],t)}(),yt="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">",Ct="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.",St=function(){function t(){}return t.prototype.bind=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(0===n.length)throw new Error(yt);if(t.mode!==u.r.twoWay&&t.mode!==u.r.fromView)throw new Error(Ct);var r=t.observerLocator.getObserver(t.target,t.targetProperty);if(!r.handler)throw new Error(Ct);t.targetObserver=r,r.originalHandler=t.targetObserver.handler;var o=new u.h(n);r.handler=o},t.prototype.unbind=function(t,e){var n=t.targetObserver;n.handler.dispose(),n.handler=n.originalHandler,n.originalHandler=null},t=v([Object(u.q)("updateTrigger")],t)}();function Vt(t){var e=t.container.get(a.n),n=t.aurelia.loader;e.addResourcePlugin(".html",{fetch:function(t){return n.loadTemplate(t).then((function(e){var n,i=e.template.getAttribute("bindable"),r=e.template.getAttribute("use-shadow-dom"),o=/([^\/^\?]+)\.html/i.exec(t)[1].toLowerCase();return i?(i=i.split(",").map((function(t){return t.trim()})),e.template.removeAttribute("bindable")):i=[],(n={})[o]=function(t){for(var e=t.name,n=t.viewUrl,i=t.bindableNames,r=t.useShadowDOMmode,o=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t=v([Object(a.t)(e),Object(a.z)(n)],t)}(),s=0,u=i.length;s<u;++s)Object(a.r)(i[s])(o);switch(r){case"open":Object(a.y)({mode:"open"})(o);break;case"closed":Object(a.y)({mode:"closed"})(o);break;case"":Object(a.y)(o);break;case null:break;default:Object(c.getLogger)("aurelia-html-only-element").warn('Expected \'use-shadow-dom\' value to be "close", "open" or "", received '+r)}return o}({name:o,viewUrl:t,bindableNames:i,useShadowDOMmode:r}),n}))}})}function _t(t){o.b.injectStyles(".aurelia-hide { display:none !important; }"),t.globalResources(g,C,S,V,q,W,$,Y,J,Z,ot,st,at,ut,ct,ht,vt,mt,wt,St,it),Vt(t);var e=t.container.get(a.n),n={fetch:function(t){var e;return(e={})[t]=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return f(n,e),n=v([Object(a.w)(new et(t))],n)}(nt)}(t),e}};[".css",".less",".sass",".scss",".styl"].forEach((function(t){return e.addResourcePlugin(t,n)}))}}).call(this,n("CW7D"))},"aurelia-templating-router":function(t,e,n){"use strict";(function(t){n.d(e,"configure",(function(){return w}));var i=n("4ysu"),r=n("qrcG"),o=n("iD3O"),s=n("hij8"),a=n("3U8n"),u=n("X5gX"),c=n("70NS"),l=n("MP1E"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var d=function(){},p=function(){function e(t,e,n,i,r,o,s){this.element=t,this.container=e,this.viewSlot=n,this.router=i,this.viewLocator=r,this.compositionTransaction=o,this.compositionEngine=s,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in o||(o.initialComposition=!0,this.compositionTransactionNotifier=o.enlist())}return e.inject=function(){return[c.b.Element,a.a,s.q,i.c,s.o,s.f,s.e]},e.prototype.created=function(t){this.owningView=t},e.prototype.bind=function(t,e){this.container.viewModel=t,this.overrideContext=e},e.prototype.process=function(t,e){var n=this,i=t,o=i.component,a=o.childContainer,u=o.viewModel,c=o.viewModelResource,l=c.metadata,h=o.router.currentInstruction.config,d=h.viewPorts&&h.viewPorts[i.name]||{};a.get(f)._notify(this);var p={viewModel:d.layoutViewModel||h.layoutViewModel||this.layoutViewModel,view:d.layoutView||h.layoutView||this.layoutView,model:d.layoutModel||h.layoutModel||this.layoutModel,router:i.component.router,childContainer:a,viewSlot:this.viewSlot},v=this.viewLocator.getViewStrategy(o.view||u);return v&&o.view&&v.makeRelativeTo(r.a.get(o.router.container.viewModel.constructor).moduleId),l.load(a,c.value,null,v,!0).then((function(t){n.compositionTransactionNotifier||(n.compositionTransactionOwnershipToken=n.compositionTransaction.tryCapture()),(p.viewModel||p.view)&&(i.layoutInstruction=p);var r=s.b.dynamic(n.element,u,t);if(i.controller=l.create(a,r),e)return null;n.swap(i)}))},e.prototype.swap=function(e){var n=this,i=e,r=i.controller,o=i.layoutInstruction,a=this.view,c=function(){var e=s.i[n.swapOrder]||s.i.after,i=n.viewSlot;e(i,a,(function(){return t.resolve(i.add(n.view))})).then((function(){n._notify()}))},l=function(t){r.automate(n.overrideContext,t);var e=n.compositionTransactionOwnershipToken;return e?e.waitForCompositionComplete().then((function(){return n.compositionTransactionOwnershipToken=null,c()})):c()};return o?(o.viewModel||(o.viewModel=new d),this.compositionEngine.createController(o).then((function(t){var e=t.view;return s.h.distributeView(r.view,t.slots||e.slots),t.automate(Object(u.u)(o.viewModel),n.owningView),e.children.push(r.view),e||t})).then((function(t){return n.view=t,l(t)}))):(this.view=r.view,l(this.owningView))},e.prototype._notify=function(){var t=this.compositionTransactionNotifier;t&&(t.done(),this.compositionTransactionNotifier=null)},e.$view=null,e.$resource={name:"router-view",bindables:["swapOrder","layoutView","layoutViewModel","layoutModel","inherit-binding-context"]},e}(),f=function(){function e(){var e=this;this.promise=new t((function(t){return e.resolve=t}))}return e.prototype.findNearest=function(){return this.promise},e.prototype._notify=function(t){this.resolve(t)},e}(),v=function(){};s.u("<template></template>")(v);var g=function(e){function n(t){var n=e.call(this)||this;return n.compositionEngine=t,n}return function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,e),n.prototype.resolveViewModel=function(e,n){return new t((function(t,i){var a;if("moduleId"in n){var u=n.moduleId;return null===u?a=v:(u=Object(o.d)(u,r.a.get(e.container.viewModel.constructor).moduleId),a=/\.html/i.test(u)?function(t){var e=/([^\/^\?]+)\.html/i.exec(t)[1],n=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}();return Object(s.t)(e)(n),Object(s.z)(t)(n),n}(u):u),t(a)}i(new Error('Invalid route config. No "moduleId" found.'))}))},n.prototype.createChildContainer=function(t){var e=t.container.createChild();return e.registerSingleton(f),e.getChildRouter=function(){var n;return e.registerHandler(i.c,(function(){return n||(n=t.createChild(e))})),e.get(i.c)},e},n.prototype.loadRoute=function(t,e,n){var i=this;return this.resolveViewModel(t,e).then((function(n){return i.compositionEngine.ensureViewModel({viewModel:n,childContainer:i.createChildContainer(t),view:e.view||e.viewStrategy,router:t})}))},n.inject=[s.e],n}(i.b);var m=Object(l.getLogger)("route-href"),b=function(){function t(t,e){this.router=t,this.element=e,this.attribute="href"}return t.inject=function(){return[i.c,c.b.Element]},t.prototype.bind=function(){this.isActive=!0,this.processChange()},t.prototype.unbind=function(){this.isActive=!1},t.prototype.attributeChanged=function(t,e){return e&&this.element.removeAttribute(e),this.processChange()},t.prototype.processChange=function(){var t=this;return this.router.ensureConfigured().then((function(){if(!t.isActive)return null;var e=t.element,n=t.router.generate(t.route,t.params);return e.au.controller?e.au.controller.viewModel[t.attribute]=n:e.setAttribute(t.attribute,n),null})).catch((function(t){m.error(t)}))},t.$resource={type:"attribute",name:"route-href",bindables:[{name:"route",changeHandler:"processChange",primaryProperty:!0},{name:"params",changeHandler:"processChange"},"attribute"]},t}();function w(t){t.singleton(i.b,g).singleton(i.c,i.a).globalResources(p,b),t.container.registerAlias(i.c,i.a)}}).call(this,n("CW7D"))},"aurelia-testing":function(t,e,n){"use strict";n.r(e),n.d(e,"configure",(function(){return a}));var i=n("aurelia-testing/compile-spy");n.d(e,"CompileSpy",(function(){return i.CompileSpy}));var r=n("aurelia-testing/view-spy");n.d(e,"ViewSpy",(function(){return r.ViewSpy}));var o=n("RZ7W");n.d(e,"StageComponent",(function(){return o.b})),n.d(e,"ComponentTester",(function(){return o.a}));var s=n("QgUw");function a(t){t.globalResources(["./compile-spy","./view-spy"])}n.d(e,"waitFor",(function(){return s.a})),n.d(e,"waitForDocumentElement",(function(){return s.b})),n.d(e,"waitForDocumentElements",(function(){return s.c}))},"aurelia-testing/compile-spy":function(t,e,n){"use strict";n.r(e),n.d(e,"CompileSpy",(function(){return u}));var i=n("hij8"),r=n("3U8n"),o=n("MP1E"),s=n("70NS"),a=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},u=function(){function t(t,e){Object(o.getLogger)("compile-spy").info(t.toString(),e)}return t=a([Object(i.s)("compile-spy"),Object(r.f)(s.b.Element,i.j)],t)}()},"aurelia-testing/view-spy":function(t,e,n){"use strict";n.r(e),n.d(e,"ViewSpy",(function(){return s}));var i=n("hij8"),r=n("MP1E"),o=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(){function t(){this.logger=Object(r.getLogger)("view-spy")}return t.prototype._log=function(t,e){this.value||"created"!==t?this.value&&-1!==this.value.indexOf(t)&&this.logger.info(t,this.view,e):this.logger.info(t,this.view)},t.prototype.created=function(t){this.view=t,this._log("created")},t.prototype.bind=function(t){this._log("bind",t)},t.prototype.attached=function(){this._log("attached")},t.prototype.detached=function(){this._log("detached")},t.prototype.unbind=function(){this._log("unbind")},t=o([Object(i.s)("view-spy")],t)}()},hij8:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E})),n.d(e,"f",(function(){return F})),n.d(e,"b",(function(){return W})),n.d(e,"j",(function(){return K})),n.d(e,"o",(function(){return it})),n.d(e,"c",(function(){return ot})),n.d(e,"h",(function(){return lt})),n.d(e,"p",(function(){return pt})),n.d(e,"l",(function(){return ft})),n.d(e,"q",(function(){return gt})),n.d(e,"d",(function(){return Ot})),n.d(e,"m",(function(){return Nt})),n.d(e,"n",(function(){return Pt})),n.d(e,"g",(function(){return Wt})),n.d(e,"i",(function(){return Yt})),n.d(e,"e",(function(){return te})),n.d(e,"w",(function(){return ee})),n.d(e,"t",(function(){return ne})),n.d(e,"s",(function(){return ie})),n.d(e,"x",(function(){return re})),n.d(e,"r",(function(){return oe})),n.d(e,"y",(function(){return ae})),n.d(e,"z",(function(){return ce})),n.d(e,"u",(function(){return le})),n.d(e,"v",(function(){return he})),n.d(e,"k",(function(){return de}));var i,r,o,s,a,u,c,l,h,d,p,f,v,g,m,b,w,y,C,S,V=n("MP1E"),_=n("qrcG"),O=n("70NS"),M=n("ZdUM"),x=n("iD3O"),A=n("X5gX"),k=n("3U8n"),j=n("K/SW"),N=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=function(){function e(){}return e.prototype.enter=function(e){return t.resolve(!1)},e.prototype.leave=function(e){return t.resolve(!1)},e.prototype.removeClass=function(e,n){return e.classList.remove(n),t.resolve(!1)},e.prototype.addClass=function(e,n){return e.classList.add(n),t.resolve(!1)},e.prototype.animate=function(e,n){return t.resolve(!1)},e.prototype.runSequence=function(t){},e.prototype.registerEffect=function(t,e){},e.prototype.unregisterEffect=function(t){},e}(),I=function(){function t(t){this.owner=t,this.owner._compositionCount++}return t.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},t}(),B=function(){function e(t){this.owner=t,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return e.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},e.prototype.resolve=function(){this._resolveCallback()},e.prototype._createThenable=function(){var e=this;return new t((function(t,n){e._resolveCallback=t}))},e}(),F=function(){function t(){this._ownershipToken=null,this._compositionCount=0}return t.prototype.tryCapture=function(){return null===this._ownershipToken?new B(this):null},t.prototype.enlist=function(){return new I(this)},t.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var t=this._ownershipToken;this._ownershipToken=null,t.resolve()}},t}(),L=/([A-Z])/g;function P(t){return"-"+t.toLowerCase()}function R(t){return(t.charAt(0).toLowerCase()+t.slice(1)).replace(L,P)}function D(t){return!(t.auInterpolationTarget||/[^\t\n\r ]/.test(t.textContent))}var q=function(){function t(){}return t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerViewEngineHooks(this.instance)},t.prototype.load=function(t,e){},t.convention=function(e){if(e.endsWith("ViewEngineHooks"))return new t},t}();var z=(r=i=function(){function t(t){this.element=t,this.subscriptions={}}return t.prototype._enqueueHandler=function(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[],this.subscriptions[t.eventName].push(t)},t.prototype._dequeueHandler=function(t){var e=void 0,n=this.subscriptions[t.eventName];return n&&(e=n.indexOf(t))>-1&&n.splice(e,1),t},t.prototype.publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=O.b.createCustomEvent(t,{cancelable:i,bubbles:n,detail:e});this.element.dispatchEvent(r)},t.prototype.subscribe=function(e,n,i){if("function"==typeof n)return void 0===i&&(i=t.defaultListenerOptions),new H(this,e,n,i,!1)},t.prototype.subscribeOnce=function(e,n,i){if("function"==typeof n)return void 0===i&&(i=t.defaultListenerOptions),new H(this,e,n,i,!0)},t.prototype.dispose=function(t){if(t&&"string"==typeof t){var e=this.subscriptions[t];if(e)for(;e.length;){var n=e.pop();n&&n.dispose()}}else this.disposeAll()},t.prototype.disposeAll=function(){for(var t in this.subscriptions)this.dispose(t)},t}(),i.defaultListenerOptions=!0,r),H=function(){function t(t,e,n,i,r){this.owner=t,this.eventName=e,this.handler=n,this.capture="boolean"==typeof i?i:i.capture,this.bubbles=!this.capture,this.captureOrOptions=i,this.once=r,t.element.addEventListener(e,this,i),t._enqueueHandler(this)}return t.prototype.handleEvent=function(t){(0,this.handler)(t),this.once&&this.dispose()},t.prototype.dispose=function(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions),this.owner._dequeueHandler(this),this.owner=this.handler=null},t}(),U=function(){function t(){this.dependencies={}}return t.prototype.addDependency=function(t){this.dependencies[t]=!0},t.prototype.hasDependency=function(t){return t in this.dependencies},t}(),Q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=t,this.compileSurrogate=e,this.associatedModuleId=null};Q.normal=new Q;var W=function(){function t(){}return t.enhance=function(){var e=new t;return e.enhance=!0,e},t.unitTest=function(e,n){var i=new t;return i.type=e,i.attributes=n||{},i},t.element=function(e,n){var i=new t;return i.type=n,i.attributes={},i.anchorIsContainer=!(e.hasAttribute("containerless")||n.containerless),i.initiatedByBehavior=!0,i},t.attribute=function(e,n){var i=new t;return i.attrName=e,i.type=n||null,i.attributes={},i},t.dynamic=function(e,n,i){var r=new t;return r.host=e,r.viewModel=n,r.viewFactory=i,r.inheritBindingContext=!0,r},t}(),$=W.prototype;$.initiatedByBehavior=!1,$.enhance=!1,$.partReplacements=null,$.viewFactory=null,$.originalAttrName=null,$.skipContentProcessing=!1,$.contentFactory=null,$.viewModel=null,$.anchorIsContainer=!1,$.host=null,$.attributes=null,$.type=null,$.attrName=null,$.inheritBindingContext=!1,W.normal=new W;var K=(s=o=function(){function t(){}return t.shadowSlot=function(e){var n=new t;return n.parentInjectorId=e,n.shadowSlot=!0,n},t.contentExpression=function(e){var n=new t;return n.contentExpression=e,n},t.letElement=function(e){var n=new t;return n.expressions=e,n.letElement=!0,n},t.lifting=function(e,n){var i=new t;return i.parentInjectorId=e,i.expressions=t.noExpressions,i.behaviorInstructions=[n],i.viewFactory=n.viewFactory,i.providers=[n.type.target],i.lifting=!0,i},t.normal=function(e,n,i,r,o,s){var a=new t;return a.injectorId=e,a.parentInjectorId=n,a.providers=i,a.behaviorInstructions=r,a.expressions=o,a.anchorIsContainer=!s||s.anchorIsContainer,a.elementInstruction=s,a},t.surrogate=function(e,n,i,r){var o=new t;return o.expressions=i,o.behaviorInstructions=n,o.providers=e,o.values=r,o},t}(),o.noExpressions=Object.freeze([]),s),X=K.prototype;X.injectorId=null,X.parentInjectorId=null,X.shadowSlot=!1,X.slotName=null,X.slotFallbackFactory=null,X.contentExpression=null,X.letElement=!1,X.expressions=null,X.expressions=null,X.providers=null,X.viewFactory=null,X.anchorIsContainer=!1,X.elementInstruction=null,X.lifting=!1,X.values=null;var G=_.d.create("aurelia:view-strategy",{validate:function(t){return"function"==typeof t.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(t){"function"!=typeof t.makeRelativeTo&&(t.makeRelativeTo=O.d.noop)}}),Z=G()(a=function(){function t(t){this.path=t,this.absolutePath=null}return t.prototype.loadViewFactory=function(t,e,n,i){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=Object(x.d)(this.path,this.moduleId)),e.associatedModuleId=this.moduleId,t.loadViewFactory(this.absolutePath||this.path,e,n,i)},t.prototype.makeRelativeTo=function(t){null===this.absolutePath&&(this.absolutePath=Object(x.d)(this.path,t))},t}())||a,Y=G()(u=function(){function t(t,e){this.moduleId=e.moduleId,this.viewUrl=t.convertOriginToViewUrl(e)}return t.prototype.loadViewFactory=function(t,e,n,i){return e.associatedModuleId=this.moduleId,t.loadViewFactory(this.viewUrl,e,n,i)},t}())||u,J=G()(c=function(){function e(t,e){this.dependencies=t||null,this.dependencyBaseUrl=e||""}return e.prototype.loadViewFactory=function(e,n,i,r){var o=this.entry,s=this.dependencies;if(o&&o.factoryIsReady)return t.resolve(null);if(this.entry=o=new M.b(this.moduleId||this.dependencyBaseUrl),o.dependencies=[],o.templateIsLoaded=!0,null!==s)for(var a=0,u=s.length;a<u;++a){var c=s[a];"string"==typeof c||"function"==typeof c?o.addDependency(c):o.addDependency(c.from,c.as)}return n.associatedModuleId=this.moduleId,e.loadViewFactory(o,n,i,r)},e}())||c,tt=G()(l=function(){function e(t,e){this.moduleId=t,this.entry=e}return e.prototype.loadViewFactory=function(e,n,i,r){var o=this.entry;return o.factoryIsReady?t.resolve(o.factory):(n.associatedModuleId=this.moduleId,e.loadViewFactory(o,n,i,r))},e}())||l,et=G()(h=function(){function e(t,e,n){this.markup=t,this.dependencies=e||null,this.dependencyBaseUrl=n||""}return e.prototype.loadViewFactory=function(e,n,i,r){var o=this.entry,s=this.dependencies;if(o&&o.factoryIsReady)return t.resolve(o.factory);if(this.entry=o=new M.b(this.moduleId||this.dependencyBaseUrl),o.template=O.b.createTemplateFromMarkup(this.markup),null!==s)for(var a=0,u=s.length;a<u;++a){var c=s[a];"string"==typeof c||"function"==typeof c?o.addDependency(c):o.addDependency(c.from,c.as)}return n.associatedModuleId=this.moduleId,e.loadViewFactory(o,n,i,r)},e}())||h,nt=G()(d=function(){function e(t){("string"==typeof t||t instanceof O.b.Element&&"TEMPLATE"===t.tagName)&&(t={template:t}),this.template=t.template,this.dependencies=t.dependencies||[],this.factoryIsReady=!1,this.onReady=null,this.moduleId="undefined"}return e.prototype.loadViewFactory=function(e,n,i,r){var o=this;if(this.factoryIsReady)return t.resolve(this.factory);var s=this.dependencies;return s=(s="function"==typeof s?s():s)||[],s=Array.isArray(s)?s:[s],t.all(s).then((function(i){var s=e.container,a=e.appResources,u=e.viewCompiler,c=new pt(a),l=void 0,h=[];r&&c.autoRegister(s,r);var d=i,p=Array.isArray(d),f=0;for(d=p?d:d[Symbol.iterator]();;){var v;if(p){if(f>=d.length)break;v=d[f++]}else{if((f=d.next()).done)break;v=f.value}var g=v;if("function"==typeof g)null!==(l=c.autoRegister(s,g)).elementName&&h.push(l);else{if(!g||"object"!==(void 0===g?"undefined":T(g)))throw new Error('dependency neither function nor object. Received: "'+(void 0===g?"undefined":T(g))+'"');for(var m in g){var b=g[m];"function"==typeof b&&null!==(l=c.autoRegister(s,b)).elementName&&h.push(l)}}}return t.all(h.map((function(t){return t.load(s,t.target)}))).then((function(){var t=null!==o.template?u.compile(o.template,c,n):null;return o.factoryIsReady=!0,o.factory=t,t}))}))},e}())||d,it=(f=p=function(){function t(){}return t.prototype.getViewStrategy=function(e){if(!e)return null;if("object"===(void 0===e?"undefined":T(e))&&"getViewStrategy"in e){var n=_.a.get(e.constructor);return"string"==typeof(e=e.getViewStrategy())&&(e=new Z(e)),G.assert(e),n.moduleId&&e.makeRelativeTo(n.moduleId),e}if("string"==typeof e&&(e=new Z(e)),G.validate(e))return e;if("function"!=typeof e&&(e=e.constructor),"$view"in e){var i=e.$view,r=void 0;return r=null===(i="function"==typeof i?i.call(e):i)?new J:i instanceof nt?i:new nt(i),_.b.define(t.viewStrategyMetadataKey,r,e),r}var o=_.a.get(e),s=_.b.get(t.viewStrategyMetadataKey,e);if(s)o.moduleId&&(s.moduleId=o.moduleId);else{if(!o.moduleId)throw new Error("Cannot determine default view strategy for object.",e);s=this.createFallbackViewStrategy(o)}return s},t.prototype.createFallbackViewStrategy=function(t){return new Y(this,t)},t.prototype.convertOriginToViewUrl=function(t){var e=t.moduleId;return(e.endsWith(".js")||e.endsWith(".ts")?e.substring(0,e.length-3):e)+".html"},t}(),p.viewStrategyMetadataKey="aurelia:view-strategy",f);function rt(t){throw new Error("BindingLanguage must implement "+t+"().")}var ot=function(){function t(){}return t.prototype.inspectAttribute=function(t,e,n,i){rt("inspectAttribute")},t.prototype.createAttributeInstruction=function(t,e,n,i){rt("createAttributeInstruction")},t.prototype.createLetExpressions=function(t,e){rt("createLetExpressions")},t.prototype.inspectTextContent=function(t,e){rt("inspectTextContent")},t}(),st=Object.freeze([]),at=function(){function t(t){this.element=t,this.element.auSlotAttribute=this}return t.inject=function(){return[O.b.Element]},t.prototype.valueChanged=function(t,e){},t}(),ut=function(){function t(t,e,n,i){this.anchor=t,this.anchor.viewSlot=this,this.name=e,this.destinationName=n,this.fallbackFactory=i,this.destinationSlot=null,this.projections=0,this.contentView=null,new at(this.anchor).value=this.destinationName}return t.prototype.renderFallbackContent=function(t,e,n,i){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var r=Object.create(null);r[this.destinationSlot.name]=this.destinationSlot,lt.distributeView(this.contentView,r,n,i,this.destinationSlot.name)}},t.prototype.passThroughTo=function(t){this.destinationSlot=t},t.prototype.addNode=function(e,n,i,r){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),n.viewSlot instanceof t?n.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(e,n,i,r))},t.prototype.removeView=function(t,e){this.projections--,this.destinationSlot.removeView(t,e),this.needsFallbackRendering&&this.renderFallbackContent(null,st,e)},t.prototype.removeAll=function(t){this.projections=0,this.destinationSlot.removeAll(t),this.needsFallbackRendering&&this.renderFallbackContent(null,st,t)},t.prototype.projectFrom=function(t,e){this.destinationSlot.projectFrom(t,e)},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},N(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),ct=function(){function t(t,e,n){this.anchor=t,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=e,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return t.prototype.addNode=function(t,e,n,i,r){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof ut)e.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)lt.distributeNodes(t,[e],this.destinationSlots,this,i);else{e.auOwnerView=t,e.auProjectionSource=n,e.auAssignedSlot=this;var o=this._findAnchor(t,e,n,i);o.parentNode.insertBefore(e,o),this.children.push(e),this.projections++}},t.prototype.removeView=function(t,e){if(null!==this.destinationSlots)lt.undistributeView(t,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)lt.undistributeView(t,this.contentView.slots,e);else{var n=this.children.find((function(t){return t.auSlotProjectFrom===e}));if(n){for(var i=n.auProjectionChildren,r=this.children,o=0,s=i.length;o<s;++o){var a=i[o];if(a.auOwnerView===t){i.splice(o,1),t.fragment.appendChild(a),o--,s--,this.projections--;var u=r.indexOf(a);u>-1&&r.splice(u,1)}}this.needsFallbackRendering&&this.renderFallbackContent(t,st,e)}}},t.prototype.removeAll=function(t){if(null!==this.destinationSlots)lt.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)lt.undistributeAll(this.contentView.slots,t);else{var e=this.children.find((function(e){return e.auSlotProjectFrom===t}));if(e){for(var n=e.auProjectionChildren,i=this.children,r=0,o=n.length;r<o;++r){var s=n[r];s.auOwnerView.fragment.appendChild(s),this.projections--;var a=i.indexOf(s);a>-1&&i.splice(a,1)}e.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,st,t)}}},t.prototype._findAnchor=function(t,e,n,i){if(n){var r=this.children.find((function(t){return t.auSlotProjectFrom===n}));if(r){if(void 0!==i)for(var o=r.auProjectionChildren,s=-1,a=void 0,u=0,c=o.length;u<c;++u){var l=o[u];if(l.auOwnerView!==a&&(s++,a=l.auOwnerView,s>=i&&a!==t))return o.splice(u,0,e),l}return r.auProjectionChildren.push(e),r}}return this.anchor},t.prototype.projectTo=function(t){this.destinationSlots=t},t.prototype.projectFrom=function(t,e){var n=O.b.createComment("anchor"),i=this.anchor.parentNode;n.auSlotProjectFrom=e,n.auOwnerView=t,n.auProjectionChildren=[],i.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},t.prototype.renderFallbackContent=function(t,e,n,i){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var r=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var s in r)for(var a=r[s],u=0,c=o.length;u<c;++u){var l=o[u];a.projectFrom(l.auOwnerView,l.auSlotProjectFrom)}this.fallbackSlots=r,lt.distributeNodes(t,e,r,n,i)}},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},N(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),lt=(g=v=function(){function t(){}return t.getSlotName=function(e){return void 0===e.auSlotAttribute?t.defaultSlotKey:e.auSlotAttribute.value},t.distributeView=function(e,n,i,r,o){var s=void 0;if(null===e)s=st;else{var a=e.fragment.childNodes,u=a.length;s=new Array(u);for(var c=0;c<u;++c)s[c]=a[c]}t.distributeNodes(e,s,n,i,r,o)},t.undistributeView=function(t,e,n){for(var i in e)e[i].removeView(t,n)},t.undistributeAll=function(t,e){for(var n in t)t[n].removeAll(e)},t.distributeNodes=function(e,n,i,r,o,s){for(var a=0,u=n.length;a<u;++a){var c=n[a],l=c.nodeType;if(c.isContentProjectionSource){for(var h in c.viewSlot.projectTo(i),i)i[h].projectFrom(e,c.viewSlot);n.splice(a,1),u--,a--}else if(1===l||3===l||c.viewSlot instanceof ut)if(3===l&&D(c))n.splice(a,1),u--,a--;else{var d=i[s||t.getSlotName(c)];d&&(d.addNode(e,c,r,o),n.splice(a,1),u--,a--)}else n.splice(a,1),u--,a--}for(var p in i){var f=i[p];f.needsFallbackRendering&&f.renderFallbackContent(e,n,r,o)}},t}(),v.defaultSlotKey="__au-default-slot-key__",g);function ht(t,e,n,i){if(e){var r=t[e];if(r){if(r!==n)throw new Error("Attempted to register "+i+" when one with the same name already exists. Name: "+e+".")}else t[e]=n}}function dt(t,e){if(/[A-Z]/.test(t)){var n=R(t);return V.getLogger("templating").warn("'"+t+"' is not a valid "+e+" name and has been converted to '"+n+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),n}return t}var pt=function(){function t(t,e){this.bindingLanguage=null,this.parent=t||null,this.hasParent=null!==this.parent,this.viewUrl=e||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return t.convention=function(t,e){var n=void 0;if(e&&"__au_resource__"in e)return e;if("$resource"in t){var i=t.$resource;if("string"==typeof i)(n=e||new Wt).__au_resource__=!0,n.elementName||(n.elementName=dt(i,"custom element"));else{"function"==typeof i&&(i=i.call(t)),"string"==typeof i&&(i={name:i});var r=(i=Object.assign({},i)).type||"element",o=i.name;switch(r){case"element":case"attribute":(n=e||new Wt).__au_resource__=!0,"element"===r?n.elementName||(n.elementName=o?dt(o,"custom element"):R(t.name)):n.attributeName||(n.attributeName=o?dt(o,"custom attribute"):R(t.name)),"templateController"in i&&(i.liftsContent=i.templateController,delete i.templateController),"defaultBindingMode"in i&&void 0!==n.attributeDefaultBindingMode&&(i.attributeDefaultBindingMode=i.defaultBindingMode,delete i.defaultBindingMode),delete i.name,Object.assign(n,i);break;case"valueConverter":n=new A.p(Object(A.s)(o||t.name));break;case"bindingBehavior":n=new A.b(Object(A.s)(o||t.name));break;case"viewEngineHooks":n=new q}}if(n instanceof Wt){var s="string"==typeof i?void 0:i.bindables,a=n.properties;if(Array.isArray(s))for(var u=0,c=s.length;c>u;++u){var l=s[u];if(!l||"string"!=typeof l&&!l.name)throw new Error('Invalid bindable property at "'+u+'" for class "'+t.name+'". Expected either a string or an object with "name" property.');for(var h=new zt(l),d=!1,p=0,f=a.length;f>p;++p)if(a[p].name===h.name){d=!0;break}d||h.registerWith(t,n)}}}return n},t.prototype._tryAddHook=function(t,e){if("function"==typeof t[e]){for(var n=t[e].bind(t),i=1,r=void 0;void 0!==this[r=e+i.toString()];)i++;this[e]=!0,this[r]=n}},t.prototype._invokeHook=function(t,e,n,i,r){if(this.hasParent&&this.parent._invokeHook(t,e,n,i,r),this[t]){this[t+"1"](e,n,i,r);var o=t+"2";if(this[o]&&(this[o](e,n,i,r),this[o=t+"3"])){this[o](e,n,i,r);for(var s=4;void 0!==this[o=t+s.toString()];)this[o](e,n,i,r),s++}}},t.prototype.registerViewEngineHooks=function(t){this._tryAddHook(t,"beforeCompile"),this._tryAddHook(t,"afterCompile"),this._tryAddHook(t,"beforeCreate"),this._tryAddHook(t,"afterCreate"),this._tryAddHook(t,"beforeBind"),this._tryAddHook(t,"beforeUnbind")},t.prototype.getBindingLanguage=function(t){return this.bindingLanguage||(this.bindingLanguage=t)},t.prototype.patchInParent=function(t){var e=this.parent;this.parent=t||null,this.hasParent=null!==this.parent,null===t.parent&&(t.parent=e,t.hasParent=null!==e)},t.prototype.relativeToView=function(t){return Object(x.d)(t,this.viewUrl)},t.prototype.registerElement=function(t,e){ht(this.elements,t,e,"an Element")},t.prototype.getElement=function(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)},t.prototype.mapAttribute=function(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)},t.prototype.registerAttribute=function(t,e,n){this.attributeMap[t]=n,ht(this.attributes,t,e,"an Attribute")},t.prototype.getAttribute=function(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)},t.prototype.registerValueConverter=function(t,e){ht(this.valueConverters,t,e,"a ValueConverter")},t.prototype.getValueConverter=function(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)},t.prototype.registerBindingBehavior=function(t,e){ht(this.bindingBehaviors,t,e,"a BindingBehavior")},t.prototype.getBindingBehavior=function(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)},t.prototype.registerValue=function(t,e){ht(this.values,t,e,"a value")},t.prototype.getValue=function(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)},t.prototype.autoRegister=function(e,n){var i=_.b.getOwn(_.b.resource,n);return i?i instanceof Wt&&(t.convention(n,i),null===i.attributeName&&null===i.elementName&&Wt.convention(n.name,i),null===i.attributeName&&null===i.elementName&&(i.elementName=R(n.name))):((i=t.convention(n)||Wt.convention(n.name)||A.p.convention(n.name)||A.b.convention(n.name)||q.convention(n.name))||((i=new Wt).elementName=R(n.name)),_.b.define(_.b.resource,i,n)),i.initialize(e,n),i.register(this),i},t}(),ft=function(){function t(t,e,n,i,r,o,s){for(var a in this.container=t,this.viewFactory=e,this.resources=e.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=i,this.bindings=r,this.children=o,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,s){this.hasSlots=!0;break}}return t.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},t.prototype.created=function(){var t,e=void 0,n=this.controllers;for(e=0,t=n.length;e<t;++e)n[e].created(this)},t.prototype.bind=function(t,e,n){var i=void 0,r=void 0,o=void 0,s=void 0,a=void 0;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t,this.overrideContext=e||Object(A.u)(t),this.resources._invokeHook("beforeBind",this),s=0,a=(r=this.bindings).length;s<a;++s)r[s].bind(this);for(null!==this.viewModelScope&&(t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),s=0,a=(i=this.controllers).length;s<a;++s)i[s].bind(this);for(s=0,a=(o=this.children).length;s<a;++s)o[s].bind(t,e,!0);this.hasSlots&&lt.distributeView(this.contentView,this.slots)}},t.prototype.addBinding=function(t){this.bindings.push(t),this.isBound&&t.bind(this)},t.prototype.unbind=function(){var t=void 0,e=void 0,n=void 0,i=void 0,r=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),i=0,r=(e=this.bindings).length;i<r;++i)e[i].unbind();for(i=0,r=(t=this.controllers).length;i<r;++i)t[i].unbind();for(i=0,r=(n=this.children).length;i<r;++i)n[i].unbind();this.bindingContext=null,this.overrideContext=null}},t.prototype.insertNodesBefore=function(t){t.parentNode.insertBefore(this.fragment,t)},t.prototype.appendNodesTo=function(t){t.appendChild(this.fragment)},t.prototype.removeNodes=function(){for(var t=this.fragment,e=this.firstChild,n=this.lastChild,i=void 0;e&&(i=e.nextSibling,t.appendChild(e),e!==n);)e=i},t.prototype.attached=function(){var t=void 0,e=void 0,n=void 0,i=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),n=0,i=(t=this.controllers).length;n<i;++n)t[n].attached();for(n=0,i=(e=this.children).length;n<i;++n)e[n].attached()}},t.prototype.detached=function(){var t=void 0,e=void 0,n=void 0,i=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),n=0,i=(t=this.controllers).length;n<i;++n)t[n].detached();for(n=0,i=(e=this.children).length;n<i;++n)e[n].detached()}},t}();function vt(t){if(void 0!==t.animatableElement)return t.animatableElement;for(var e=t.firstChild;e&&1!==e.nodeType;)e=e.nextSibling;return e&&1===e.nodeType?t.animatableElement=e.classList.contains("au-animate")?e:null:t.animatableElement=null}var gt=function(){function e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.instance;this.anchor=t,this.anchorIsContainer=e,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,t.viewSlot=this,t.isContentProjectionSource=!1}return e.prototype.animateView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",n=vt(t);if(null!==n)switch(e){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+e)}},e.prototype.transformChildNodesIntoView=function(){var t=this.anchor;this.children.push({fragment:t,firstChild:t.firstChild,lastChild:t.lastChild,returnToCache:function(){},removeNodes:function(){for(var e=void 0;e=t.lastChild;)t.removeChild(e)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},e.prototype.bind=function(t,e){var n,i=void 0,r=void 0;if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t=t||this.bindingContext,this.overrideContext=e=e||this.overrideContext,i=0,n=(r=this.children).length;i<n;++i)r[i].bind(t,e,!0)},e.prototype.unbind=function(){if(this.isBound){var t,e=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,e=0,t=n.length;e<t;++e)n[e].unbind()}},e.prototype.add=function(t){if(this.anchorIsContainer?t.appendNodesTo(this.anchor):t.insertNodesBefore(this.anchor),this.children.push(t),this.isAttached)return t.attached(),this.animateView(t,"enter")},e.prototype.insert=function(t,e){var n=this.children,i=n.length;return 0===t&&0===i||t>=i?this.add(e):(e.insertNodesBefore(n[t].firstChild),n.splice(t,0,e),this.isAttached?(e.attached(),this.animateView(e,"enter")):void 0)},e.prototype.move=function(t,e){if(t!==e){var n=this.children,i=n[t];i.removeNodes(),i.insertNodesBefore(n[e].firstChild),n.splice(t,1),n.splice(e,0,i)}},e.prototype.remove=function(t,e,n){return this.removeAt(this.children.indexOf(t),e,n)},e.prototype.removeMany=function(e,n,i){var r=this,o=this.children,s=e.length,a=void 0,u=[];e.forEach((function(t){if(i)t.removeNodes();else{var e=r.animateView(t,"leave");e?u.push(e.then((function(){return t.removeNodes()}))):t.removeNodes()}}));var c=function(){if(r.isAttached)for(a=0;a<s;++a)e[a].detached();if(n)for(a=0;a<s;++a)e[a].returnToCache();for(a=0;a<s;++a){var t=o.indexOf(e[a]);t>=0&&o.splice(t,1)}};return u.length>0?t.all(u).then((function(){return c()})):c()},e.prototype.removeAt=function(t,e,n){var i=this,r=this.children[t],o=function(){return t=i.children.indexOf(r),r.removeNodes(),i.children.splice(t,1),i.isAttached&&r.detached(),e&&r.returnToCache(),r};if(!n){var s=this.animateView(r,"leave");if(s)return s.then((function(){return o()}))}return o()},e.prototype.removeAll=function(e,n){var i=this,r=this.children,o=r.length,s=void 0,a=[];r.forEach((function(t){if(n)t.removeNodes();else{var e=i.animateView(t,"leave");e?a.push(e.then((function(){return t.removeNodes()}))):t.removeNodes()}}));var u=function(){if(i.isAttached)for(s=0;s<o;++s)r[s].detached();if(e)for(s=0;s<o;++s){var t=r[s];t&&t.returnToCache()}i.children=[]};return a.length>0?t.all(a).then((function(){return u()})):u()},e.prototype.attached=function(){var t,e,n=void 0,i=void 0;if(!this.isAttached)for(this.isAttached=!0,n=0,t=(e=this.children).length;n<t;++n)(i=e[n]).attached(),this.animateView(i,"enter")},e.prototype.detached=function(){var t=void 0,e=void 0,n=void 0;if(this.isAttached)for(this.isAttached=!1,t=0,e=(n=this.children).length;t<e;++t)n[t].detached()},e.prototype.projectTo=function(t){var e=this;this.projectToSlots=t,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((function(n){return lt.distributeView(n,t,e)}))},e.prototype._projectionAdd=function(t){lt.distributeView(t,this.projectToSlots,this),this.children.push(t),this.isAttached&&t.attached()},e.prototype._projectionInsert=function(t,e){0===t&&!this.children.length||t>=this.children.length?this.add(e):(lt.distributeView(e,this.projectToSlots,this,t),this.children.splice(t,0,e),this.isAttached&&e.attached())},e.prototype._projectionMove=function(t,e){if(t!==e){var n=this.children,i=n[t];lt.undistributeView(i,this.projectToSlots,this),lt.distributeView(i,this.projectToSlots,this,e),n.splice(t,1),n.splice(e,0,i)}},e.prototype._projectionRemove=function(t,e){lt.undistributeView(t,this.projectToSlots,this),this.children.splice(this.children.indexOf(t),1),this.isAttached&&t.detached(),e&&t.returnToCache()},e.prototype._projectionRemoveAt=function(t,e){var n=this.children[t];lt.undistributeView(n,this.projectToSlots,this),this.children.splice(t,1),this.isAttached&&n.detached(),e&&n.returnToCache()},e.prototype._projectionRemoveMany=function(t,e){var n=this;t.forEach((function(t){return n.remove(t,e)}))},e.prototype._projectionRemoveAll=function(t){lt.undistributeAll(this.projectToSlots,this);for(var e=this.children,n=e.length,i=0;i<n;++i)t?e[i].returnToCache():this.isAttached&&e[i].detached();this.children=[]},e}(),mt=new(Object(k.g)(m=function(){function t(){}return t.prototype.get=function(t,e){var n=e.__providerId__;return n in t?t[n]:t[n]=t.invoke(e)},t}())||m);function bt(t){if(t===O.b.Element)return this.element;if(t===Ot){if(this.boundViewFactory)return this.boundViewFactory;var e=this.instruction.viewFactory,n=this.partReplacements;return n&&(e=n[e.part]||e),this.boundViewFactory=new Ot(this,e,n),this.boundViewFactory}return t===gt?(void 0===this.viewSlot&&(this.viewSlot=new gt(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):t===z?this.elementEvents||(this.elementEvents=new z(this.element)):t===F?this.compositionTransaction||(this.compositionTransaction=this.parent.get(t)):t===pt?this.viewResources:t===K?this.instruction:this.superGet(t)}function wt(t){return this._element.hasAttribute(t)}function yt(t){return this._element.getAttribute(t)}function Ct(t,e){this._element.setAttribute(t,e)}function St(t,e,n,i,r,o,s,a,u){var c=n.behaviorInstructions,l=n.expressions,h=void 0,d=void 0,p=void 0,f=void 0,v=void 0;if(n.contentExpression)return r.push(n.contentExpression.createBinding(e.nextSibling)),e.nextSibling.auInterpolationTarget=!0,void e.parentNode.removeChild(e);if(n.shadowSlot){var g=O.b.createComment("slot"),m=void 0;return m=n.slotDestination?new ut(g,n.slotName,n.slotDestination,n.slotFallbackFactory):new ct(g,n.slotName,n.slotFallbackFactory),O.b.replaceNode(g,e),s[n.slotName]=m,void i.push(m)}if(n.letElement){for(d=0,p=l.length;d<p;++d)r.push(l[d].createBinding());e.parentNode.removeChild(e)}else{if(c.length)for(n.anchorIsContainer||(e=function(t,e){var n=O.b.createComment("anchor");if(e){var i=t.firstChild;i&&"AU-CONTENT"===i.tagName&&(n.contentElement=i),n._element=t,n.hasAttribute=wt,n.getAttribute=yt,n.setAttribute=Ct}return O.b.replaceNode(n,t),n}(e,n.elementInstruction)),t[n.injectorId]=h=function(t,e,n,i,r,o){var s,a=t.createChild(),u=void 0;for(a.element=e,a.instruction=n,a.children=i,a.viewResources=o,a.partReplacements=r,u=(s=n.providers).length;u--;)a._resolvers.set(s[u],mt);return a.superGet=a.get,a.get=bt,a}(t[n.parentInjectorId],e,n,o,a,u),d=0,p=c.length;d<p;++d)v=(f=c[d]).type.create(h,f,e,r),i.push(v);for(d=0,p=l.length;d<p;++d)r.push(l[d].createBinding(e))}}function Vt(t,e){var n=t.split(";"),i=void 0,r=void 0,o=void 0,s=void 0,a=void 0;for(e=e||{},r=0;r<n.length;r++)i=(o=n[r]).indexOf(":"),s=o.substring(0,i).trim(),a=o.substring(i+1).trim(),e[s]=a;return e}function _t(t){var e="";for(var n in t)e+=n+":"+t[n]+";";return e}var Ot=function(){function t(t,e,n){this.parentContainer=t,this.viewFactory=e,this.factoryCreateInstruction={partReplacements:n}}return t.prototype.create=function(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return t._isUserControlled=!0,t},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},N(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),Mt=function(){function t(t,e,n){this.isCaching=!1,this.template=t,this.instructions=e,this.resources=n,this.cacheSize=-1,this.cache=null}return t.prototype.setCacheSize=function(t,e){t&&("*"===t?t=Number.MAX_VALUE:"string"==typeof t&&(t=parseInt(t,10))),-1!==this.cacheSize&&e||(this.cacheSize=t),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},t.prototype.getCachedView=function(){return null!==this.cache&&this.cache.pop()||null},t.prototype.returnViewToCache=function(t){t.isAttached&&t.detached(),t.isBound&&t.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(t.fromCache=!0,this.cache.push(t))},t.prototype.create=function(t,e,n){e=e||W.normal;var i=this.getCachedView();if(null!==i)return i;var r,o=e.enhance?this.template:this.template.cloneNode(!0),s=o.querySelectorAll(".au-target"),a=this.instructions,u=this.resources,c=[],l=[],h=[],d=Object.create(null),p={root:t},f=e.partReplacements,v=void 0,g=void 0,m=void 0,b=void 0;for(this.resources._invokeHook("beforeCreate",this,t,o,e),n&&null!==this.surrogateInstruction&&function(t,e,n,i,r,o){var s=n.behaviorInstructions,a=n.expressions,u=n.providers,c=n.values,l=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(l=u.length;l--;)t._resolvers.set(u[l],mt);for(var v in c)if(f=e.getAttribute(v)){if("class"===v)e.setAttribute("class",f+" "+c[v]);else if("style"===v){var g=Vt(c[v]);Vt(f,g),e.setAttribute("style",_t(g))}}else e.setAttribute(v,c[v]);if(s.length)for(l=0,h=s.length;l<h;++l)(p=(d=s[l]).type.create(t,d,e,r)).contentView&&o.push(p.contentView),i.push(p);for(l=0,h=a.length;l<h;++l)r.push(a[l].createBinding(e))}(t,n,this.surrogateInstruction,c,l,h),e.enhance&&o.hasAttribute("au-target-id")&&(b=a[(m=o).getAttribute("au-target-id")],St(p,m,b,c,l,h,d,f,u)),v=0,r=s.length;v<r;++v)b=a[(m=s[v]).getAttribute("au-target-id")],St(p,m,b,c,l,h,d,f,u);return g=new ft(t,this,o,c,l,h,d),e.initiatedByBehavior||g.created(),this.resources._invokeHook("afterCreate",g),g},t}(),xt=0;var At=0;function kt(t){var e=t.getAttribute("class"),n=(++At).toString();return t.setAttribute("class",e?e+" au-target":"au-target"),t.setAttribute("au-target-id",n),n}var jt=ot.prototype.createLetExpressions,Nt=function(){function t(t,e){this.bindingLanguage=t,this.resources=e}return t.inject=function(){return[ot,pt]},t.prototype.compile=function(t,e,n){e=e||this.resources,n=n||Q.normal;var i=void 0,r=void 0,o=void 0;(t="string"==typeof t?O.b.createTemplateFromMarkup(t):t).content?(r=t.getAttribute("part"),o=t.getAttribute("view-cache"),i=O.b.adoptNode(t.content)):i=t,n.targetShadowDOM=n.targetShadowDOM&&O.c.shadowDOM,e._invokeHook("beforeCompile",i,e,n);var s={};this._compileNode(i,e,s,t,"root",!n.targetShadowDOM);var a=i.firstChild;if(a&&1===a.nodeType){var u=a.getAttribute("au-target-id");if(u){var c=s[u];(c.shadowSlot||c.lifting||c.elementInstruction&&!c.elementInstruction.anchorIsContainer)&&i.insertBefore(O.b.createComment("view"),a)}}var l=new Mt(i,s,e);return l.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(t,e):null,l.part=r,o&&l.setCacheSize(o),e._invokeHook("afterCompile",l),l},t.prototype._compileNode=function(t,e,n,i,r,o){switch(t.nodeType){case 1:return this._compileElement(t,e,n,i,r,o);case 3:var s=e.getBindingLanguage(this.bindingLanguage).inspectTextContent(e,t.wholeText);if(s){var a=O.b.createElement("au-marker"),u=kt(a);for((t.parentNode||i).insertBefore(a,t),t.textContent=" ",n[u]=K.contentExpression(s);t.nextSibling&&3===t.nextSibling.nodeType;)(t.parentNode||i).removeChild(t.nextSibling)}else for(;t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t.nextSibling;case 11:for(var c=t.firstChild;c;)c=this._compileNode(c,e,n,t,r,o)}return t.nextSibling},t.prototype._compileSurrogate=function(t,e){var n=t.tagName.toLowerCase(),i=t.attributes,r=e.getBindingLanguage(this.bindingLanguage),o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,p=void 0,f=void 0,v=[],g=void 0,m=[],b={},w=!1,y=[];for(u=0,c=i.length;u<c;++u){if(h=(l=i[u]).name,d=l.value,p=r.inspectAttribute(e,n,h,d),(f=e.getAttribute(p.attrName))&&(o=e.mapAttribute(p.attrName))&&(s=f.attributes[o])&&(p.defaultBindingMode=s.defaultBindingMode,p.command||p.expression||(p.command=s.hasOptions?"options":null),p.command&&"options"!==p.command&&f.primaryProperty)){var C=f.primaryProperty;h=p.attrName=C.attribute,p.defaultBindingMode=C.defaultBindingMode}if(a=r.createAttributeInstruction(e,t,p,void 0,f))if(a.alteredAttr&&(f=e.getAttribute(a.attrName)),a.discrete)v.push(a);else if(f){if(a.type=f,this._configureProperties(a,e),f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(a)}else v.push(a.attributes[a.attrName]);else if(f){if((a=W.attribute(h,f)).attributes[e.mapAttribute(h)]=d,f.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");m.push(a)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(w=!0,b[h]=d)}if(v.length||m.length||w){for(u=0,c=m.length;u<c;++u)(a=m[u]).type.compile(this,e,t,a),y.push(a.type.target);for(u=0,c=v.length;u<c;++u)void 0!==(g=v[u]).attrToRemove&&t.removeAttribute(g.attrToRemove);return K.surrogate(y,m,v,b)}return null},t.prototype._compileElement=function(t,e,n,i,r,o){var s=t.tagName.toLowerCase(),a=t.attributes,u=[],c=void 0,l=[],h=[],d=e.getBindingLanguage(this.bindingLanguage),p=void 0,f=void 0,v=void 0,g=void 0,m=void 0,b=void 0,w=void 0,y=void 0,C=void 0,S=void 0,V=void 0,_=void 0,M=void 0,x=void 0,A=void 0,k=void 0;if("slot"===s)return o&&(t=function(t,e,n,i,r){var o=O.b.createElement("au-shadow-slot");O.b.replaceNode(o,n);var s=kt(o),a=K.shadowSlot(r);if(a.slotName=n.getAttribute("name")||lt.defaultSlotKey,a.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var u=O.b.createDocumentFragment(),c=void 0;c=n.firstChild;)u.appendChild(c);a.slotFallbackFactory=t.compile(u,e)}return i[s]=a,o}(this,e,t,n,r)),t.nextSibling;if("template"===s){if(!("content"in t))throw new Error("You cannot place a template element within "+t.namespaceURI+" namespace");(f=this.compile(t,e)).part=t.getAttribute("part")}else{if(v=e.getElement(t.getAttribute("as-element")||s),"let"===s&&!v&&d.createLetExpressions!==jt)return u=d.createLetExpressions(e,t),n[kt(t)]=K.letElement(u),t.nextSibling;v&&(g=W.element(t,v),v.processAttributes(this,e,t,a,g),l.push(g))}for(b=0,w=a.length;b<w;++b){if(V=C=(y=a[b]).name,S=y.value,M=d.inspectAttribute(e,s,C,S),o&&"slot"===M.attrName&&(M.attrName=C="au-slot"),m=null,v=e.getAttribute(M.attrName)){if((A=e.mapAttribute(M.attrName))&&(x=v.attributes[A])&&(M.defaultBindingMode=x.defaultBindingMode,M.command||M.expression||(M.command=x.hasOptions?"options":null),M.command&&"options"!==M.command&&v.primaryProperty)){var j=v.primaryProperty;C=M.attrName=j.attribute,M.defaultBindingMode=j.defaultBindingMode}}else g&&(m=g.type.attributes[M.attrName])&&(M.defaultBindingMode=m.defaultBindingMode);if(_=m?d.createAttributeInstruction(e,t,M,g):d.createAttributeInstruction(e,t,M,void 0,v))if(_.alteredAttr&&(v=e.getAttribute(_.attrName)),_.discrete)u.push(_);else if(v){if(_.type=v,this._configureProperties(_,e),v.liftsContent){_.originalAttrName=V,p=_;break}l.push(_)}else m?g.attributes[M.attrName].targetProperty=m.name:u.push(_.attributes[_.attrName]);else if(v){if((_=W.attribute(C,v)).attributes[e.mapAttribute(C)]=S,v.liftsContent){_.originalAttrName=V,p=_;break}l.push(_)}else m&&(g.attributes[C]=S)}if(p)p.viewFactory=f,n[kt(t=p.type.compile(this,e,t,p,i))]=K.lifting(r,p);else{var N=!1;if(u.length||l.length){for(k=!!l.length&&++xt,b=0,w=l.length;b<w;++b)(_=l[b]).type.compile(this,e,t,_,i),h.push(_.type.target),N=N||_.skipContentProcessing;for(b=0,w=u.length;b<w;++b)void 0!==(c=u[b]).attrToRemove&&t.removeAttribute(c.attrToRemove);n[kt(t)]=K.normal(k,r,h,l,u,g)}if(N)return t.nextSibling;for(var T=t.firstChild;T;)T=this._compileNode(T,e,n,t,k||r,o)}return t.nextSibling},t.prototype._configureProperties=function(t,e){var n=t.type,i=t.attrName,r=t.attributes,o=void 0,s=void 0,a=void 0,u=e.mapAttribute(i);for(s in u&&i in r&&u!==i&&(r[u]=r[i],delete r[i]),r)null!==(a=r[s])&&"object"===(void 0===a?"undefined":T(a))&&(o=n.attributes[s],a.targetProperty=void 0!==o?o.name:s)},t}(),Tt=function(){function e(t){this.id=t,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return e.prototype.initialize=function(t){var e=this.mainResource,n=this.resources,i=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==e&&(e.metadata.viewStrategy=i,e.initialize(t));for(var r=0,o=n.length;r<o;++r)(e=n[r]).metadata.viewStrategy=i,e.initialize(t)}},e.prototype.register=function(t,e){var n=this.mainResource,i=this.resources;void 0!==n&&(n.register(t,e),e=null);for(var r=0,o=i.length;r<o;++r)i[r].register(t,e),e=null},e.prototype.load=function(e,n){if(null!==this.onLoaded)return this.loadContext===n?t.resolve():this.onLoaded;var i=this.mainResource,r=this.resources,o=void 0;if(void 0!==i){(o=new Array(r.length+1))[0]=i.load(e,n);for(var s=0,a=r.length;s<a;++s)o[s+1]=r[s].load(e,n)}else{o=new Array(r.length);for(var u=0,c=r.length;u<c;++u)o[u]=r[u].load(e,n)}return this.loadContext=n,this.onLoaded=t.all(o),this.onLoaded},e}(),Et=function(){function t(t,e,n){n||(n=_.b.get(_.b.resource,e))||((n=new Wt).elementName=R(t),_.b.define(_.b.resource,n,e)),n instanceof Wt?void 0===n.elementName?n.elementName=R(t):void 0===n.attributeName?n.attributeName=R(t):null===n.attributeName&&null===n.elementName&&Wt.convention(t,n):n.name||(n.name=R(t)),this.metadata=n,this.value=e}return t.prototype.initialize=function(t){this.metadata.initialize(t,this.value)},t.prototype.register=function(t,e){this.metadata.register(t,e)},t.prototype.load=function(t,e){return this.metadata.load(t,this.value,e)},t}(),It=function(){function t(){this.cache=Object.create(null)}return t.prototype.getAnalysis=function(t){return this.cache[t]},t.prototype.analyze=function(t,e,n){var i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,c=[],l=void 0,h=void 0,d=void 0;if(d=this.cache[t])return d;for(a in d=new Tt(t),this.cache[t]=d,"function"==typeof e&&(e={default:e}),n&&(i=new Et(n,e[n])),e)u=e[a],a!==n&&"function"==typeof u&&((s=_.b.get(_.b.resource,u))?(s instanceof Wt&&(pt.convention(u,s),null===s.attributeName&&null===s.elementName&&Wt.convention(a,s),null===s.attributeName&&null===s.elementName&&(s.elementName=R(a))),!i&&s instanceof Wt&&null!==s.elementName?i=new Et(a,u,s):c.push(new Et(a,u,s))):G.decorates(u)?h=u:u instanceof M.b?h=new tt(t,u):(l=pt.convention(u))||(l=Wt.convention(a))?(null===l.elementName||i?c.push(new Et(a,u,l)):i=new Et(a,u,l),_.b.define(_.b.resource,l,u)):(l=A.p.convention(a)||A.b.convention(a)||q.convention(a))?(c.push(new Et(a,u,l)),_.b.define(_.b.resource,l,u)):r||(r=u,o=a));return!i&&r&&(i=new Et(o,r)),d.moduleInstance=e,d.mainResource=i,d.resources=c,d.viewStrategy=h,d},t}(),Bt=V.getLogger("templating");var Ft=function(){function t(t){var e=this;t.then((function(t){return e.viewFactory=t}))}return t.prototype.create=function(t,e,n,i){return this.viewFactory.create(t,e,n,i)},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},N(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),Lt=null,Pt=(w=b=function(){function e(t,e,n,i,r){this.loader=t,this.container=e,this.viewCompiler=n,this.moduleAnalyzer=i,this.appResources=r,this._pluginMap={},null===Lt&&((Lt=new Wt).attributeName="au-slot",_.b.define(_.b.resource,Lt,at)),Lt.initialize(e,at),Lt.register(r)}return e.inject=function(){return[M.a,k.a,Nt,It,pt]},e.prototype.addResourcePlugin=function(t,e){var n=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=n,this.loader.addPlugin(n,e)},e.prototype.loadViewFactory=function(e,n,i,r){var o=this;return i=i||new U,function(e,n){return n instanceof M.b?t.resolve(n):e.loadTemplate(n)}(this.loader,e).then((function(e){var s=e.address;return e.onReady?i.hasDependency(s)?null===e.template?e.onReady:t.resolve(new Ft(e.onReady)):(i.addDependency(s),e.onReady):(i.addDependency(s),e.onReady=o.loadTemplateResources(e,n,i,r).then((function(t){if(e.resources=t,null===e.template)return e.factory=null;var i=o.viewCompiler.compile(e.template,t,n);return e.factory=i})),e.onReady)}))},e.prototype.loadTemplateResources=function(n,i,r,o){var s=new pt(this.appResources,n.address),a=n.dependencies,u=void 0,c=void 0;if(i=i||Q.normal,0===a.length&&!i.associatedModuleId)return t.resolve(s);if(u=a.map((function(t){return t.src})),c=a.map((function(t){return t.name})),Bt.debug("importing resources for "+n.address,u),o){var l=_.b.get(e.viewModelRequireMetadataKey,o);if(l){for(var h=u.length,d=0,p=l.length;d<p;++d){var f=l[d],v="function"==typeof f?_.a.get(f).moduleId:Object(x.d)(f.src||f,n.address);-1===u.indexOf(v)&&(u.push(v),c.push(f.as))}Bt.debug("importing ViewModel resources for "+i.associatedModuleId,u.slice(h))}}return this.importViewResources(u,c,s,i,r)},e.prototype.importViewModelResource=function(t,e){var n=this;return this.loader.loadModule(t).then((function(i){var r=_.a.get(i).moduleId,o=n.moduleAnalyzer.analyze(r,i,e);if(!o.mainResource)throw new Error('No view model found in module "'+t+'".');return o.initialize(n.container),o.mainResource}))},e.prototype.importViewResources=function(e,n,i,r,o){var s=this;return o=o||new U,r=r||Q.normal,e=e.map((function(t){return s._applyLoaderPlugin(t)})),this.loader.loadAllModules(e).then((function(e){var a=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,p=s.container,f=s.moduleAnalyzer,v=new Array(e.length);for(a=0,u=e.length;a<u;++a)h=e[a],l=_.a.get(h).moduleId,(c=f.analyze(l,h)).initialize(p),c.register(i,n[a]),v[a]=c;for(r.associatedModuleId&&(d=f.getAnalysis(r.associatedModuleId))&&d.register(i),a=0,u=v.length;a<u;++a)v[a]=v[a].load(p,o);return t.all(v).then((function(){return i}))}))},e.prototype._applyLoaderPlugin=function(t){var e=t.lastIndexOf(".");if(-1!==e){var n=t.substring(e),i=this._pluginMap[n];return void 0===i?t:this.loader.applyPluginToUrl(t,i)}return t},e}(),b.viewModelRequireMetadataKey="aurelia:view-model-require",w),Rt=function(){function t(t,e,n,i){this.behavior=t,this.instruction=e,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=i,this.elementEvents=i.elementEvents||null;var r,o=t.observerLocator.getOrCreateObserversLookup(n),s=t.handlesBind,a=e.attributes,u=this.boundProperties=[],c=t.properties,l=void 0;for(t._ensurePropertiesDefined(n,o),l=0,r=c.length;l<r;++l)c[l]._initialize(n,o,a,s,u)}return t.prototype.created=function(t){this.behavior.handlesCreated&&this.viewModel.created(t,this.view)},t.prototype.automate=function(t,e){this.view.bindingContext=this.viewModel,this.view.overrideContext=t||Object(A.u)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(e||null,this.view),this.bind(this.view)},t.prototype.bind=function(t){var e,n=this.behavior.handlesBind,i=this.boundProperties,r=void 0,o=void 0,s=void 0,a=void 0;if(this.isBound){if(this.scope===t)return;this.unbind()}for(this.isBound=!0,this.scope=t,r=0,e=i.length;r<e;++r)a=(s=(o=i[r]).observer).selfSubscriber,s.publishing=!1,n&&(s.selfSubscriber=null),o.binding.bind(t),s.call(),s.publishing=!0,s.selfSubscriber=a;var u=void 0;null!==this.view?(n&&(this.view.viewModelScope=t),this.viewModel===t.overrideContext.bindingContext?u=t.overrideContext:this.instruction.inheritBindingContext?u=Object(A.u)(this.viewModel,t.overrideContext):(u=Object(A.u)(this.viewModel)).__parentOverrideContext=t.overrideContext,this.view.bind(this.viewModel,u)):n&&(u=t.overrideContext,void 0!==t.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((u=Object.assign({},t.overrideContext)).parentOverrideContext=t.overrideContext.__parentOverrideContext),this.viewModel.bind(t.bindingContext,u))},t.prototype.unbind=function(){if(this.isBound){var t,e=this.boundProperties,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),n=0,t=e.length;n<t;++n)e[n].binding.unbind()}},t.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},t.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},t}(),Dt=Object(A.z)()(y=function(){function t(t,e,n,i,r){this.taskQueue=t,this.obj=e,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=i,this.currentValue=this.oldValue=r}return t.prototype.getValue=function(){return this.currentValue},t.prototype.setValue=function(t){var e=this.currentValue;Object.is(t,e)||(this.oldValue=e,this.currentValue=t,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.notqueued=!0,Object.is(e,t)||(this.selfSubscriber&&this.selfSubscriber(e,t),this.callSubscribers(e,t),this.oldValue=e)},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t}())||y;function qt(t,e){var n=t.__observers__;if(void 0===n){var i=Object.getPrototypeOf(t).constructor,r=_.b.get(_.b.resource,i);r.isInitialized||r.initialize(k.a.instance||new k.a,t.constructor),n=r.observerLocator.getOrCreateObserversLookup(t),r._ensurePropertiesDefined(t,n)}return n[e]}var zt=function(){function t(t){"string"==typeof t?this.name=t:Object.assign(this,t),this.attribute=this.attribute||R(this.name);var e=this.defaultBindingMode;null==e?this.defaultBindingMode=A.r.oneWay:"string"==typeof e&&(this.defaultBindingMode=A.r[e]||A.r.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return t.prototype.registerWith=function(t,e,n){if(e.properties.push(this),e.attributes[this.attribute]=this,this.owner=e,n)return this.descriptor=n,this._configureDescriptor(n)},t.prototype._configureDescriptor=function(t){var e=this.name;return t.configurable=!0,t.enumerable=!0,"initializer"in t&&(this.defaultValue=t.initializer,delete t.initializer,delete t.writable),"value"in t&&(this.defaultValue=t.value,delete t.value,delete t.writable),t.get=function(){return qt(this,e).getValue()},t.set=function(t){qt(this,e).setValue(t)},t.get.getObserver=function(t){return qt(t,e)},t},t.prototype.defineOn=function(t,e){var n=this.name,i=void 0;null===this.changeHandler&&(i=n+"Changed")in t.prototype&&(this.changeHandler=i),null===this.descriptor&&Object.defineProperty(t.prototype,n,this._configureDescriptor(e,{}))},t.prototype.createObserver=function(t){var e=null,n=this.defaultValue,i=this.changeHandler,r=this.name,o=void 0;if(!this.hasOptions){if(i in t)e="propertyChanged"in t?function(e,n){t[i](e,n),t.propertyChanged(r,e,n)}:function(e,n){return t[i](e,n)};else if("propertyChanged"in t)e=function(e,n){return t.propertyChanged(r,e,n)};else if(null!==i)throw new Error("Change handler "+i+" was specified but not declared on the class.");return void 0!==n&&(o="function"==typeof n?n.call(t):n),new Dt(this.owner.taskQueue,t,this.name,e,o)}},t.prototype._initialize=function(t,e,n,i,r){var o=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var c in n)this._createDynamicProperty(t,e,i,c,n[c],r);else this.hasOptions||(s=e[this.name],null!==n&&(o=s.selfSubscriber,a=n[this.attribute],i&&(s.selfSubscriber=null),"string"==typeof a?(t[this.name]=a,s.call()):a?r.push({observer:s,binding:a.createBinding(t)}):void 0!==u&&s.call(),s.selfSubscriber=o),s.publishing=!0)},t.prototype._createDynamicProperty=function(t,e,n,i,r,o){var s=i+"Changed",a=null,u=void 0,c=void 0;s in t?a="propertyChanged"in t?function(e,n){t[s](e,n),t.propertyChanged(i,e,n)}:function(e,n){return t[s](e,n)}:"propertyChanged"in t&&(a=function(e,n){return t.propertyChanged(i,e,n)}),u=e[i]=new Dt(this.owner.taskQueue,t,i,a),Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),n&&(u.selfSubscriber=null),"string"==typeof r?(t[i]=r,u.call()):r&&(c={observer:u,binding:r.createBinding(t)},o.push(c)),u.publishing=!0,u.selfSubscriber=a},t}(),Ht=0;function Ut(){return!0}function Qt(){}var Wt=function(){function e(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=Qt,this.processContent=Ut,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return e.convention=function(t,n){var i=void 0;return t.endsWith("CustomAttribute")&&((i=n||new e).attributeName=R(t.substring(0,t.length-15))),t.endsWith("CustomElement")&&((i=n||new e).elementName=R(t.substring(0,t.length-13))),i},e.prototype.addChildBinding=function(t){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(t)},e.prototype.initialize=function(t,e){var n=e.prototype,i=this.properties,r=this.attributeName,o=this.attributeDefaultBindingMode,s=void 0,a=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,e.__providerId__=++Ht,this.observerLocator=t.get(A.l),this.taskQueue=t.get(j.a),this.target=e,this.usesShadowDOM=this.targetShadowDOM&&O.c.shadowDOM,this.handlesCreated="created"in n,this.handlesBind="bind"in n,this.handlesUnbind="unbind"in n,this.handlesAttached="attached"in n,this.handlesDetached="detached"in n,this.htmlName=this.elementName||this.attributeName,null!==r)if(0===i.length&&new zt({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:r,defaultBindingMode:o}).registerWith(e,this),u=i[0],1===i.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(e,this);else{for(s=0,a=i.length;s<a;++s)if(i[s].defineOn(e,this),i[s].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=i[s]}(u=new zt({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:r,defaultBindingMode:o})).hasOptions=!0,u.registerWith(e,this)}else{for(s=0,a=i.length;s<a;++s)i[s].defineOn(e,this);this._copyInheritedProperties(t,e)}},e.prototype.register=function(t,e){var n=this;null!==this.attributeName&&(t.registerAttribute(e||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach((function(e){t.registerAttribute(e,n,n.attributeName)}))),null!==this.elementName&&t.registerElement(e||this.elementName,this)},e.prototype.load=function(e,n,i,r,o){var s=this,a=void 0;return null!==this.elementName?(r=e.get(it).getViewStrategy(r||this.viewStrategy||n),a=new Q(this.targetShadowDOM,!0),r.moduleId||(r.moduleId=_.a.get(n).moduleId),r.loadViewFactory(e.get(Pt),a,i,n).then((function(t){return o&&s.viewFactory||(s.viewFactory=t),t}))):t.resolve(this)},e.prototype.compile=function(t,e,n,i,r){if(this.liftsContent){if(!i.viewFactory){var o=O.b.createElement("template"),s=O.b.createDocumentFragment(),a=n.getAttribute("view-cache"),u=n.getAttribute("part");n.removeAttribute(i.originalAttrName),O.b.replaceNode(o,n,r),s.appendChild(n),i.viewFactory=t.compile(s,e),u&&(i.viewFactory.part=u,n.removeAttribute("part")),a&&(i.viewFactory.setCacheSize(a),n.removeAttribute("view-cache")),n=o}}else if(null!==this.elementName){var c={};if(this.processContent(t,e,n,i)&&n.hasChildNodes()){for(var l=n.firstChild,h=this.usesShadowDOM?null:O.b.createElement("au-content"),d=void 0,p=void 0;l;)d=l.nextSibling,"TEMPLATE"===l.tagName&&(p=l.getAttribute("replace-part"))?(c[p]=t.compile(l,e),O.b.removeNode(l,r),i.partReplacements=c):null!==h&&(3===l.nodeType&&D(l)?O.b.removeNode(l,r):h.appendChild(l)),l=d;null!==h&&h.hasChildNodes()&&n.appendChild(h),i.skipContentProcessing=!1}else i.skipContentProcessing=!0}else this.processContent(t,e,n,i)||(i.skipContentProcessing=!0);return n},e.prototype.create=function(t,e,n,i){var r=void 0,o=null;e=e||W.normal,n=n||null,i=i||null,null!==this.elementName&&n&&(this.usesShadowDOM?(r=n.attachShadow(this.shadowDOMOptions),t.registerInstance(O.b.boundary,r)):(r=n,this.targetShadowDOM&&t.registerInstance(O.b.boundary,r))),null!==n&&(n.au=o=n.au||{});var s=e.viewModel||t.get(this.target),a=new Rt(this,e,s,t),u=this.childBindings,c=void 0;if(this.liftsContent)o.controller=a;else if(null!==this.elementName){if(c=e.viewFactory||this.viewFactory,t.viewModel=s,c&&(a.view=c.create(t,e,n)),null!==n){if(o.controller=a,a.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var l=n.childNodes[0]||n.contentElement;a.view.contentView={fragment:l},l.parentNode&&O.b.removeNode(l)}if(e.anchorIsContainer){if(null!==u)for(var h=0,d=u.length;h<d;++h)a.view.addBinding(u[h].create(n,s,a));a.view.appendNodesTo(r)}else a.view.insertNodesBefore(r)}else if(null!==u)for(var p=0,f=u.length;p<f;++p)i.push(u[p].create(n,s,a))}else if(a.view){if(a.view.controller=a,null!==u)for(var v=0,g=u.length;v<g;++v)a.view.addBinding(u[v].create(e.host,s,a))}else if(null!==u)for(var m=0,b=u.length;m<b;++m)i.push(u[m].create(e.host,s,a))}else if(null!==u)for(var w=0,y=u.length;w<y;++w)i.push(u[w].create(n,s,a));return null!==o&&(o[this.htmlName]=a),e.initiatedByBehavior&&c&&a.view.created(),a},e.prototype._ensurePropertiesDefined=function(t,e){var n,i=void 0,r=void 0,o=void 0;if(!("__propertiesDefined__"in e))for(e.__propertiesDefined__=!0,r=0,n=(i=this.properties).length;r<n;++r)void 0!==(o=i[r].createObserver(t))&&(e[o.propertyName]=o)},e.prototype._copyInheritedProperties=function(t,e){for(var n=this,i=void 0,r=e;;){var o=Object.getPrototypeOf(e.prototype);if(!(e=o&&o.constructor))return;if(i=_.b.getOwn(_.b.resource,e))break}i.initialize(t,e);for(var s=function(t,e){var o=i.properties[t];if(n.properties.some((function(t){return t.name===o.name})))return"continue";new zt(o).registerWith(r,n)},a=0,u=i.properties.length;a<u;++a)s(a)},e}();!function(){function t(t){this.name=t.name,this.changeHandler=t.changeHandler||this.name+"Changed",this.selector=t.selector,this.all=t.all}t.prototype.create=function(t,e,n){return new Gt(this.selector,t,this.name,e,n,this.changeHandler,this.all)}}();var $t=[];function Kt(t,e,n){var i=t.get(e);i||(i=[],t.set(e,i)),i.push(n)}function Xt(t,e){for(var n=e.binders,i=n.length,r=new Map,o=0,s=t.length;o<s;++o){for(var a=t[o],u=a.addedNodes,c=a.removedNodes,l=0,h=c.length;l<h;++l){var d=c[l];if(1===d.nodeType)for(var p=0;p<i;++p){var f=n[p];f.onRemove(d)&&Kt(r,f,a)}}for(var v=0,g=u.length;v<g;++v){var m=u[v];if(1===m.nodeType)for(var b=0;b<i;++b){var w=n[b];w.onAdd(m)&&Kt(r,w,a)}}}r.forEach((function(t,e){e.isBound&&null!==e.changeHandler&&e.viewModel[e.changeHandler](t)}))}var Gt=function(){function t(t,e,n,i,r,o,s){this.selector=t,this.viewHost=e,this.property=n,this.viewModel=i,this.controller=r,this.changeHandler=o in i?o:null,this.usesShadowDOM=r.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&r.view&&r.view.contentView?this.contentView=r.view.contentView:this.contentView=null,this.source=null,this.isBound=!1}return t.prototype.matches=function(t){if(t.matches(this.selector)){if(null===this.contentView)return!0;var e=this.contentView,n=t.auAssignedSlot;if(n&&n.projectFromAnchors){for(var i=n.projectFromAnchors,r=0,o=i.length;r<o;++r)if(i[r].auOwnerView===e)return!0;return!1}return t.auOwnerView===e}return!1},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.source=t}this.isBound=!0;var e=this.viewHost,n=this.viewModel,i=e.__childObserver__;if(!i){i=e.__childObserver__=O.b.createMutationObserver(Xt);var r={childList:!0,subtree:!this.usesShadowDOM};i.observe(e,r),i.binders=[]}if(i.binders.push(this),this.usesShadowDOM){var o=e.firstElementChild;if(this.all){var s=n[this.property];for(s?s.splice(0):s=n[this.property]=[];o;)this.matches(o)&&s.push(o.au&&o.au.controller?o.au.controller.viewModel:o),o=o.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler]($t)}else for(;o;){if(this.matches(o)){var a=o.au&&o.au.controller?o.au.controller.viewModel:o;this.viewModel[this.property]=a,null!==this.changeHandler&&this.viewModel[this.changeHandler](a);break}o=o.nextElementSibling}}},t.prototype.onRemove=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),i=n.indexOf(e);return-1!==i&&n.splice(i,1),!0}this.viewModel[this.property]===e&&(this.viewModel[this.property]=null,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](e))}return!1},t.prototype.onAdd=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if("*"===this.selector)return n.push(e),!0;for(var i=0,r=t.previousElementSibling;r;)this.matches(r)&&i++,r=r.previousElementSibling;return n.splice(i,0,e),!0}this.viewModel[this.property]=e,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](e)}return!1},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;var t=this.viewHost.__childObserver__;if(t){var e=t.binders;if(e&&e.length){var n=e.indexOf(this);-1!==n&&e.splice(n,1),0===e.length&&(t.disconnect(),this.viewHost.__childObserver__=null)}this.usesShadowDOM&&(this.viewModel[this.property]=null)}}},t}();function Zt(t,e){return Array.isArray(e)?t.removeMany(e,!0):t.remove(e,!0)}var Yt={before:function(t,e,n){return void 0===e?n():n().then((function(){return Zt(t,e)}))},with:function(e,n,i){return void 0===n?i():t.all([Zt(e,n),i()])},after:function(e,n,i){return t.resolve(e.removeAll(!0)).then(i)}};function Jt(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?t.resolve():e.viewModel.activate(e.model)||t.resolve()}var te=Object(k.f)(Pt,it)(C=function(){function e(t,e){this.viewEngine=t,this.viewLocator=e}return e.prototype._swap=function(e,n){var i=Yt[e.swapOrder]||Yt.after,r=e.viewSlot.children.slice();return i(e.viewSlot,r,(function(){return t.resolve(e.viewSlot.add(n)).then((function(){e.currentController&&e.currentController.unbind()}))})).then((function(){e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done()}))},e.prototype._createControllerAndSwap=function(t){var e=this;return this.createController(t).then((function(n){return t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return n.automate(t.overrideContext,t.owningView),e._swap(t,n.view)})).then((function(){return n})):(n.automate(t.overrideContext,t.owningView),e._swap(t,n.view).then((function(){return n})))}))},e.prototype.createController=function(t){var e=this,n=void 0,i=void 0,r=void 0,o=void 0;return this.ensureViewModel(t).then(Jt).then((function(){n=t.childContainer,i=t.viewModel,r=t.viewModelResource,o=r.metadata;var s=e.viewLocator.getViewStrategy(t.view||i);return t.viewResources&&s.makeRelativeTo(t.viewResources.viewUrl),o.load(n,r.value,null,s,!0)})).then((function(e){return o.create(n,W.dynamic(t.host,i,e))}))},e.prototype.ensureViewModel=function(e){var n=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then((function(t){return n.autoRegister(t.value),e.host&&n.registerInstance(O.b.Element,e.host),e.viewModel=n.viewModel=n.get(t.value),e.viewModelResource=t,e}));var i=e.viewModel.constructor,r="function"==typeof e.viewModel;r&&(i=e.viewModel,n.autoRegister(i));var o=_.b.getOrCreateOwn(_.b.resource,Wt,i);return o.elementName=o.elementName||"dynamic-element",o.initialize(r?n:e.container||n,i),e.viewModelResource={metadata:o,value:i},e.host&&n.registerInstance(O.b.Element,e.host),n.viewModel=e.viewModel=r?n.get(i):e.viewModel,t.resolve(e)},e.prototype.compose=function(e){var n=this;e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);var i=e.childContainer.get(F),r=i.tryCapture();return r?e.compositionTransactionOwnershipToken=r:e.compositionTransactionNotifier=i.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new Q).then((function(t){var i=t.create(e.childContainer);return i.bind(e.bindingContext,e.overrideContext),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return n._swap(e,i)})).then((function(){return i})):n._swap(e,i).then((function(){return i}))}))):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),t.resolve(null)):t.resolve(null)},e}())||C;!function(){function t(){}t.prototype.initialize=function(t,e){},t.prototype.register=function(t,e){},t.prototype.load=function(t,e){var n=new e;t.get(A.g).registerElementConfig(n)}}();function ee(t){return function(e){"string"==typeof t||Object.getPrototypeOf(t)===Object.prototype?e.$resource=t:_.b.define(_.b.resource,t,e)}}function ne(t){return function(e){_.b.getOrCreateOwn(_.b.resource,Wt,e).elementName=dt(t,"custom element")}}function ie(t,e,n){return function(i){var r=_.b.getOrCreateOwn(_.b.resource,Wt,i);r.attributeName=dt(t,"custom attribute"),r.attributeDefaultBindingMode=e,r.aliases=n}}function re(t){var e=function(t){_.b.getOrCreateOwn(_.b.resource,Wt,t).liftsContent=!0};return t?e(t):e}function oe(t,e,n){var i=function(e,n,i){var r=n?e.constructor:e,o=_.b.getOrCreateOwn(_.b.resource,Wt,r);return n&&((t=t||{}).name=n),new zt(t).registerWith(r,o,i)};if(!t)return i;if(e){var r=t;return t=null,i(r,e,n)}return i}var se={mode:"open"};function ae(t){var e="function"!=typeof t&&t?t:se,n=function(t){var n=_.b.getOrCreateOwn(_.b.resource,Wt,t);n.targetShadowDOM=!0,n.shadowDOMOptions=e};return"function"==typeof t?n(t):n}function ue(t){return function(e){_.b.define(it.viewStrategyMetadataKey,t,e)}}function ce(t){return ue(new Z(t))}function le(t,e,n){return ue(new et(t,e,n))}function he(t,e){var n=void 0,i=void 0;"function"==typeof t?n=t:(i=t,n=void 0);var r=function(t){_.b.define(it.viewStrategyMetadataKey,new J(i,e),t)};return n?r(n):r}var de=Object(k.f)(k.a,It,Nt,te)(S=function(){function t(t,e,n,i){this._container=t,this._moduleAnalyzer=e,this._viewCompiler=n,this._compositionEngine=i,t.registerInstance(E,E.instance=new E)}return t.prototype.configureAnimator=function(t){this._container.unregister(E),this._container.registerInstance(E,E.instance=t)},t.prototype.compose=function(t){return this._compositionEngine.compose(t)},t.prototype.enhance=function(t){t instanceof O.b.Element&&(t={element:t});var e={letExpressions:[]},n=t.resources||this._container.get(pt);this._viewCompiler._compileNode(t.element,n,e,t.element.parentNode,"root",!0);var i=new Mt(t.element,e,n),r=t.container||this._container.createChild(),o=i.create(r,W.enhance());return o.bind(t.bindingContext||{},t.overrideContext),o.firstChild=o.lastChild=o.fragment,o.fragment=O.b.createDocumentFragment(),o.attached(),o},t}())||S}).call(this,n("CW7D"))}}]);
//# sourceMappingURL=vendors~2a42e354.8bcfad7186482d4de329.bundle.map