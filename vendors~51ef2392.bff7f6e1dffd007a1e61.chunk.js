(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4SFh":function(e,t,i){"use strict";var r=i("rci4");i.d(t,"e",(function(){return r.a}));var n=i("yWDt");i.d(t,"g",(function(){return n.a}));var s=i("9u1P");i.d(t,"f",(function(){return s.sortByFieldType}));var o=i("SZ68");i.d(t,"a",(function(){return o.a}));var a=i("89dS");i.d(t,"d",(function(){return a.a}));var d=i("5l98");i.d(t,"b",(function(){return d.a})),i.d(t,"c",(function(){return d.b}))},"5l98":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return d}));var r=i("Ljcy"),n=i("KKeK"),s=i("sjEL");const o=i.n(s).a||s;function a(e,t,i,r,n,s,a){var d,l;let c=0;const u=null!==(l=null!==(d=null==r?void 0:r.valueCouldBeUndefined)&&void 0!==d?d:null==n?void 0:n.cellValueCouldBeUndefined)&&void 0!==l&&l,h=o(e,s,a),g=o(t,s,a);return c=null===e||""===e||u&&void 0===e||!h.isValid()?-1:null===t||""===t||u&&void 0===t||!g.isValid()?1:h.valueOf()<g.valueOf()?-1:1,i*c}function d(e){const t=e===n.a.date?o.ISO_8601:Object(r.mapMomentDateFormatWithFieldType)(e);return(e,i,r,n,s)=>t===o.ISO_8601?a(e,i,r,n,s,t,!1):a(e,i,r,n,s,t,!0)}},"89dS":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i,r,n)=>{var s,o;const a=null!==(o=null!==(s=null==r?void 0:r.valueCouldBeUndefined)&&void 0!==s?s:null==n?void 0:n.cellValueCouldBeUndefined)&&void 0!==o&&o,d=isNaN(e)||""===e||null===e||a&&void 0===e?-99e10:parseFloat(e),l=isNaN(t)||""===t||null===t||a&&void 0===t?-99e10:parseFloat(t);return i*(d===l?0:d>l?1:-1)}},"9u1P":function(e,t,i){"use strict";i.r(t),i.d(t,"sortByFieldType",(function(){return o}));var r=i("NcUD"),n=i("4SFh"),s=i("5l98");function o(e,t,i,o,a,d){let l=0;switch(e){case r.FieldType.float:case r.FieldType.integer:case r.FieldType.number:l=n.a.numeric(t,i,o,a,d);break;case r.FieldType.date:case r.FieldType.dateIso:case r.FieldType.dateUtc:case r.FieldType.dateTime:case r.FieldType.dateTimeIso:case r.FieldType.dateTimeIsoAmPm:case r.FieldType.dateTimeIsoAM_PM:case r.FieldType.dateTimeShortIso:case r.FieldType.dateEuro:case r.FieldType.dateEuroShort:case r.FieldType.dateTimeShortEuro:case r.FieldType.dateTimeEuro:case r.FieldType.dateTimeEuroAmPm:case r.FieldType.dateTimeEuroAM_PM:case r.FieldType.dateTimeEuroShort:case r.FieldType.dateTimeEuroShortAmPm:case r.FieldType.dateTimeEuroShortAM_PM:case r.FieldType.dateUs:case r.FieldType.dateUsShort:case r.FieldType.dateTimeShortUs:case r.FieldType.dateTimeUs:case r.FieldType.dateTimeUsAmPm:case r.FieldType.dateTimeUsAM_PM:case r.FieldType.dateTimeUsShort:case r.FieldType.dateTimeUsShortAmPm:case r.FieldType.dateTimeUsShortAM_PM:l=Object(s.b)(e).call(this,t,i,o,a,d);break;case r.FieldType.object:l=n.a.objectString(t,i,o,a,d);break;case r.FieldType.string:case r.FieldType.text:case r.FieldType.password:case r.FieldType.readonly:default:l=n.a.string(t,i,o,a,d)}return l}},EZlM:function(e,t,i){"use strict";function r(e,t){["pop","push","reverse","shift","unshift","splice","sort"].forEach(i=>{e[i]=(...r)=>{const n=Array.prototype[i].apply(e,r);return t.apply(e,[e,r]),n}})}function n(e,t,i){let r=e[t];Object.defineProperty(e,t,{configurable:!0,get:()=>r,set(n){r=n,i.apply(e,[n,e[t]])}})}i.r(t),i.d(t,"collectionObserver",(function(){return r})),i.d(t,"propertyObserver",(function(){return n}))},FBVB:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class r{constructor(){this._boundedEvents=[]}bind(e,t,i,r){e.addEventListener(t,i,r),this._boundedEvents.push({element:e,eventName:t,listener:i})}unbindAll(){for(;this._boundedEvents.length>0;){const e=this._boundedEvents.pop(),{element:t,eventName:i,listener:r}=e;(null==t?void 0:t.removeEventListener)&&t.removeEventListener(i,r)}}}},Fla7:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return n}));var r=i("NcUD");class n{constructor(e,t,i){this.extensionUtility=e,this.extensionService=t,this.pubSubService=i,this._eventHandler=new Slick.EventHandler}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get eventHandler(){return this._eventHandler}get _gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions)?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}init(e){var t;if(this._grid=e,e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel){this._gridOptions.enableTranslate&&this.translateGroupingAndColSpan(),this._eventHandler.subscribe(e.onSort,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onRendered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onAutosizeColumns,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onColumnsResized,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onColumnsReordered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(this._dataView.onRowCountChanged,()=>this.delayRenderPreHeaderRowGroupingTitles(0));const i=this.extensionService.getExtensionByName(r.ExtensionName.columnPicker);(null===(t=null==i?void 0:i.instance)||void 0===t?void 0:t.onColumnsChanged)&&this._eventHandler.subscribe(i.instance.onColumnsChanged,()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onHeaderMenuHideColumns",()=>{this.delayRenderPreHeaderRowGroupingTitles(0)});const n=this.extensionService.getExtensionByName(r.ExtensionName.gridMenu);n&&n.instance&&n.instance.onColumnsChanged&&n.instance.onMenuClose&&(this._eventHandler.subscribe(n.instance.onColumnsChanged,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(n.instance.onMenuClose,()=>this.renderPreHeaderRowGroupingTitles()));const s=e.getPluginByName("Resizer");(null==s?void 0:s.onGridAfterResize)&&this._eventHandler.subscribe(s.onGridAfterResize,()=>this.renderPreHeaderRowGroupingTitles());const o=e.onSetOptions;this._eventHandler.subscribe(o,(e,t)=>{var i,r;(null===(i=null==t?void 0:t.optionsBefore)||void 0===i?void 0:i.frozenColumn)!==(null===(r=null==t?void 0:t.optionsAfter)||void 0===r?void 0:r.frozenColumn)&&this.delayRenderPreHeaderRowGroupingTitles(0)}),this.delayRenderPreHeaderRowGroupingTitles(75)}}dispose(){this._eventHandler.unsubscribeAll()}delayRenderPreHeaderRowGroupingTitles(e=0){setTimeout(()=>this.renderPreHeaderRowGroupingTitles(),e)}renderPreHeaderRowGroupingTitles(){var t;if(this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0){let i=e(this._grid.getPreHeaderPanelLeft());this.renderHeaderGroups(i,0,this._gridOptions.frozenColumn+1),i=e(this._grid.getPreHeaderPanelRight()),this.renderHeaderGroups(i,(null===(t=this._gridOptions)||void 0===t?void 0:t.frozenColumn)+1,this._columnDefinitions.length)}else{const t=e(this._grid.getPreHeaderPanel());this.renderHeaderGroups(t,0,this._columnDefinitions.length)}}renderHeaderGroups(t,i,r){var n,s,o;t.empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth()),t.parent().addClass("slick-header");const a=this._grid.getHeaderColumnWidthDiff();let d,l,c="",u=0;const h=null!==(s=null===(n=this._gridOptions)||void 0===n?void 0:n.frozenHeaderWidthCalcDifferential)&&void 0!==s?s:0,g=void 0!==(null===(o=this._gridOptions)||void 0===o?void 0:o.frozenColumn)&&this._gridOptions.frozenColumn>=0;for(let n=i;n<r;n++)d=this._columnDefinitions[n],d&&(c===d.columnGroup&&n>0?(u+=d.width||0,l&&l.width&&l.width(u-a-h)):(u=d.width||0,l=e(`<div class="ui-state-default slick-header-column ${g?"frozen":""}" />`).html(`<span class="slick-column-name">${d.columnGroup||""}</span>`).width(u-a).appendTo(t)),c=d.columnGroup||"")}translateGroupingAndColSpan(){const e=this._grid.getColumns();this.extensionUtility.translateItems(e,"columnGroupKey","columnGroup"),this._grid.setColumns(e),this.renderPreHeaderRowGroupingTitles()}}}).call(this,i("EVdn"))},"GAj/":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return n}));var r=i("V5Q0");class n{constructor(e,t,i,r){this.pubSubService=e,this.sharedService=t,this.backendUtilities=i,this.rxjs=r,this._eventHandler=new Slick.EventHandler,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._itemsPerPage=0,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._availablePageSizes=[],this._subscriptions=[]}get dataView(){var e;return(null===(e=this.grid)||void 0===e?void 0:e.getData)&&this.grid.getData()}set paginationOptions(e){this._paginationOptions=e}get paginationOptions(){return this._paginationOptions}get availablePageSizes(){return this._availablePageSizes}get dataFrom(){return this._dataFrom}get dataTo(){return this._dataTo}get itemsPerPage(){return this._itemsPerPage}get pageCount(){return this._pageCount}get pageNumber(){return this._pageNumber}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this._initialized&&this.refreshPagination()}addRxJsResource(e){this.rxjs=e}init(e,t,i){if(this._availablePageSizes=t.pageSizes,this.grid=e,this._backendServiceApi=i,this._paginationOptions=t,this._isLocalGrid=!i,this._pageNumber=t.pageNumber||1,i&&(!i.service||!i.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');if(this._isLocalGrid&&this.dataView){const e=this.dataView.onPagingInfoChanged;this._eventHandler.subscribe(e,(e,t)=>{this._totalItems!==t.totalRows&&this.updateTotalItems(t.totalRows)}),setTimeout(()=>{this.dataView&&(this.dataView.setRefreshHints({isFilterUnchanged:!0}),this.dataView.setPagingOptions({pageSize:this.paginationOptions.pageSize,pageNum:this._pageNumber-1}))})}this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",()=>this.resetPagination())),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>this.resetPagination())),this.dataView&&(this._subscriptions.push(this.pubSubService.subscribe("onItemAdded",e=>{this.processOnItemAddedOrRemoved(e,!0)})),this._subscriptions.push(this.pubSubService.subscribe("onItemDeleted",e=>this.processOnItemAddedOrRemoved(e,!1)))),this.refreshPagination(!1,!1,!0),this._initialized=!0}dispose(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}getCurrentPagination(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}}getFullPagination(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}}getCurrentPageNumber(){return this._pageNumber}getCurrentItemPerPage(){return this._itemsPerPage}changeItemPerPage(e,t){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/e),this._itemsPerPage=e,this.processOnPageChanged(this._pageNumber,t)}goToFirstPage(e){return this._pageNumber=1,this.processOnPageChanged(this._pageNumber,e)}goToLastPage(e){return this._pageNumber=this._pageCount||1,this.processOnPageChanged(this._pageNumber||1,e)}goToNextPage(t){return this._pageNumber<this._pageCount?(this._pageNumber++,this.processOnPageChanged(this._pageNumber,t)):new e(e=>e(!1))}goToPageNumber(t,i){const r=this._pageNumber;return t<1?this._pageNumber=1:t>this._pageCount?this._pageNumber=this._pageCount:this._pageNumber=t,this._pageNumber!==r?this.processOnPageChanged(this._pageNumber,i):new e(e=>e(!1))}goToPreviousPage(t){return this._pageNumber>1?(this._pageNumber--,this.processOnPageChanged(this._pageNumber,t)):new e(e=>e(!1))}refreshPagination(e=!1,t=!0,i=!1){var n,s,o;const a={...this.getFullPagination()};if(this._paginationOptions){const t=this._paginationOptions;this._itemsPerPage||(this._isLocalGrid?this._itemsPerPage=t.pageSize:this._itemsPerPage=+((null===(o=null===(s=null===(n=this._backendServiceApi)||void 0===n?void 0:n.options)||void 0===s?void 0:s.paginationOptions)||void 0===o?void 0:o.first)?this._backendServiceApi.options.paginationOptions.first:t.pageSize)),(e||this._totalItems!==t.totalItems)&&(e?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&t.pageNumber&&t.pageNumber>1&&(this._pageNumber=t.pageNumber||1),1===this._pageNumber&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=t.pageSizes,!this._totalItems&&t.totalItems&&(this._totalItems=t.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage),this.sharedService.currentPagination=this.getCurrentPagination(),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),t&&!Object(r.dequal)(a,this.getFullPagination())&&this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),i&&!Object(r.dequal)(a,this.getFullPagination())&&this.pubSubService.publish("onPaginationPresetsInitialized",this.getFullPagination())}resetPagination(e=!0){this._isLocalGrid&&this.dataView&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this.refreshPagination(!0,e)}togglePaginationVisibility(e){var t;if(this.grid&&(null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)){const t=void 0!==e?e:!this.sharedService.gridOptions.enablePagination;if(this.sharedService.gridOptions.enablePagination=t,this.pubSubService.publish("onPaginationVisibilityChanged",{visible:t}),t&&this.goToFirstPage(),this._isLocalGrid&&this.dataView){const t=e?this._itemsPerPage:0;this.dataView.setPagingOptions({pageSize:t,pageNum:0})}}}processOnPageChanged(t,i){return new e((r,n)=>{var s,o,a;if(this.recalculateFromToIndexes(),this._isLocalGrid&&this.dataView)this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:t-1}),this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),r(this.getFullPagination());else{const d=+this._itemsPerPage,l=new Date;if((null===(s=this._backendServiceApi)||void 0===s?void 0:s.preProcess)&&this._backendServiceApi.preProcess(),null===(o=this._backendServiceApi)||void 0===o?void 0:o.process){const s=this._backendServiceApi.service.processOnPaginationChanged(i,{newPage:t,pageSize:d}),o=this._backendServiceApi.process(s);o instanceof e?o.then(e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.executeBackendProcessesCallback(l,e,this._backendServiceApi,this._totalItems),r(this.getFullPagination())}).catch(e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.onBackendError(e,this._backendServiceApi),n(o)}):(null===(a=this.rxjs)||void 0===a?void 0:a.isObservable(o))&&this._subscriptions.push(o.subscribe(e=>{var t;r(null===(t=this.backendUtilities)||void 0===t?void 0:t.executeBackendProcessesCallback(l,e,this._backendServiceApi,this._totalItems))},e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.onBackendError(e,this._backendServiceApi),n(o)})),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}})}recalculateFromToIndexes(){0===this._totalItems?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._pageNumber=this._totalItems>0&&0===this._pageNumber?1:this._pageNumber,(this._dataTo>this._totalItems||this._totalItems<this._itemsPerPage)&&(this._dataTo=this._totalItems)}updateTotalItems(e,t=!1){this._totalItems=e,this._paginationOptions&&(this._paginationOptions.totalItems=e,this.refreshPagination(!1,t))}processOnItemAddedOrRemoved(e,t=!0){if(null!==e){const i=this._dataTo,r=Array.isArray(e)?e.length:1,n=t?+r:-r;this._totalItems+=n,this.recalculateFromToIndexes(),this._dataTo=i+n,this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}}}).call(this,i("CW7D"))},Ljcy:function(e,t,i){"use strict";i.r(t),function(e,r){i.d(t,"addToArrayWhenNotExists",(function(){return c})),i.d(t,"addWhiteSpaces",(function(){return u})),i.d(t,"arrayRemoveItemByIndex",(function(){return h})),i.d(t,"castObservableToPromise",(function(){return g})),i.d(t,"convertParentChildArrayToHierarchicalView",(function(){return p})),i.d(t,"convertHierarchicalViewToParentChildArray",(function(){return m})),i.d(t,"convertHierarchicalViewToParentChildArrayByReference",(function(){return f})),i.d(t,"deepCopy",(function(){return b})),i.d(t,"emptyElement",(function(){return v})),i.d(t,"emptyObject",(function(){return S})),i.d(t,"findItemInHierarchicalStructure",(function(){return _})),i.d(t,"htmlEncode",(function(){return y})),i.d(t,"htmlEntityDecode",(function(){return C})),i.d(t,"htmlEncodedStringWithPadding",(function(){return w})),i.d(t,"isNumber",(function(){return T})),i.d(t,"decimalFormatted",(function(){return O})),i.d(t,"destroyObjectDomElementProps",(function(){return x})),i.d(t,"formatNumber",(function(){return E})),i.d(t,"getDescendantProperty",(function(){return F})),i.d(t,"getTranslationPrefix",(function(){return I})),i.d(t,"mapMomentDateFormatWithFieldType",(function(){return A})),i.d(t,"mapFlatpickrDateFormatWithFieldType",(function(){return P})),i.d(t,"mapOperatorType",(function(){return D})),i.d(t,"mapOperatorToShorthandDesignation",(function(){return k})),i.d(t,"mapOperatorByFieldType",(function(){return R})),i.d(t,"parseBoolean",(function(){return M})),i.d(t,"parseUtcDate",(function(){return N})),i.d(t,"sanitizeHtmlToText",(function(){return V})),i.d(t,"sanitizeTextByAvailableSanitizer",(function(){return G})),i.d(t,"setDeepValue",(function(){return H})),i.d(t,"thousandSeparatorFormatted",(function(){return B})),i.d(t,"titleCase",(function(){return j})),i.d(t,"toCamelCase",(function(){return U})),i.d(t,"toKebabCase",(function(){return L})),i.d(t,"findOrDefault",(function(){return z})),i.d(t,"getHtmlElementOffset",(function(){return Y})),i.d(t,"toSnakeCase",(function(){return q})),i.d(t,"unsubscribeAll",(function(){return W})),i.d(t,"uniqueArray",(function(){return $})),i.d(t,"uniqueObjectArray",(function(){return K}));var n=i("wMS7"),s=i("sjEL"),o=i.n(s),a=i("NcUD");const d=n,l=o.a||s;function c(e,t,i="id"){let r=-1;r="object"==typeof t&&i in t?e.findIndex(e=>e[i]===t[i]):e.findIndex(e=>e===t),r<0&&e.push(t)}function u(e){let t="";for(let i=0;i<e;i++)t+=" ";return t}function h(e,t){return e.filter((e,i)=>t!==i)}function g(t,i,r=""){let n=i;if(i instanceof e)return i;if(t.isObservable(i)&&(n=t.firstValueFrom(i)),!(n instanceof e))throw new Error(`Something went wrong, Slickgrid-Universal ${r} is not able to convert the Observable into a Promise.`);return n}function p(e,t){var i,n,s;const o=null!==(i=null==t?void 0:t.childrenPropName)&&void 0!==i?i:"children",a=null!==(n=null==t?void 0:t.parentPropName)&&void 0!==n?n:"__parentId",d=null!==(s=null==t?void 0:t.identifierPropName)&&void 0!==s?s:"id",l=r.extend(!0,[],e),c=[],u={};return l.forEach(e=>u[e[d]]=e),Object.keys(u).forEach(e=>{const t=u[e];if(null!==t[a]&&t.hasOwnProperty(a)){if(t[a]in u){const e=u[t[a]];o in e||(e[o]=[]),delete t[a],e[o].push(t)}}else delete t[a],c.push(t);delete t.__treeLevel,delete t.__hasChildren}),c}function m(e,t){const i=[];return f(r.extend(!0,[],e),i,t,0),i}function f(e,t,i,r=0,n){var s,o,a,d,l;const c=null!==(s=null==i?void 0:i.childrenPropName)&&void 0!==s?s:"children",u=null!==(o=null==i?void 0:i.identifierPropName)&&void 0!==o?o:"id",h=null!==(a=null==i?void 0:i.hasChildrenFlagPropName)&&void 0!==a?a:"__hasChildren",g=null!==(d=null==i?void 0:i.treeLevelPropName)&&void 0!==d?d:"__treeLevel",p=null!==(l=null==i?void 0:i.parentPropName)&&void 0!==l?l:"__parentId";if(Array.isArray(e))for(const s of e)if(s){t.some(e=>e[u]===s[u])||(s[g]=r,s[p]=n||null,t.push(s)),Array.isArray(s[c])&&(r++,f(s[c],t,i,r,s[u]),r--,s[h]=!0,delete s[c])}}function b(e){const t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"object"===t?(()=>{const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=b(e[i]));return t})():"array"===t?e.map(e=>b(e)):e}function v(e){if(null==e?void 0:e.firstChild)for(;e.firstChild;)e.lastChild&&e.removeChild(e.lastChild);return e}function S(e){for(const t in e)e.hasOwnProperty(t)&&delete e[t];return e=null,e={}}function _(e,t,i){if(!i)throw new Error('findRecursive requires parameter "childrenPropertyName"');const r=e.find(t),n=e.filter(e=>i in e&&e[i]);if(r)return r;if(n.length){const e=[];return n.forEach(t=>{i in t&&e.push(...t[i])}),_(e,t,i)}}function y(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(e||"").toString().replace(/[&<>"']/g,e=>t[e])}function C(e){return e.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t))}function w(e,t){const i=e.length;let r=y(e);if(i<t)for(let e=i;e<t;e++)r+="&nbsp;";return r}function T(e,t=!1){return t?null!=e&&"string"!=typeof e&&!isNaN(e):null!=e&&""!==e&&!isNaN(+e)}function O(e,t,i,r=".",n=""){if(isNaN(+e))return e;const s=void 0===t?2:t,o=void 0===i?2:i;let a=String(Math.round(+e*Math.pow(10,o))/Math.pow(10,o));for(a.indexOf(".")<0&&s>0&&(a+=".");a.length-a.indexOf(".")<=s;)a+="0";const d=a.split(".");let l,c;l=n?d.length>=1?B(d[0],n):void 0:d.length>=1?d[0]:a,d.length>1&&(c=d[1]);let u="";return void 0!==l&&void 0!==c?u=`${l}${r}${c}`:null!=l&&(u=l),u}function x(e){if(e)for(const t of Object.keys(e))Array.isArray(e[t])&&x(e[t]),e[t]instanceof HTMLElement&&(e[t]=null)}function E(e,t,i,r,n="",s="",o=".",a=""){if(isNaN(+e))return e;const d=Math.round(1e6*parseFloat(e))/1e6;if(d<0){const e=Math.abs(d);if(r){if(!isNaN(t)||!isNaN(i))return`(${n}${O(e,t,i,o,a)}${s})`;return`(${n}${B(""+e,a)}${s})`}if(!isNaN(t)||!isNaN(i))return`-${n}${O(e,t,i,o,a)}${s}`;return`-${n}${B(""+e,a)}${s}`}if(!isNaN(t)||!isNaN(i))return`${n}${O(e,t,i,o,a)}${s}`;return`${n}${B(""+e,a)}${s}`}function F(e,t){return e&&t?t.split(".").reduce((e,t)=>e&&e[t],e):e}function I(e){return e&&e.translationNamespace?e.translationNamespace+(e.translationNamespaceSeparator||""):""}function A(e){let t;switch(e){case a.FieldType.dateTime:case a.FieldType.dateTimeIso:t="YYYY-MM-DD HH:mm:ss";break;case a.FieldType.dateTimeIsoAmPm:t="YYYY-MM-DD hh:mm:ss a";break;case a.FieldType.dateTimeIsoAM_PM:t="YYYY-MM-DD hh:mm:ss A";break;case a.FieldType.dateTimeShortIso:t="YYYY-MM-DD HH:mm";break;case a.FieldType.dateEuro:t="DD/MM/YYYY";break;case a.FieldType.dateEuroShort:t="D/M/YY";break;case a.FieldType.dateTimeEuro:t="DD/MM/YYYY HH:mm:ss";break;case a.FieldType.dateTimeShortEuro:t="DD/MM/YYYY HH:mm";break;case a.FieldType.dateTimeEuroAmPm:t="DD/MM/YYYY hh:mm:ss a";break;case a.FieldType.dateTimeEuroAM_PM:t="DD/MM/YYYY hh:mm:ss A";break;case a.FieldType.dateTimeEuroShort:t="D/M/YY H:m:s";break;case a.FieldType.dateTimeEuroShortAmPm:t="D/M/YY h:m:s a";break;case a.FieldType.dateUs:t="MM/DD/YYYY";break;case a.FieldType.dateUsShort:t="M/D/YY";break;case a.FieldType.dateTimeUs:t="MM/DD/YYYY HH:mm:ss";break;case a.FieldType.dateTimeUsAmPm:t="MM/DD/YYYY hh:mm:ss a";break;case a.FieldType.dateTimeUsAM_PM:t="MM/DD/YYYY hh:mm:ss A";break;case a.FieldType.dateTimeUsShort:t="M/D/YY H:m:s";break;case a.FieldType.dateTimeUsShortAmPm:t="M/D/YY h:m:s a";break;case a.FieldType.dateTimeShortUs:t="MM/DD/YYYY HH:mm";break;case a.FieldType.dateUtc:t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case a.FieldType.date:case a.FieldType.dateIso:default:t="YYYY-MM-DD"}return t}function P(e){let t;switch(e){case a.FieldType.dateTime:case a.FieldType.dateTimeIso:t="Y-m-d H:i:S";break;case a.FieldType.dateTimeShortIso:t="Y-m-d H:i";break;case a.FieldType.dateTimeIsoAmPm:case a.FieldType.dateTimeIsoAM_PM:t="Y-m-d h:i:S K";break;case a.FieldType.dateEuro:t="d/m/Y";break;case a.FieldType.dateEuroShort:t="d/m/y";break;case a.FieldType.dateTimeEuro:t="d/m/Y H:i:S";break;case a.FieldType.dateTimeShortEuro:t="d/m/y H:i";break;case a.FieldType.dateTimeEuroAmPm:t="d/m/Y h:i:S K";break;case a.FieldType.dateTimeEuroAM_PM:t="d/m/Y h:i:s K";break;case a.FieldType.dateTimeEuroShort:t="d/m/y H:i:s";break;case a.FieldType.dateTimeEuroShortAmPm:t="d/m/y h:i:s K";break;case a.FieldType.dateUs:t="m/d/Y";break;case a.FieldType.dateUsShort:t="m/d/y";break;case a.FieldType.dateTimeUs:t="m/d/Y H:i:S";break;case a.FieldType.dateTimeShortUs:t="m/d/y H:i";break;case a.FieldType.dateTimeUsAmPm:t="m/d/Y h:i:S K";break;case a.FieldType.dateTimeUsAM_PM:t="m/d/Y h:i:s K";break;case a.FieldType.dateTimeUsShort:t="m/d/y H:i:s";break;case a.FieldType.dateTimeUsShortAmPm:t="m/d/y h:i:s K";break;case a.FieldType.dateUtc:t="Z";break;case a.FieldType.date:case a.FieldType.dateIso:default:t="Y-m-d"}return t}function D(e){let t;switch(e){case"<":case"LT":t=a.OperatorType.lessThan;break;case"<=":case"LE":t=a.OperatorType.lessThanOrEqual;break;case">":case"GT":t=a.OperatorType.greaterThan;break;case">=":case"GE":t=a.OperatorType.greaterThanOrEqual;break;case"<>":case"!=":case"NE":t=a.OperatorType.notEqual;break;case"*":case"a*":case"StartsWith":t=a.OperatorType.startsWith;break;case"*z":case"EndsWith":t=a.OperatorType.endsWith;break;case"=":case"==":case"EQ":t=a.OperatorType.equal;break;case"IN":t=a.OperatorType.in;break;case"NIN":case"NOT_IN":t=a.OperatorType.notIn;break;case"Not_Contains":case"NOT_CONTAINS":t=a.OperatorType.notContains;break;case"Contains":case"CONTAINS":default:t=a.OperatorType.contains}return t}function k(e){let t="";switch(e){case a.OperatorType.greaterThan:case">":t=">";break;case a.OperatorType.greaterThanOrEqual:case">=":t=">=";break;case a.OperatorType.lessThan:case"<":t="<";break;case a.OperatorType.lessThanOrEqual:case"<=":t="<=";break;case a.OperatorType.notEqual:case"<>":t="<>";break;case a.OperatorType.equal:case"=":case"==":case"EQ":t="=";break;case a.OperatorType.startsWith:case"a*":case"*":t="a*";break;case a.OperatorType.endsWith:case"*z":t="*z";break;default:t=e}return t}function R(e){let t;switch(e){case a.FieldType.unknown:case a.FieldType.string:case a.FieldType.text:case a.FieldType.password:case a.FieldType.readonly:t=a.OperatorType.contains;break;case a.FieldType.float:case a.FieldType.number:case a.FieldType.date:case a.FieldType.dateIso:case a.FieldType.dateUtc:case a.FieldType.dateTime:case a.FieldType.dateTimeIso:case a.FieldType.dateTimeIsoAmPm:case a.FieldType.dateTimeIsoAM_PM:case a.FieldType.dateEuro:case a.FieldType.dateEuroShort:case a.FieldType.dateTimeEuro:case a.FieldType.dateTimeEuroAmPm:case a.FieldType.dateTimeEuroAM_PM:case a.FieldType.dateTimeEuroShort:case a.FieldType.dateTimeEuroShortAmPm:case a.FieldType.dateTimeEuroShortAM_PM:case a.FieldType.dateUs:case a.FieldType.dateUsShort:case a.FieldType.dateTimeUs:case a.FieldType.dateTimeUsAmPm:case a.FieldType.dateTimeUsAM_PM:case a.FieldType.dateTimeUsShort:case a.FieldType.dateTimeUsShortAmPm:case a.FieldType.dateTimeUsShortAM_PM:default:t=a.OperatorType.equal}return t}function M(e){return/(true|1)/i.test(e+"")}function N(e,t){let i="";if("string"==typeof e&&/^[0-9\-\/]*$/.test(e)){const r=decodeURIComponent(e),n=l(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=t?n.utc().format():n.format())}return i}function V(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function G(e,t,i){let r=t;return e&&"function"==typeof e.sanitizer?r=e.sanitizer(t||""):"function"==typeof d.sanitize&&(r=(d.sanitize(t||"",i||{})||"").toString()),r}function H(e,t,i){if("string"==typeof t&&(t=t.split(".")),t.length>1){const r=t.shift();e&&void 0!==r&&H(e[r]="[object Object]"===Object.prototype.toString.call(e[r])?e[r]:{},t,i)}else e&&t[0]&&(e[t[0]]=i)}function B(e,t=","){if(null!=e){const i=""+e,r=i.split(".");return 2===r.length?`${r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)}.${r[1]}`:i.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return e}function j(e,t=!1){return"string"==typeof e?t?e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):e.charAt(0).toUpperCase()+e.slice(1):e}function U(e){return"string"==typeof e?e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,(e,t)=>/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()):e}function L(e){return"string"==typeof e?U(e).replace(/([A-Z])/g,"-$1").toLowerCase():e}function z(e,t,i={}){return Array.isArray(e)?e.find(t)||i:e}function Y(e){const t=e&&e.getBoundingClientRect&&e.getBoundingClientRect();let i=0,r=0;return t&&void 0!==t.top&&void 0!==t.left&&(i=t.top+window.pageYOffset,r=t.left+window.pageXOffset),{top:i,left:r}}function q(e){return"string"==typeof e?U(e).replace(/([A-Z])/g,"_$1").toLowerCase():e}function W(e){if(Array.isArray(e))for(;e.length>0;){const t=e.pop();(null==t?void 0:t.unsubscribe)&&t.unsubscribe()}return e}function $(e){return Array.isArray(e)&&e.length>0?e.filter((t,i)=>e.indexOf(t)>=i):e}function K(e,t="id"){if(Array.isArray(e)&&e.length>0){const i=[],r=new Map;for(const n of e)n&&!r.has(n[t])&&(r.set(n[t],!0),i.push({id:n[t],name:n.name}));return i}return e}}.call(this,i("CW7D"),i("EVdn"))},Oi2j:function(e,t,i){"use strict";i.d(t,"a",(function(){return r.BackendUtilityService})),i.d(t,"b",(function(){return n.a})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"G",(function(){return u.a})),i.d(t,"f",(function(){return h})),i.d(t,"g",(function(){return g.a})),i.d(t,"i",(function(){return S})),i.d(t,"h",(function(){return _})),i.d(t,"j",(function(){return C})),i.d(t,"k",(function(){return w.a})),i.d(t,"m",(function(){return T.a})),i.d(t,"n",(function(){return O})),i.d(t,"l",(function(){return x})),i.d(t,"q",(function(){return E})),i.d(t,"r",(function(){return F})),i.d(t,"o",(function(){return I})),i.d(t,"p",(function(){return A})),i.d(t,"s",(function(){return P})),i.d(t,"t",(function(){return D})),i.d(t,"u",(function(){return a.addToArrayWhenNotExists})),i.d(t,"v",(function(){return a.addWhiteSpaces})),i.d(t,"w",(function(){return a.arrayRemoveItemByIndex})),i.d(t,"x",(function(){return a.castObservableToPromise})),i.d(t,"A",(function(){return a.convertParentChildArrayToHierarchicalView})),i.d(t,"y",(function(){return a.convertHierarchicalViewToParentChildArray})),i.d(t,"z",(function(){return a.convertHierarchicalViewToParentChildArrayByReference})),i.d(t,"C",(function(){return a.deepCopy})),i.d(t,"E",(function(){return a.emptyElement})),i.d(t,"F",(function(){return a.emptyObject})),i.d(t,"H",(function(){return a.findItemInHierarchicalStructure})),i.d(t,"N",(function(){return a.htmlEncode})),i.d(t,"P",(function(){return a.htmlEntityDecode})),i.d(t,"O",(function(){return a.htmlEncodedStringWithPadding})),i.d(t,"Q",(function(){return a.isNumber})),i.d(t,"B",(function(){return a.decimalFormatted})),i.d(t,"D",(function(){return a.destroyObjectDomElementProps})),i.d(t,"J",(function(){return a.formatNumber})),i.d(t,"K",(function(){return a.getDescendantProperty})),i.d(t,"M",(function(){return a.getTranslationPrefix})),i.d(t,"S",(function(){return a.mapMomentDateFormatWithFieldType})),i.d(t,"R",(function(){return a.mapFlatpickrDateFormatWithFieldType})),i.d(t,"V",(function(){return a.mapOperatorType})),i.d(t,"U",(function(){return a.mapOperatorToShorthandDesignation})),i.d(t,"T",(function(){return a.mapOperatorByFieldType})),i.d(t,"W",(function(){return a.parseBoolean})),i.d(t,"X",(function(){return a.parseUtcDate})),i.d(t,"Y",(function(){return a.sanitizeHtmlToText})),i.d(t,"Z",(function(){return a.sanitizeTextByAvailableSanitizer})),i.d(t,"ab",(function(){return a.setDeepValue})),i.d(t,"bb",(function(){return a.thousandSeparatorFormatted})),i.d(t,"cb",(function(){return a.titleCase})),i.d(t,"db",(function(){return a.toCamelCase})),i.d(t,"eb",(function(){return a.toKebabCase})),i.d(t,"I",(function(){return a.findOrDefault})),i.d(t,"L",(function(){return a.getHtmlElementOffset})),i.d(t,"fb",(function(){return a.toSnakeCase})),i.d(t,"ib",(function(){return a.unsubscribeAll})),i.d(t,"gb",(function(){return a.uniqueArray})),i.d(t,"hb",(function(){return a.uniqueObjectArray}));var r=i("VADH"),n=i("FBVB"),s=i("NcUD"),o=i("9u1P"),a=i("Ljcy");class d{constructor(e){this.translaterService=e}filterCollection(e,t,i=s.FilterMultiplePassType.chain){let r=[];if(Array.isArray(t)){r=i===s.FilterMultiplePassType.merge?[]:[...e];for(const n of t)if(i===s.FilterMultiplePassType.merge){const t=this.singleFilterCollection(e,n);r=Object(a.uniqueArray)([...r,...t])}else r=this.singleFilterCollection(r,n)}else r=this.singleFilterCollection(e,t);return r}singleFilterCollection(e,t){let i=[];if(t){const r=t.property,n=t.operator||s.OperatorType.equal,o=void 0===t.value?"":t.value;switch(n){case s.OperatorType.equal:i=r?e.filter(e=>e[r]===o):e.filter(e=>e===o);break;case s.OperatorType.contains:i=r?e.filter(e=>-1!==e[r].toString().indexOf(o.toString())):e.filter(e=>null!=e&&-1!==e.toString().indexOf(o.toString()));break;case s.OperatorType.notContains:i=r?e.filter(e=>-1===e[r].toString().indexOf(o.toString())):e.filter(e=>null!=e&&-1===e.toString().indexOf(o.toString()));break;case s.OperatorType.notEqual:default:i=r?e.filter(e=>e[r]!==o):e.filter(e=>e!==o)}}return i}sortCollection(e,t,i,r){var n,a,d,l;if(r&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let c=[];if(i)if(Array.isArray(i))c=t.sort((t,n)=>{var a,d,l,c;for(let u=0,h=i.length;u<h;u++){const h=i[u];if(null==h?void 0:h.property){const i=h.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,u=h.property,g=null!==(d=null!==(a=null==h?void 0:h.fieldType)&&void 0!==a?a:null==e?void 0:e.type)&&void 0!==d?d:s.FieldType.string,p=r?(null===(l=this.translaterService)||void 0===l?void 0:l.translate)&&this.translaterService.translate(t[u]||" "):t[u],m=r?(null===(c=this.translaterService)||void 0===c?void 0:c.translate)&&this.translaterService.translate(n[u]||" "):n[u],f=Object(o.sortByFieldType)(g,p,m,i,e);if(f!==s.SortDirectionNumber.neutral)return f}}return s.SortDirectionNumber.neutral});else if(null==i?void 0:i.property){const d=i.property,l=i.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,u=null!==(a=null!==(n=null==i?void 0:i.fieldType)&&void 0!==n?n:null==e?void 0:e.type)&&void 0!==a?a:s.FieldType.string;c=t.sort((t,i)=>{var n,a;const c=r?(null===(n=this.translaterService)||void 0===n?void 0:n.translate)&&this.translaterService.translate(t[d]||" "):t[d],h=r?(null===(a=this.translaterService)||void 0===a?void 0:a.translate)&&this.translaterService.translate(i[d]||" "):i[d],g=Object(o.sortByFieldType)(u,c,h,l,e);return g!==s.SortDirectionNumber.neutral?g:s.SortDirectionNumber.neutral})}else if(i&&!i.property){const n=i.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,a=null!==(l=null!==(d=null==i?void 0:i.fieldType)&&void 0!==d?d:null==e?void 0:e.type)&&void 0!==l?l:s.FieldType.string;c=t.sort((t,i)=>{var d,l;const c=r?(null===(d=this.translaterService)||void 0===d?void 0:d.translate)&&this.translaterService.translate(t||" "):t,u=r?(null===(l=this.translaterService)||void 0===l?void 0:l.translate)&&this.translaterService.translate(i||" "):i,h=Object(o.sortByFieldType)(a,c,u,n,e);return h!==s.SortDirectionNumber.neutral?h:s.SortDirectionNumber.neutral})}return c}}class l{get(e){throw new Error('ContainerService "get" method must be implemented')}registerInstance(e,t){throw new Error('ContainerService "registerInstance" method must be implemented')}}class c{init(e,t){throw new Error('ExcelExportService the "init" method must be implemented')}exportToExcel(e){throw new Error('ExcelExportService the "exportToExcel" method must be implemented')}}var u=i("gglu");i("ICte"),i("+Huw"),i("v22/");class h{constructor(e,t,i,r,n,s,o,a,d,l,c,u,h,g,p,m){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.cellMenuExtension=i,this.checkboxSelectorExtension=r,this.columnPickerExtension=n,this.contextMenuExtension=s,this.draggableGroupingExtension=o,this.gridMenuExtension=a,this.groupItemMetaExtension=d,this.headerButtonExtension=l,this.headerMenuExtension=c,this.rowDetailViewExtension=u,this.rowMoveManagerExtension=h,this.rowSelectionExtension=g,this.sharedService=p,this.translaterService=m,this._extensionCreatedList={},this._extensionList={}}get extensionList(){return this._extensionList}dispose(){var e;this.sharedService.visibleColumns=[];for(const t of Object.keys(this._extensionList))if(this._extensionList.hasOwnProperty(t)){const i=this._extensionList[t];(null===(e=null==i?void 0:i.class)||void 0===e?void 0:e.dispose)&&i.class.dispose()}for(const e of Object.keys(this._extensionList))delete this._extensionList[e]}getAllColumns(){return this.sharedService.allColumns||[]}getVisibleColumns(){return this.sharedService.visibleColumns||[]}getExtensionByName(e){if(this._extensionList&&this._extensionList[e])return this._extensionList[e]}getSlickgridAddonInstance(e){const t=this.getExtensionByName(e);return t&&t.class&&t.instance?t.class&&t.class.getAddonInstance?t.class.getAddonInstance():t.instance:null}autoResizeColumns(){this.sharedService.slickGrid.autosizeColumns()}bindDifferentExtensions(){if(this.sharedService&&this.sharedService.gridOptions){if(this.sharedService.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register){const e=this.autoTooltipExtension.register();e&&(this._extensionList[s.ExtensionName.autoTooltip]={name:s.ExtensionName.autoTooltip,class:this.autoTooltipExtension,instance:e})}if(this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register){const e=this.cellExternalCopyExtension.register();e&&(this._extensionList[s.ExtensionName.cellExternalCopyManager]={name:s.ExtensionName.cellExternalCopyManager,class:this.cellExternalCopyExtension,instance:e})}if(this.sharedService.gridOptions.enableCellMenu&&this.cellMenuExtension&&this.cellMenuExtension.register){const e=this.cellMenuExtension.register();e&&(this._extensionList[s.ExtensionName.cellMenu]={name:s.ExtensionName.cellMenu,class:this.cellMenuExtension,instance:e})}if(!this.getExtensionByName(s.ExtensionName.rowSelection)&&(this.sharedService.gridOptions.enableRowSelection||this.sharedService.gridOptions.enableCheckboxSelector||this.sharedService.gridOptions.enableRowDetailView||this.sharedService.gridOptions.enableRowMoveManager)&&this.rowSelectionExtension&&this.rowSelectionExtension.register){const e=this.rowSelectionExtension.register();e&&(this._extensionList[s.ExtensionName.rowSelection]={name:s.ExtensionName.rowSelection,class:this.rowSelectionExtension,instance:e})}if(this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.checkboxSelectorExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.checkboxSelector),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.checkboxSelector]={name:s.ExtensionName.checkboxSelector,class:this.checkboxSelectorExtension,instance:i})}if(this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register){const e=this.columnPickerExtension.register();e&&(this._extensionList[s.ExtensionName.columnPicker]={name:s.ExtensionName.columnPicker,class:this.columnPickerExtension,instance:e})}if(this.sharedService.gridOptions.enableContextMenu&&this.contextMenuExtension&&this.contextMenuExtension.register){const e=this.contextMenuExtension.register();e&&(this._extensionList[s.ExtensionName.contextMenu]={name:s.ExtensionName.contextMenu,class:this.contextMenuExtension,instance:e})}if(this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register){const e=this.draggableGroupingExtension.register();e&&(this._extensionList[s.ExtensionName.draggableGrouping]={name:s.ExtensionName.draggableGrouping,class:this.draggableGroupingExtension,instance:e})}if(this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register){const e=this.gridMenuExtension.register();e&&(this._extensionList[s.ExtensionName.gridMenu]={name:s.ExtensionName.gridMenu,class:this.gridMenuExtension,instance:e})}if((this.sharedService.gridOptions.enableDraggableGrouping||this.sharedService.gridOptions.enableGrouping)&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register){const e=this.groupItemMetaExtension.register();e&&(this._extensionList[s.ExtensionName.groupItemMetaProvider]={name:s.ExtensionName.groupItemMetaProvider,class:this.groupItemMetaExtension,instance:e})}if(this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register){const e=this.headerButtonExtension.register();e&&(this._extensionList[s.ExtensionName.headerButton]={name:s.ExtensionName.headerButton,class:this.headerButtonExtension,instance:e})}if(this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register){const e=this.headerMenuExtension.register();e&&(this._extensionList[s.ExtensionName.headerMenu]={name:s.ExtensionName.headerMenu,class:this.headerMenuExtension,instance:e})}if(this.sharedService.gridOptions.enableRowDetailView&&this.rowDetailViewExtension&&this.rowDetailViewExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.rowDetailViewExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.rowDetailView),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.rowDetailView]={name:s.ExtensionName.rowDetailView,class:this.rowDetailViewExtension,instance:i})}if(this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.rowMoveManagerExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.rowMoveManager),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.rowMoveManager]={name:s.ExtensionName.rowMoveManager,class:this.rowMoveManagerExtension,instance:i})}}}createExtensionsBeforeGridCreation(e,t){if(t.enableCheckboxSelector&&!this.getCreatedExtensionByName(s.ExtensionName.checkboxSelector)){const i=this.checkboxSelectorExtension.create(e,t);i&&(this._extensionCreatedList[s.ExtensionName.checkboxSelector]={name:s.ExtensionName.checkboxSelector,instance:i,class:this.checkboxSelectorExtension})}if(t.enableRowMoveManager&&!this.getCreatedExtensionByName(s.ExtensionName.rowMoveManager)){const i=this.rowMoveManagerExtension.create(e,t);i&&(this._extensionCreatedList[s.ExtensionName.rowMoveManager]={name:s.ExtensionName.rowMoveManager,instance:i,class:this.rowMoveManagerExtension})}if(t.enableRowDetailView&&!this.getCreatedExtensionByName(s.ExtensionName.rowDetailView)){const i=this.rowDetailViewExtension.create(e,t);this._extensionCreatedList[s.ExtensionName.rowDetailView]={name:s.ExtensionName.rowDetailView,instance:i,class:this.rowDetailViewExtension}}if(t.enableDraggableGrouping&&!this.getCreatedExtensionByName(s.ExtensionName.draggableGrouping)){const e=this.draggableGroupingExtension.create(t);e&&(t.enableColumnReorder=e.getSetupColumnReorder,this._extensionCreatedList[s.ExtensionName.draggableGrouping]={name:s.ExtensionName.draggableGrouping,instance:e,class:this.draggableGroupingExtension})}}hideColumn(e){if(this.sharedService&&this.sharedService.slickGrid&&this.sharedService.slickGrid.getColumns&&this.sharedService.slickGrid.setColumns){const t=this.sharedService.slickGrid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.slickGrid.getColumns(),t),this.sharedService.slickGrid.setColumns(this.sharedService.visibleColumns)}}refreshBackendDataset(e){this.gridMenuExtension.refreshBackendDataset(e)}removeColumnByIndex(e,t){return Array.isArray(e)?e.filter((e,i)=>t!==i):e}translateCellMenu(){this.cellMenuExtension&&this.cellMenuExtension.translateCellMenu&&this.cellMenuExtension.translateCellMenu()}translateColumnPicker(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()}translateContextMenu(){this.contextMenuExtension&&this.contextMenuExtension.translateContextMenu&&this.contextMenuExtension.translateContextMenu()}translateGridMenu(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()}translateHeaderMenu(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()}translateColumnHeaders(e,t){var i;if(this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');e&&(null===(i=this.translaterService)||void 0===i?void 0:i.use)&&this.translaterService.use(e);let r=t;r||(r=this.sharedService.columnDefinitions),this.translateItems(r,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.renderColumnHeaders(r,Array.isArray(t)),this.gridMenuExtension.translateGridMenu()}renderColumnHeaders(e,t=!1){let i=e;i||(i=this.sharedService.columnDefinitions),Array.isArray(i)&&this.sharedService.slickGrid&&this.sharedService.slickGrid.setColumns&&((i.length>this.sharedService.allColumns.length||t)&&(this.sharedService.allColumns=i),this.sharedService.slickGrid.setColumns(i)),this.sharedService.gridOptions.enableColumnPicker&&this.recreateExternalAddon(this.columnPickerExtension,s.ExtensionName.columnPicker),this.sharedService.gridOptions.enableGridMenu&&this.recreateExternalAddon(this.gridMenuExtension,s.ExtensionName.gridMenu),this.sharedService.gridOptions.enableHeaderMenu&&this.recreateExternalAddon(this.headerMenuExtension,s.ExtensionName.headerMenu)}getCreatedExtensionByName(e){if(this._extensionCreatedList&&this._extensionCreatedList.hasOwnProperty(e))return this._extensionCreatedList[e]}recreateExternalAddon(e,t){e.dispose();const i=e.register(),r=this.getExtensionByName(t);r&&(r.instance=i)}translateItems(e,t,i){var r;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(Array.isArray(e))for(const n of e)n[t]&&(n[i]=null===(r=this.translaterService)||void 0===r?void 0:r.translate(n[t]))}}var g=i("yXse");let p;const m={triggerEvent:!0},f={highlightRow:!0,position:"top",resortGrid:!1,selectRow:!1,triggerEvent:!0},b={highlightRow:!1,selectRow:!1,scrollRowIntoView:!1,triggerEvent:!0},v={autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1};class S{constructor(e,t,i,r,n,s){this.gridStateService=e,this.filterService=t,this.pubSubService=i,this.paginationService=r,this.sharedService=n,this.sortService=s}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get _gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions)?this._grid.getOptions():{}}dispose(){var e;(null===(e=this._rowSelectionPlugin)||void 0===e?void 0:e.destroy)&&this._rowSelectionPlugin.destroy()}init(e){this._grid=e}clearAllFiltersAndSorts(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()}clearPinning(){const e=[...this.sharedService.visibleColumns];this.sharedService.slickGrid.setOptions({frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1}),Array.isArray(e)&&this.sharedService.slickGrid.setColumns(e)}setPinning(e,t=!0,i=!1,r=!0){this.sharedService.slickGrid.setOptions(e,i,r),this.sharedService.gridOptions={...this.sharedService.gridOptions,...e},t&&this.sharedService.slickGrid.autosizeColumns()}getAllColumnDefinitions(){return this.sharedService.allColumns}getVisibleColumnDefinitions(){return this.sharedService.visibleColumns}getColumnFromEventArguments(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid}}getDataItemByRowNumber(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(e)}getItemRowMetadataToHighlight(e){return t=>{const i=this._dataView.getItem(t);let r={cssClasses:""};return"function"==typeof e&&(r=e(t)),r||(r={cssClasses:""}),i&&i._dirty&&(r.cssClasses=(r&&r.cssClasses||"")+" dirty"),i&&i.rowClass&&r&&(r.cssClasses+=" "+i.rowClass,r.cssClasses+=" row"+t),r}}getDataItemByRowIndex(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(e)}getDataItemByRowIndexes(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');const t=[];return Array.isArray(e)&&e.forEach(e=>{t.push(this._grid.getDataItem(e))}),t}getSelectedRows(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()}getSelectedRowsDataItem(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');const e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)}hideColumnById(e,t){if(t={...v,...t},this._grid&&this._grid.getColumns&&this._grid.setColumns){const i=this._grid.getColumns(),r=i.findIndex(t=>t.id===e);if(r>=0){const n=Object(a.arrayRemoveItemByIndex)(i,r);this.sharedService.visibleColumns=n,this._grid.setColumns(n);const s=this.sharedService.allColumns.findIndex(t=>t.id===e);return s&&((null==t?void 0:t.hideFromColumnPicker)&&(this.sharedService.allColumns[s].excludeFromColumnPicker=!0),(null==t?void 0:t.hideFromGridMenu)&&(this.sharedService.allColumns[s].excludeFromGridMenu=!0)),(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:n}),r}}return-1}hideColumnByIds(e,t){if(t={...v,...t},Array.isArray(e)){for(const i of e)this.hideColumnById(i,{...t,triggerEvent:!1,autoResizeColumns:!1});(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:this.sharedService.visibleColumns})}}highlightRow(e,t=1500,i=300){!this._grid.getSelectionModel()&&Slick&&Slick.RowSelectionModel&&(this._rowSelectionPlugin=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionPlugin)),Array.isArray(e)?e.forEach(e=>this.highlightRowByMetadata(e,t,i)):this.highlightRowByMetadata(e,t,i)}highlightRowByMetadata(e,t=1500,i=300){this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);const r=this._dataView.getItem(e),n=this._gridOptions.datasetIdPropertyName||"id";void 0!==(null==r?void 0:r[n])&&(r.rowClass="highlight",this._dataView.updateItem(r[n],r),this.renderGrid(),clearTimeout(p),p=setTimeout(()=>{r.rowClass="highlight-end",this._dataView.updateItem(r[n],r),this.renderGrid()},i),setTimeout(()=>{void 0!==(null==r?void 0:r[n])&&(delete r.rowClass,void 0!==this._dataView.getIdxById(r[n])&&(this._dataView.updateItem(r[n],r),this.renderGrid()))},t+i))}setSelectedRow(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows([e])}setSelectedRows(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows(e)}renderGrid(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())}resetGrid(e){if(this._grid&&this._dataView){const t=this.sharedService.allColumns||[];Array.isArray(t)&&t.length>0&&(this._grid.setColumns(t),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.clearPinning(),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()}addItem(e,t){var i,r,n;const s=null!==(i=null==(t={...f,...t})?void 0:t.position)&&void 0!==i?i:"top";if(!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");const o=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(o in e))throw new Error(`Adding an item requires the item to include an "${o}" property`);"bottom"===s?this._dataView.addItem(e):this._dataView.insertItem(0,e);let a=0;const d=null!==(n=null===(r=e)||void 0===r?void 0:r[o])&&void 0!==n?n:"";t.resortGrid?(this._dataView.reSort(),a=this._dataView.getRowById(d)):(a="bottom"===s?this._dataView.getRowById(d):0,this._grid.scrollRowIntoView(a||0)),t.highlightRow&&void 0!==a&&this.highlightRow(a),void 0!==a&&t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(a),t.triggerEvent&&this.pubSubService.publish("onItemAdded",e);return!(this._gridOptions&&this._gridOptions.backendServiceApi)&&this._gridOptions.enablePagination&&("top"===s?this.paginationService.goToFirstPage():this.paginationService.goToLastPage()),a}addItems(e,t){var i;t={...f,...t};const r=this._gridOptions.datasetIdPropertyName||"id",n=null!==(i=null==t?void 0:t.position)&&void 0!==i?i:"top",s=[];return Array.isArray(e)?(this._dataView.beginUpdate(!0),"bottom"===n?this._dataView.addItems(e):this._dataView.insertItems(0,e),this._dataView.endUpdate(),t.resortGrid&&this._dataView.reSort(),"bottom"===n?this._grid.navigateBottom():this._grid.navigateTop(),e.forEach(e=>s.push(this._dataView.getRowById(e[r]))),t.highlightRow&&this.highlightRow(s),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(s),t.triggerEvent&&this.pubSubService.publish("onItemAdded",e),s):[this.addItem(e,t)||0]}deleteItem(e,t){t={...m,...t};const i=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(i in e))throw new Error(`Deleting an item requires the item to include an "${i}" property`);return this.deleteItemById(e[i],t)}deleteItems(e,t){t={...m,...t};const i=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(e))return this.deleteItem(e,t),[e[i]];this._dataView.beginUpdate(!0);const r=[];return e.forEach(e=>{var t;void 0!==(null===(t=e)||void 0===t?void 0:t[i])&&r.push(e[i])}),this._dataView.deleteItems(r),this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),r}deleteItemById(e,t){if(t={...m,...t},null==e)throw new Error('Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection()||!1)&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(e),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),e}deleteItemByIds(e,t){if(t={...m,...t},Array.isArray(e)){this._dataView.beginUpdate(!0);for(let t=0;t<e.length;t++)null!==e[t]&&this.deleteItemById(e[t],{triggerEvent:!1});return this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),e}return[]}updateItem(e,t){t={...b,...t};const i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error(`Calling Update of an item requires the item to include an "${i}" property`);return this.updateItemById(r,e,t)}updateItems(e,t){t={...b,...t};const i=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(e))return[this.updateItem(e,t)];this._dataView.beginUpdate(!0);const r=[],n=[];return e.forEach(e=>{const t=e&&i in e?e[i]:void 0;if(n.push(t),void 0!==this._dataView.getIdxById(t)){const e=this._dataView.getRowById(t);void 0!==e&&(r.push(e),this._grid.updateRow(e))}}),this._dataView.updateItems(n,e),this._dataView.endUpdate(),t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),t.triggerEvent&&this.pubSubService.publish("onItemUpdated",e),r}updateItemById(e,t,i){if(i={...b,...i},void 0===e)throw new Error('Cannot update a row without a valid "id"');const r=this._dataView.getRowById(e);if(!(t&&void 0!==r||this._gridOptions.enablePagination))throw new Error("The item to update in the grid was not found with id: "+e);return void 0!==this._dataView.getIdxById(e)&&(this._dataView.updateItem(e,t),this._grid.updateRow(r),i.scrollRowIntoView&&this._grid.scrollRowIntoView(r),i.highlightRow&&this.highlightRow(r),i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(r),i.triggerEvent&&this.pubSubService.publish("onItemUpdated",t)),r}upsertItem(e,t){t={...f,...t};const i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error(`Calling Upsert of an item requires the item to include an "${i}" property`);return this.upsertItemById(r,e,t)}upsertItems(e,t){if(t={...f,...t},!Array.isArray(e))return[this.upsertItem(e,t)];this._dataView.beginUpdate(!0);const i=[];e.forEach(e=>{i.push(this.upsertItem(e,{...t,highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1}))}),this._dataView.endUpdate();const r=i.map(e=>void 0!==e.added?e.added:e.updated);if(t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),t.triggerEvent){this.pubSubService.publish("onItemUpserted",e);const t=i.filter(e=>void 0!==e.added);Array.isArray(t)&&t.length>0&&this.pubSubService.publish("onItemAdded",t);const r=i.filter(e=>void 0!==e.updated);Array.isArray(r)&&r.length>0&&this.pubSubService.publish("onItemUpdated",r)}return i}upsertItemById(e,t,i){let r,n,s=!1;if(i={...f,...i},void 0===e&&!this.hasRowSelectionEnabled())throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');return void 0===this._dataView.getRowById(e)?(r=this.addItem(t,i),s=!0):(n=this.updateItem(t,{highlightRow:i.highlightRow,selectRow:i.selectRow,triggerEvent:i.triggerEvent}),s=!1),i.triggerEvent&&(this.pubSubService.publish("onItemUpserted",t),s?this.pubSubService.publish("onItemAdded",t):this.pubSubService.publish("onItemUpdated",t)),{added:r,updated:n}}hasRowSelectionEnabled(){const e=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&e}}class _{constructor(){this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}dispose(){this._eventHandler.unsubscribeAll()}bindOnBeforeEditCell(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onBeforeEditCell;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e.getColumns()[r.cell];if("function"==typeof n.onBeforeEditCell){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onBeforeEditCell(i,s)}})}bindOnCellChange(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onCellChange;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e.getColumns()[r.cell];if("function"==typeof n.onCellChange){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellChange(i,s)}})}bindOnClick(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onClick;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e&&e.getColumns&&e.getColumns()[r.cell],s=e&&e.getOptions&&e.getOptions()||{};if(s.enableCellNavigation&&(!s.editable||s.editable&&s.autoCommitEdit)&&e.setActiveCell(r.row,r.cell),"function"==typeof n.onCellClick){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellClick(i,s)}})}}var y=i("V5Q0");class C{constructor(e,t,i,r,n){this.extensionService=e,this.filterService=t,this.pubSubService=i,this.sharedService=r,this.sortService=n,this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this._subscriptions=[],this._selectedRowDataContextIds=[],this._selectedFilteredRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get _gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions)?this._grid.getOptions():{}}get datasetIdPropName(){return this._gridOptions.datasetIdPropertyName||"id"}get selectedRowDataContextIds(){return this._selectedRowDataContextIds}set selectedRowDataContextIds(e){this._selectedRowDataContextIds=e,this._selectedFilteredRowDataContextIds=e}init(e){this._grid=e,this.subscribeToAllGridChanges(e)}dispose(){this._currentColumns=[],this._columns=[],this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}changeColumnsArrangement(e,t=!0){if(Array.isArray(e)&&e.length>0){const i=this.getAssociatedGridColumns(this._grid,e);if(i&&Array.isArray(i)&&i.length>0){if(this._gridOptions.enableCheckboxSelector){const e=Array.isArray(this.sharedService.allColumns)&&this.sharedService.allColumns.length>0?this.sharedService.allColumns[0]:null;"_checkbox_selector"===(null==e?void 0:e.id)&&"_checkbox_selector"!==i[0].id&&i.unshift(e)}i.forEach(e=>e.originalWidth=e.width||e.originalWidth),this._grid.setColumns(i),this.sharedService.visibleColumns=i,t&&this._grid.autosizeColumns()}}}getCurrentGridState(e){const{frozenColumn:t,frozenRow:i,frozenBottom:r}=this.sharedService.gridOptions,n={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters(),pinning:{frozenColumn:t,frozenRow:i,frozenBottom:r}},s=this.getCurrentPagination();if(s&&(n.pagination=s),this.hasRowSelectionEnabled()){const t=this.getCurrentRowSelections(e&&e.requestRefreshRowFilteredRow);t&&(n.rowSelection=t)}return n}getColumns(){return this._columns}getAssociatedCurrentColumns(e){const t=[];return e&&Array.isArray(e)&&e.forEach(e=>{e&&e.id&&t.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})}),this._currentColumns=t,t}getAssociatedGridColumns(e,t){const i=[],r=this.sharedService.allColumns||e.getColumns();return t&&Array.isArray(t)&&t.forEach(e=>{const t=r.find(t=>t.id===e.columnId);t&&t.id&&i.push({...t,cssClass:e.cssClass,headerCssClass:e.headerCssClass,width:e.width})}),this._columns=i,i}getCurrentColumns(){let e=[];return e=this._currentColumns&&Array.isArray(this._currentColumns)&&this._currentColumns.length>0?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns()),e}getCurrentFilters(){if(this._gridOptions&&this._gridOptions.backendServiceApi){const e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentFilters)return e.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null}getCurrentPagination(){if(this._gridOptions.enablePagination){if(!this._gridOptions||!this._gridOptions.backendServiceApi)return this.sharedService.currentPagination;{const e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentPagination)return e.getCurrentPagination()}}return null}getCurrentRowSelections(e=!0){if(this._grid&&this._gridOptions&&this._dataView&&this.hasRowSelectionEnabled()){let t=[];const i=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),r=this._selectedRowDataContextIds;return!0===e&&(t=this.refreshFilteredRowSelections()),t=this._selectedFilteredRowDataContextIds,{gridRowIndexes:i,dataContextIds:r,filteredDataContextIds:t}}return null}getCurrentSorters(){if(this._gridOptions&&this._gridOptions.backendServiceApi){const e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentSorters)return e.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null}needToPreserveRowSelection(){let e=!1;if(this._gridOptions&&this._gridOptions.dataView&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){const t=this._gridOptions.dataView.syncGridSelection;"boolean"==typeof t?e=this._gridOptions.dataView.syncGridSelection:"object"==typeof t&&(e=t.preserveHidden),e&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(e=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return e}resetColumns(e){const t=e||this._columns,i=this.getAssociatedCurrentColumns(t);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})}resetToOriginalColumns(e=!0){this._grid.setColumns(this.sharedService.allColumns),this.sharedService.visibleColumns=this.sharedService.allColumns,e&&this._grid.autosizeColumns()}resetRowSelectionWhenRequired(){if(!this.needToPreserveRowSelection()&&(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)){const e=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(s.ExtensionName.rowSelection);e&&e.instance&&this._grid.setSelectedRows([])}}subscribeToAllGridChanges(e){this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.filter},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!this.hasRowSelectionEnabled()})}),this.hasRowSelectionEnabled()&&this.reEvaluateRowSelectionAfterFilterChange()})),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:s.GridStateType.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.sorter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:s.GridStateType.sorter},gridState:this.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(s.ExtensionName.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(s.ExtensionName.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",e),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",e),this.bindSlickGridOnSetOptionsEventToGridStateChange(e),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.bindSlickGridRowSelectionToGridStateChange(),this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuHideColumns",e=>{const t=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})}))}bindExtensionAddonEventToGridStateChange(e,t){const i=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(e),r=i&&i.instance&&i.instance[t];r&&"function"==typeof r.subscribe&&this._eventHandler.subscribe(r,(e,t)=>{const i=t&&t.columns,r=this.getAssociatedCurrentColumns(i);this.pubSubService.publish("onGridStateChanged",{change:{newValues:r,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})})}bindSlickGridColumnChangeEventToGridStateChange(e,t){var i;const r=null===(i=t)||void 0===i?void 0:i[e];r&&"function"==typeof r.subscribe&&this._eventHandler.subscribe(r,()=>{const e=t.getColumns(),i=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})})}bindSlickGridOnSetOptionsEventToGridStateChange(e){const t=e.onSetOptions;this._eventHandler.subscribe(t,(e,t)=>{const{frozenBottom:i,frozenColumn:r,frozenRow:n}=t.optionsBefore,{frozenBottom:o,frozenColumn:a,frozenRow:d}=t.optionsAfter;if(i!==o||r!==a||n!==d){const e={frozenBottom:o,frozenColumn:a,frozenRow:d},t=this.getCurrentGridState();this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.pinning},gridState:t})}})}bindSlickGridRowSelectionToGridStateChange(){if(this._grid&&this._gridOptions&&this._dataView){const e=this._dataView.onBeforePagingInfoChanged;this._eventHandler.subscribe(e,()=>{this._wasRecheckedAfterPageChange=!1});const t=this._dataView.onPagingInfoChanged;this._eventHandler.subscribe(t,()=>{setTimeout(()=>{const e=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),t=this._grid.getSelectedRows();Object(y.dequal)(e,t)||this._grid.setSelectedRows(e)})});const i=this._grid.onSelectedRowsChanged;this._eventHandler.subscribe(i,(e,t)=>{if(Array.isArray(t.rows)&&Array.isArray(t.previousSelectedRows)){const e=t.rows,i=t.previousSelectedRows,r=e.filter(e=>i.indexOf(e)<0),n=i.filter(t=>e.indexOf(t)<0);if(this._wasRecheckedAfterPageChange&&n.length>0){(this._dataView.mapRowsToIds(n)||[]).forEach(e=>{Array.isArray(this._selectedRowDataContextIds)&&this._selectedRowDataContextIds.splice(this._selectedRowDataContextIds.indexOf(e),1)})}if(r.length>0){(this._dataView.mapRowsToIds(r)||[]).forEach(e=>{-1===this._selectedRowDataContextIds.indexOf(e)&&this._selectedRowDataContextIds.push(e)})}this._wasRecheckedAfterPageChange=!0;const o=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),a=this._grid.getSelectedRows();Object(y.dequal)(o,a)||this._grid.setSelectedRows(o);const d=this.refreshFilteredRowSelections(),l={gridRowIndexes:this._grid.getSelectedRows(),dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:d};this.pubSubService.publish("onGridStateChanged",{change:{newValues:l,type:s.GridStateType.rowSelection},gridState:this.getCurrentGridState()})}})}}hasRowSelectionEnabled(){const e=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&e}reEvaluateRowSelectionAfterFilterChange(){const e=this._grid.getSelectedRows(),t=(this._selectedFilteredRowDataContextIds||[]).slice(),i=this.refreshFilteredRowSelections();if(!Object(y.dequal)(this._selectedFilteredRowDataContextIds,t)){const t={gridRowIndexes:e,dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:i};this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:s.GridStateType.rowSelection},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!1})})}}refreshFilteredRowSelections(){let e=[];const t=this._dataView.getFilteredItems()||[];if(Array.isArray(this._selectedRowDataContextIds)){e=[...this._selectedRowDataContextIds].filter(e=>t.findIndex(t=>t[this.datasetIdPropName]===e)>-1),this._selectedFilteredRowDataContextIds=e}return e}}var w=i("Fla7"),T=i("GAj/");class O{get EMPTY(){throw new Error('RxJS Facade "EMPTY" constant must be implemented')}createObservable(){throw new Error('RxJS Facade "createObservable" method must be implemented')}createSubject(){throw new Error('RxJS Facade "createSubject" method must be implemented')}firstValueFrom(e){throw new Error('RxJS Facade "firstValueFrom" method must be implemented')}iif(e,t,i){throw new Error('RxJS Facade "iif" method must be implemented')}isObservable(e){return!1}takeUntil(e){throw new Error('RxJS Facade "takeUntil" method must be implemented')}}class x{constructor(e){throw new Error('RxJS Observable Facade "constructor" method must be implemented')}subscribe(e,t,i){throw new Error('RxJS Observable Facade "subscribe" method must be implemented')}pipe(e){throw new Error('RxJS Observable Facade "pipe" method must be implemented')}}class E extends x{complete(){throw new Error('RxJS Subject "complete" method must be implemented')}next(e){throw new Error('RxJS Subject "next" method must be implemented')}unsubscribe(){throw new Error('RxJS Subject "unsubscribe" method must be implemented')}}class F{constructor(e){throw new Error('RxJS Subscription Facade "constructor" method must be implemented')}unsubscribe(){throw new Error('RxJS Subscription Facade "unsubscribe" method must be implemented')}}class I{constructor(){this._hasColumnsReordered=!1,this._hideHeaderRowAfterPageLoad=!1}get allColumns(){return this._allColumns}set allColumns(e){this._allColumns=e}get columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}get currentPagination(){return this._currentPagination}set currentPagination(e){this._currentPagination=e}get dataView(){return this._dataView}set dataView(e){this._dataView=e}get frozenVisibleColumnId(){return this._frozenVisibleColumnId}set frozenVisibleColumnId(e){this._frozenVisibleColumnId=e}get hasColumnsReordered(){return this._hasColumnsReordered}set hasColumnsReordered(e){this._hasColumnsReordered=e}get slickGrid(){return this._grid}set slickGrid(e){this._grid=e}get gridOptions(){var e;return this._gridOptions||(null===(e=this._grid)||void 0===e?void 0:e.getOptions)&&this._grid.getOptions()||{}}set gridOptions(e){this._gridOptions=e}get groupItemMetadataProvider(){return this._groupItemMetadataProvider}set groupItemMetadataProvider(e){this._groupItemMetadataProvider=e}get hideHeaderRowAfterPageLoad(){return this._hideHeaderRowAfterPageLoad}set hideHeaderRowAfterPageLoad(e){this._hideHeaderRowAfterPageLoad=e}get externalRegisteredResources(){return this._externalRegisteredResources}set externalRegisteredResources(e){this._externalRegisteredResources=e}get visibleColumns(){return this._visibleColumns}set visibleColumns(e){this._visibleColumns=e}get hierarchicalDataset(){return this._hierarchicalDataset}set hierarchicalDataset(e){this._hierarchicalDataset=e}}class A{constructor(e,t,i,r){this.sharedService=e,this.pubSubService=t,this.backendUtilities=i,this.rxjs=r,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}addRxJsResource(e){this.rxjs=e}bindBackendOnSort(e){this._isBackendGrid=!0,this._grid=e,this._dataView=(null==e?void 0:e.getData)&&e.getData();const t=e.onSort;this._eventHandler.subscribe(t,this.onBackendSortChanged.bind(this))}bindLocalOnSort(e){this._isBackendGrid=!1,this._grid=e,this._dataView=(null==e?void 0:e.getData)&&e.getData(),this.processTreeDataInitialSort();const t=e.onSort;this._eventHandler.subscribe(t,this.handleLocalOnSort.bind(this))}handleLocalOnSort(e,t){const i=t.multiColumnSort?t.sortCols:new Array({columnId:t.sortCol.id,sortAsc:t.sortAsc,sortCol:t.sortCol});this._currentLocalSorters=[],Array.isArray(i)&&i.forEach(e=>{e.sortCol&&this._currentLocalSorters.push({columnId:e.sortCol.id,direction:e.sortAsc?s.SortDirection.ASC:s.SortDirection.DESC})}),this.onLocalSortChanged(this._grid,i),this.emitSortChanged(s.EmitterType.local)}clearSortByColumnId(e,t){const i=this.getCurrentColumnSorts(),r=this.getCurrentColumnSorts(""+t);if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,r,!0,!0);else{const e=this._gridOptions&&this._gridOptions.multiColumnSort||!1?r:r[0];this._grid.onSort.notify(e)}const t=r.map(e=>({columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}));this._grid.setSortColumns(t)}Array.isArray(r)&&0===r.length&&this.sortLocalGridByDefaultSortFieldId()}clearSorting(e=!0){if(this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),e)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,multiColumnSort:!0,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){const e=this._gridOptions&&this._gridOptions.backendServiceApi&&this._gridOptions.backendServiceApi.service;e&&e.clearSorters&&e.clearSorters()}this._currentLocalSorters=[],this.pubSubService.publish("onSortCleared",!0)}disableSortFunctionality(e=!0,t=!0){const i=!this._gridOptions.enableSorting;let r;if(this._gridOptions.enableSorting=i,e)t&&this.clearSorting(),this._eventHandler.unsubscribeAll(),r=this.disableAllSortingCommands(!0);else{r=this.disableAllSortingCommands(!1);const e=this._grid.onSort;this._eventHandler.subscribe(e,(e,t)=>this.handleLocalOnSort(e,t))}this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(r)}toggleSortFunctionality(e=!0){const t=this._gridOptions.enableSorting;this.disableSortFunctionality(t,e)}emitSortChanged(e,t){if(e===s.EmitterType.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){let e=[];const t=this._gridOptions.backendServiceApi.service;t&&t.getCurrentSorters&&(e=t.getCurrentSorters()),this.pubSubService.publish("onSortChanged",e)}else e===s.EmitterType.local&&(t&&(this._currentLocalSorters=t),this.pubSubService.publish("onSortChanged",this.getCurrentLocalSorters()))}getCurrentLocalSorters(){return this._currentLocalSorters}getCurrentColumnSorts(e){if(this._grid){const t=this._grid.getSortColumns();if(Array.isArray(t)){return t.reduce((t,i)=>(!i||e&&i.columnId===e||t.push({columnId:i.columnId||"",sortCol:this._columnDefinitions[this._grid.getColumnIndex(i.columnId||"")],sortAsc:i.sortAsc}),t),[])}}return[]}loadGridSorters(e){this._currentLocalSorters=[];const t=[];return Array.isArray(e)&&(e.forEach(e=>{const i=this._columnDefinitions.find(t=>t.id===e.columnId);i&&(t.push({columnId:i.id,sortAsc:e.direction.toUpperCase()===s.SortDirection.ASC,sortCol:i}),this._currentLocalSorters.push({columnId:i.id+"",direction:e.direction.toUpperCase()}))}),this.onLocalSortChanged(this._grid,t),this._grid.setSortColumns(t.map(e=>({columnId:e.columnId,sortAsc:e.sortAsc})))),t}dispose(){var e;this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(e=this.rxjs)||void 0===e?void 0:e.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete())}processTreeDataInitialSort(){if(this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions){const e=this._gridOptions.treeDataOptions,t=this._columnDefinitions.find(t=>t&&t.id===e.columnId);if(t){let i=s.SortDirection.ASC,r={columnId:e.columnId,sortCol:t,sortAsc:!0};if(e&&e.initialSort&&e.initialSort.columnId){const t=e.initialSort.columnId,n=this._columnDefinitions.find(e=>e.id===t);i=(e.initialSort.direction||s.SortDirection.ASC).toUpperCase(),r={columnId:t,sortCol:n,sortAsc:i===s.SortDirection.ASC}}r&&r.columnId&&this.updateSorting([{columnId:r.columnId||"",direction:i}])}}}onBackendSortChanged(e,t){var i;if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');const r=t.grid&&t.grid.getOptions?t.grid.getOptions():{},n=r.backendServiceApi;if(!n||!n.process||!n.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const s=new Date;n.preProcess&&n.preProcess();const o=n.service.processOnSortChanged(e,t),a=r&&r.pagination&&r.pagination.totalItems||0;null===(i=this.backendUtilities)||void 0===i||i.executeBackendCallback(n,o,t,s,a,this.emitSortChanged.bind(this),this.httpCancelRequests$)}onLocalSortChanged(e,t,i=!1,r=!1){var n,o,d,l,c,u,h,g,p;const m=null!==(o=null===(n=this._gridOptions)||void 0===n?void 0:n.enableTreeData)&&void 0!==o&&o,f=(null==e?void 0:e.getData)&&e.getData();if(e&&f){if(i&&!m&&f.reSort(),m&&this.sharedService&&Array.isArray(this.sharedService.hierarchicalDataset)){const e=this.sharedService.hierarchicalDataset;this.sortTreeData(e,t);const i=null!==(l=null===(d=this._gridOptions)||void 0===d?void 0:d.datasetIdPropertyName)&&void 0!==l?l:"id",r=null!==(u=null===(c=this._gridOptions)||void 0===c?void 0:c.treeDataOptions)&&void 0!==u?u:{columnId:""},n={...r,identifierPropName:null!==(h=r.identifierPropName)&&void 0!==h?h:i},s=Object(a.convertHierarchicalViewToParentChildArray)(e,n);f.setItems(s,null!==(p=null===(g=this._gridOptions)||void 0===g?void 0:g.datasetIdPropertyName)&&void 0!==p?p:"id")}else f.sort(this.sortComparers.bind(this,t));e.invalidate(),r&&this.emitSortChanged(s.EmitterType.local,t.map(e=>({columnId:e.sortCol&&e.sortCol.id||"id",direction:e.sortAsc?s.SortDirection.ASC:s.SortDirection.DESC})))}}sortLocalGridByDefaultSortFieldId(){const e=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",t={id:e,field:e};this.onLocalSortChanged(this._grid,new Array({columnId:t.id,sortAsc:!0,sortCol:t,clearSortTriggered:!0}))}sortComparers(e,t,i){if(Array.isArray(e))for(const r of e){const e=this.sortComparer(r,t,i);if(void 0!==e)return e}return s.SortDirectionNumber.neutral}sortComparer(e,t,i,r){if(null==e?void 0:e.sortCol){const n=e.sortCol,d=e.sortAsc?s.SortDirectionNumber.asc:s.SortDirectionNumber.desc;let l=r||n.queryFieldSorter||n.queryField||n.field,c=l;const u=n.type||s.FieldType.string;"function"==typeof n.queryFieldNameGetterFn&&(l=n.queryFieldNameGetterFn(t),c=n.queryFieldNameGetterFn(i));let h=t[l],g=i[c];if(l&&l.indexOf(".")>=0&&(h=Object(a.getDescendantProperty)(t,l)),c&&c.indexOf(".")>=0&&(g=Object(a.getDescendantProperty)(i,c)),n.sortComparer){const e=n.sortComparer(h,g,d,n,this._gridOptions);if(e!==s.SortDirectionNumber.neutral)return e}else{const e=Object(o.sortByFieldType)(u,h,g,d,n,this._gridOptions);if(e!==s.SortDirectionNumber.neutral)return e}}}sortTreeData(e,t){if(Array.isArray(t))for(const i of t)this.sortTreeChild(e,i,0)}sortTreeChild(e,t,i){var r,n;const o=null===(r=this._gridOptions)||void 0===r?void 0:r.treeDataOptions,a=null!==(n=null==o?void 0:o.childrenPropName)&&void 0!==n?n:"children";e.sort((e,i)=>{var r;return null!==(r=this.sortComparer(t,e,i))&&void 0!==r?r:s.SortDirectionNumber.neutral});for(const r of e)if(r){r.hasOwnProperty(a)&&Array.isArray(r[a])&&(i++,this.sortTreeChild(r[a],t,i),i--)}}updateSorting(e,t=!0,i=!0){var r;if(!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Slickgrid-Universal] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(e)){const n=this._gridOptions&&this._gridOptions.backendServiceApi;if(n){const t=n&&n.service;t&&t.updateSorters&&(t.updateSorters(void 0,e),i&&(null===(r=this.backendUtilities)||void 0===r||r.refreshBackendDataset(this._gridOptions)))}else this.loadGridSorters(e);if(t){const e=n?s.EmitterType.remote:s.EmitterType.local;this.emitSortChanged(e)}}}disableAllSortingCommands(e=!0){var t,i;const r=this._grid.getColumns();return r.forEach(t=>{var i;void 0!==typeof t.sortable&&(t.sortable=!e),(null===(i=null==t?void 0:t.header)||void 0===i?void 0:i.menu)&&t.header.menu.items.forEach(t=>{if(t&&"string"!=typeof t){const i=t.command;"sort-asc"!==i&&"sort-desc"!==i&&"clear-sort"!==i||(t.hidden=e)}})}),(null===(i=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===i?void 0:i.customItems)&&this._gridOptions.gridMenu.customItems.forEach(t=>{if(t&&"string"!=typeof t){"clear-sorting"===t.command&&(t.hidden=e)}}),r}}class P{init(e,t){throw new Error('ExportService the "init" method must be implemented')}exportToFile(e){throw new Error('ExportService the "exportToFile" method must be implemented')}}class D{constructor(e){this.sharedService=e,this._eventHandler=new Slick.EventHandler}get dataset(){var e;return null===(e=this.dataView)||void 0===e?void 0:e.getItems()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}get dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get eventHandler(){return this._eventHandler}get gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions())||{}}dispose(){var e;(null===(e=this._eventHandler)||void 0===e?void 0:e.unsubscribeAll)&&this._eventHandler.unsubscribeAll()}init(e){this._grid=e;const t=e.onClick;t&&this._eventHandler.subscribe(t,this.handleOnCellClick.bind(this))}handleOnCellClick(e,t){var i;if(e&&t){const r=e.target||{},n=this.gridOptions.treeDataOptions,s=n&&n.collapsedPropName||"__collapsed",o=null!==(i=this.gridOptions.datasetIdPropertyName)&&void 0!==i?i:"id";if(r&&r.className){if(r.className.indexOf("toggle")>=0||!1){const i=this.dataView.getItem(t.row);i&&(i[s]=!i[s],this.dataView.updateItem(i[o],i),this._grid.invalidate()),e.stopImmediatePropagation()}}}}toggleTreeDataCollapse(e){if(this.gridOptions){const t=this.gridOptions.treeDataOptions;if(this.gridOptions.enableTreeData){const i=this.dataView.getItems()||[],r=t&&t.collapsedPropName||"__collapsed";i.forEach(t=>t[r]=e),this.dataView.setItems(i),this._grid.invalidate()}}}}},SZ68:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i("89dS"),n=i("rci4"),s=i("yWDt"),o=i("5l98"),a=i("KKeK");i("9u1P");const d={date:Object(o.b)(a.a.date),dateIso:Object(o.b)(a.a.dateIso),dateUtc:Object(o.b)(a.a.dateUtc),dateTime:Object(o.b)(a.a.dateTime),dateTimeIso:Object(o.b)(a.a.dateTimeIso),dateTimeIsoAmPm:Object(o.b)(a.a.dateTimeIsoAmPm),dateTimeIsoAM_PM:Object(o.b)(a.a.dateTimeIsoAM_PM),dateTimeShortIso:Object(o.b)(a.a.dateTimeShortIso),dateEuro:Object(o.b)(a.a.dateEuro),dateEuroShort:Object(o.b)(a.a.dateEuroShort),dateTimeShortEuro:Object(o.b)(a.a.dateTimeShortEuro),dateTimeEuro:Object(o.b)(a.a.dateTimeEuro),dateTimeEuroAmPm:Object(o.b)(a.a.dateTimeEuroAmPm),dateTimeEuroAM_PM:Object(o.b)(a.a.dateTimeEuroAM_PM),dateTimeEuroShort:Object(o.b)(a.a.dateTimeEuroShort),dateTimeEuroShortAmPm:Object(o.b)(a.a.dateTimeEuroShortAmPm),dateTimeEuroShortAM_PM:Object(o.b)(a.a.dateTimeEuroShortAM_PM),dateUs:Object(o.b)(a.a.dateUs),dateUsShort:Object(o.b)(a.a.dateUsShort),dateTimeShortUs:Object(o.b)(a.a.dateTimeShortUs),dateTimeUs:Object(o.b)(a.a.dateTimeUs),dateTimeUsAmPm:Object(o.b)(a.a.dateTimeUsAmPm),dateTimeUsAM_PM:Object(o.b)(a.a.dateTimeUsAM_PM),dateTimeUsShort:Object(o.b)(a.a.dateTimeUsShort),dateTimeUsShortAmPm:Object(o.b)(a.a.dateTimeUsShortAmPm),dateTimeUsShortAM_PM:Object(o.b)(a.a.dateTimeUsShortAM_PM),numeric:r.a,objectString:n.a,string:s.a}},VADH:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"BackendUtilityService",(function(){return n}));var r=i("6rEK");class n{constructor(e){this.rxjs=e}addRxJsResource(e){this.rxjs=e}executeBackendProcessesCallback(e,t,i,r){const n=new Date;t&&i&&i.internalPostProcess&&i.internalPostProcess(t),void 0!==i.postProcess&&(t instanceof Object&&(t.metrics={startTime:e,endTime:n,executionTime:n.valueOf()-e.valueOf(),itemCount:r,totalItemCount:r}),i.postProcess(t))}onBackendError(e,t){if(!(null==t?void 0:t.onError))throw e;t.onError(e)}executeBackendCallback(t,i,n,s,o,a,d){var l;if(t){n&&!n.clearFilterTriggered&&!n.clearSortTriggered&&a&&a(r.a.remote);const c=t.process(i);if(c instanceof e&&c.then)c.then(e=>this.executeBackendProcessesCallback(s,e,t,o)).catch(e=>this.onBackendError(e,t));else if(null===(l=this.rxjs)||void 0===l?void 0:l.isObservable(c)){const e=this.rxjs;e.isObservable(d)&&d.next(),c.pipe(e.takeUntil(e.iif(()=>e.isObservable(d),d,e.EMPTY))).subscribe(e=>this.executeBackendProcessesCallback(s,e,t,o),e=>this.onBackendError(e,t))}}}refreshBackendDataset(e){var t,i;let r="";const n=null==e?void 0:e.backendServiceApi;if(!n||!n.service||!n.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(n.service&&(r=n.service.buildQuery()),r&&""!==r){const s=new Date;n.preProcess&&n.preProcess();const o=null!==(i=null===(t=null==e?void 0:e.pagination)||void 0===t?void 0:t.totalItems)&&void 0!==i?i:0;this.executeBackendCallback(n,r,null,s,o)}}}}.call(this,i("CW7D"))},"WI+7":function(e,t,i){},fj9p:function(e,t,i){"use strict";i.d(t,"u",(function(){return l.a})),i.d(t,"V",(function(){return c.a})),i.d(t,"h",(function(){return u.CaseType})),i.d(t,"A",(function(){return u.DelimiterType})),i.d(t,"F",(function(){return u.EmitterType})),i.d(t,"H",(function(){return u.EventNamingStyle})),i.d(t,"J",(function(){return u.ExtensionName})),i.d(t,"M",(function(){return u.FieldType})),i.d(t,"N",(function(){return u.FileType})),i.d(t,"Q",(function(){return u.FilterMultiplePassType})),i.d(t,"W",(function(){return u.GridAutosizeColsMode})),i.d(t,"bb",(function(){return u.GridStateType})),i.d(t,"mb",(function(){return u.KeyCode})),i.d(t,"ub",(function(){return u.OperatorType})),i.d(t,"Kb",(function(){return u.SortDirection})),i.d(t,"Lb",(function(){return u.SortDirectionNumber})),i.d(t,"Pb",(function(){return h.h})),i.d(t,"ob",(function(){return h.f})),i.d(t,"B",(function(){return h.e})),i.d(t,"pb",(function(){return h.g})),i.d(t,"x",(function(){return h.d})),i.d(t,"m",(function(){return h.c})),i.d(t,"e",(function(){return h.b})),i.d(t,"a",(function(){return h.a})),i.d(t,"b",(function(){return g.a})),i.d(t,"k",(function(){return g.b})),i.d(t,"y",(function(){return g.c})),i.d(t,"D",(function(){return g.d})),i.d(t,"E",(function(){return g.e})),i.d(t,"T",(function(){return g.f})),i.d(t,"lb",(function(){return g.g})),i.d(t,"nb",(function(){return g.h})),i.d(t,"qb",(function(){return g.i})),i.d(t,"Ab",(function(){return g.j})),i.d(t,"Db",(function(){return g.k})),i.d(t,"Gb",(function(){return g.l})),i.d(t,"Qb",(function(){return g.m})),i.d(t,"d",(function(){return p.a})),i.d(t,"i",(function(){return p.b})),i.d(t,"j",(function(){return p.c})),i.d(t,"l",(function(){return p.d})),i.d(t,"o",(function(){return p.e})),i.d(t,"w",(function(){return p.f})),i.d(t,"C",(function(){return p.g})),i.d(t,"L",(function(){return p.h})),i.d(t,"Y",(function(){return p.i})),i.d(t,"cb",(function(){return p.j})),i.d(t,"fb",(function(){return p.k})),i.d(t,"gb",(function(){return p.l})),i.d(t,"wb",(function(){return p.m})),i.d(t,"xb",(function(){return p.n})),i.d(t,"yb",(function(){return p.o})),i.d(t,"Hc",(function(){return m.h})),i.d(t,"Sc",(function(){return m.l})),i.d(t,"Gc",(function(){return m.g})),i.d(t,"Rc",(function(){return m.k})),i.d(t,"Fc",(function(){return m.f})),i.d(t,"Qc",(function(){return m.j})),i.d(t,"mc",(function(){return m.b})),i.d(t,"ed",(function(){return m.o})),i.d(t,"Nd",(function(){return m.p})),i.d(t,"O",(function(){return m.a})),i.d(t,"Ec",(function(){return m.e})),i.d(t,"Uc",(function(){return m.m})),i.d(t,"Xc",(function(){return m.n})),i.d(t,"Dc",(function(){return m.d})),i.d(t,"Cc",(function(){return m.c})),i.d(t,"Pc",(function(){return m.i})),i.d(t,"c",(function(){return f.a})),i.d(t,"p",(function(){return f.b})),i.d(t,"q",(function(){return f.c})),i.d(t,"r",(function(){return f.d})),i.d(t,"s",(function(){return f.e})),i.d(t,"t",(function(){return f.f})),i.d(t,"z",(function(){return f.g})),i.d(t,"S",(function(){return f.i})),i.d(t,"P",(function(){return f.h})),i.d(t,"hb",(function(){return f.j})),i.d(t,"ib",(function(){return f.k})),i.d(t,"jb",(function(){return f.l})),i.d(t,"kb",(function(){return f.m})),i.d(t,"rb",(function(){return f.n})),i.d(t,"sb",(function(){return f.o})),i.d(t,"Bb",(function(){return f.p})),i.d(t,"Eb",(function(){return f.q})),i.d(t,"Ib",(function(){return f.s})),i.d(t,"Hb",(function(){return f.r})),i.d(t,"Wb",(function(){return b.b})),i.d(t,"Xb",(function(){return b.c})),i.d(t,"Zb",(function(){return b.d})),i.d(t,"dc",(function(){return b.e})),i.d(t,"fc",(function(){return b.f})),i.d(t,"gc",(function(){return b.g})),i.d(t,"ic",(function(){return b.i})),i.d(t,"hc",(function(){return b.h})),i.d(t,"jc",(function(){return b.j})),i.d(t,"kc",(function(){return b.k})),i.d(t,"nc",(function(){return b.l})),i.d(t,"sc",(function(){return b.m})),i.d(t,"uc",(function(){return b.n})),i.d(t,"yc",(function(){return b.q})),i.d(t,"xc",(function(){return b.p})),i.d(t,"wc",(function(){return b.o})),i.d(t,"zc",(function(){return b.r})),i.d(t,"U",(function(){return b.a})),i.d(t,"Wc",(function(){return b.t})),i.d(t,"Mc",(function(){return b.s})),i.d(t,"bd",(function(){return b.u})),i.d(t,"cd",(function(){return b.v})),i.d(t,"dd",(function(){return b.w})),i.d(t,"gd",(function(){return b.x})),i.d(t,"hd",(function(){return b.y})),i.d(t,"nd",(function(){return b.z})),i.d(t,"qd",(function(){return b.A})),i.d(t,"xd",(function(){return b.D})),i.d(t,"wd",(function(){return b.C})),i.d(t,"vd",(function(){return b.B})),i.d(t,"yd",(function(){return b.E})),i.d(t,"zd",(function(){return b.F})),i.d(t,"Ad",(function(){return b.G})),i.d(t,"Ud",(function(){return b.I})),i.d(t,"Td",(function(){return b.H})),i.d(t,"Vd",(function(){return b.J})),i.d(t,"Zd",(function(){return b.K})),i.d(t,"ae",(function(){return b.L})),i.d(t,"Md",(function(){return v.m})),i.d(t,"Ld",(function(){return v.l})),i.d(t,"Kd",(function(){return v.k})),i.d(t,"Jd",(function(){return v.j})),i.d(t,"Id",(function(){return v.i})),i.d(t,"Hd",(function(){return v.h})),i.d(t,"Gd",(function(){return v.g})),i.d(t,"pd",(function(){return v.f})),i.d(t,"od",(function(){return v.e})),i.d(t,"db",(function(){return v.a})),i.d(t,"cc",(function(){return v.d})),i.d(t,"bc",(function(){return v.c})),i.d(t,"ac",(function(){return v.b})),i.d(t,"sd",(function(){return S.e})),i.d(t,"Fd",(function(){return S.g})),i.d(t,"Ed",(function(){return S.f})),i.d(t,"Jb",(function(){return S.a})),i.d(t,"rd",(function(){return S.d})),i.d(t,"lc",(function(){return S.b})),i.d(t,"Nc",(function(){return S.c})),i.d(t,"f",(function(){return _.a})),i.d(t,"g",(function(){return _.b})),i.d(t,"n",(function(){return _.c})),i.d(t,"v",(function(){return _.d})),i.d(t,"I",(function(){return _.e})),i.d(t,"Ic",(function(){return _.G})),i.d(t,"K",(function(){return _.f})),i.d(t,"R",(function(){return _.g})),i.d(t,"Z",(function(){return _.i})),i.d(t,"X",(function(){return _.h})),i.d(t,"ab",(function(){return _.j})),i.d(t,"eb",(function(){return _.k})),i.d(t,"vb",(function(){return _.m})),i.d(t,"zb",(function(){return _.n})),i.d(t,"tb",(function(){return _.l})),i.d(t,"Nb",(function(){return _.q})),i.d(t,"Ob",(function(){return _.r})),i.d(t,"Cb",(function(){return _.o})),i.d(t,"Mb",(function(){return _.p})),i.d(t,"Rb",(function(){return _.s})),i.d(t,"Sb",(function(){return _.t})),i.d(t,"Ub",(function(){return _.u})),i.d(t,"Vb",(function(){return _.v})),i.d(t,"Yb",(function(){return _.w})),i.d(t,"ec",(function(){return _.x})),i.d(t,"qc",(function(){return _.A})),i.d(t,"oc",(function(){return _.y})),i.d(t,"pc",(function(){return _.z})),i.d(t,"tc",(function(){return _.C})),i.d(t,"Ac",(function(){return _.E})),i.d(t,"Bc",(function(){return _.F})),i.d(t,"Jc",(function(){return _.H})),i.d(t,"Yc",(function(){return _.N})),i.d(t,"ad",(function(){return _.P})),i.d(t,"Zc",(function(){return _.O})),i.d(t,"fd",(function(){return _.Q})),i.d(t,"rc",(function(){return _.B})),i.d(t,"vc",(function(){return _.D})),i.d(t,"Lc",(function(){return _.J})),i.d(t,"Oc",(function(){return _.K})),i.d(t,"Vc",(function(){return _.M})),i.d(t,"jd",(function(){return _.S})),i.d(t,"id",(function(){return _.R})),i.d(t,"md",(function(){return _.V})),i.d(t,"ld",(function(){return _.U})),i.d(t,"kd",(function(){return _.T})),i.d(t,"td",(function(){return _.W})),i.d(t,"ud",(function(){return _.X})),i.d(t,"Bd",(function(){return _.Y})),i.d(t,"Cd",(function(){return _.Z})),i.d(t,"Dd",(function(){return _.ab})),i.d(t,"Od",(function(){return _.bb})),i.d(t,"Pd",(function(){return _.cb})),i.d(t,"Qd",(function(){return _.db})),i.d(t,"Rd",(function(){return _.eb})),i.d(t,"Kc",(function(){return _.I})),i.d(t,"Tc",(function(){return _.L})),i.d(t,"Sd",(function(){return _.fb})),i.d(t,"Yd",(function(){return _.ib})),i.d(t,"Wd",(function(){return _.gb})),i.d(t,"Xd",(function(){return _.hb})),i.d(t,"G",(function(){return y.a})),i.d(t,"Tb",(function(){return w})),i.d(t,"Fb",(function(){return C}));i("QCG8");var r=i("VADH"),n=i("EZlM"),s=i("Ljcy"),o=i("9u1P"),a=i("LmJZ"),d=i.n(a),l=i("P379"),c=i("sZGu"),u=i("NcUD"),h=i("SAI2"),g=(i("r8+z"),i("tcDC")),p=(i("s1jt"),i("dVPx")),m=i("pmKu"),f=(i("VC5a"),i("s3Wx")),b=(i("bB9w"),i("Q03K"),i("1oXj")),v=(i("YKOT"),i("j9WD")),S=(i("giev"),i("4SFh")),_=(i("SZ68"),i("Oi2j")),y=i("zHxG");class C{constructor(){this.options=c.a}}const w={...r,...n,...s,...o,deepAssign:d.a||a}},gglu:function(e,t,i){"use strict";function r(e,t,i,r,n,s){let o="",a=!1;s&&s.hasOwnProperty("exportWithFormatter")&&(a=!!s.exportWithFormatter),r&&r.hasOwnProperty("exportWithFormatter")&&(a=!!r.exportWithFormatter);let d=r.field||r.id||"";if("string"==typeof r.field&&r.field.indexOf(".")>0){const e=r.field.split(".");d=e.length>0?e[0]:r.field}const l=i.hasOwnProperty(d)?i[d]:null;let c;if(i&&r.exportCustomFormatter?c=r.exportCustomFormatter:a&&r.formatter&&(c=r.formatter),"function"==typeof c){const s=c(e,t,l,r,i,n);o=s,s&&"object"==typeof s&&s.hasOwnProperty("text")&&(o=s.text),null==o&&(o="")}else o=i.hasOwnProperty(d)?l:"",null==o&&(o="");return"object"==typeof o&&0===Object.entries(o).length&&(o=""),o}i.d(t,"a",(function(){return r}))},rci4:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("zWoC");const n=(e,t,i,n,s)=>{var o,a;if(!n||!n.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');const d=(null==e?void 0:e.hasOwnProperty(n.dataKey))?e[n.dataKey]:e,l=(null==t?void 0:t.hasOwnProperty(n.dataKey))?t[n.dataKey]:t,c=null!==(a=null!==(o=null==n?void 0:n.valueCouldBeUndefined)&&void 0!==o?o:null==s?void 0:s.cellValueCouldBeUndefined)&&void 0!==a&&a;null==i&&(i=r.a.neutral);let u=0;return u="object"!=typeof e?-99e10:"object"!=typeof t?99e10:null===d||c&&void 0===d?-1:null===l||c&&void 0===l?1:d===l?0:i?d<l?-1:1:d<l?1:-1,i*u}},yWDt:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("zWoC");const n=(e,t,i,n,s)=>{var o,a;null==i&&(i=r.a.neutral);let d=0;const l=null!==(a=null!==(o=null==n?void 0:n.valueCouldBeUndefined)&&void 0!==o?o:null==s?void 0:s.cellValueCouldBeUndefined)&&void 0!==a&&a;return d=e===t?0:null===e||l&&void 0===e?-1:null===t||l&&void 0===t?1:i?e<t?-1:1:e<t?1:-1,i*d}},yXse:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a}));var r=i("V5Q0"),n=i("pmKu"),s=i("NcUD"),o=i("Ljcy");class a{constructor(e,t,i,r,n){this.filterFactory=e,this.pubSubService=t,this.sharedService=i,this.backendUtilities=r,this.rxjs=n,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._onSearchChange=new Slick.Event,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get isFilterFirstRender(){return this._isFilterFirstRender}get onSearchChange(){return this._onSearchChange}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}addRxJsResource(e){this.rxjs=e}init(e){this._grid=e,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])}dispose(){var e;this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(e=this.rxjs)||void 0===e?void 0:e.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete()),this.disposeColumnFilters(),this._onSearchChange=null}disposeColumnFilters(){this.resetColumnFilters(),Array.isArray(this._filtersMetadata)&&this._filtersMetadata.forEach(e=>{(null==e?void 0:e.destroy)&&e.destroy()})}resetColumnFilters(){if("object"==typeof this._columnFilters)for(const e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e]}bindBackendOnFilter(e){this._filtersMetadata=[];const t=e.onHeaderRowCellRendered;if(this._eventHandler.subscribe(t,(e,t)=>{t.column.id===this._firstColumnIdRendered&&(this._isFilterFirstRender=!1),this.addFilterTemplateToHeaderRow(t,this._isFilterFirstRender),""===this._firstColumnIdRendered&&(this._firstColumnIdRendered=t.column.id)}),this._onSearchChange){const e=this._onSearchChange;this._eventHandler.subscribe(e,this.onBackendFilterChange.bind(this))}}bindLocalOnFilter(e){if(this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange){this._onSearchChange;this._eventHandler.subscribe(this._onSearchChange,(e,t)=>{var i;!0===(null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&(this._tmpPreFilteredData=this.preFilterTreeData(this._dataView.getItems(),this._columnFilters)),null!==t.columnId&&this._dataView.refresh(),t&&!t.clearFilterTriggered&&this.emitFilterChanged(s.EmitterType.local)})}const t=e.onHeaderRowCellRendered;this._eventHandler.subscribe(t,(e,t)=>{this.addFilterTemplateToHeaderRow(t)})}clearFilterByColumnId(e,t){const i=Object.keys(this._columnFilters);let r;Array.isArray(i)&&(r=i.find(e=>e===""+t));const n=this._filtersMetadata.find(e=>e.columnDef.id===t);(null==n?void 0:n.clear)&&n.clear(!0);let o=s.EmitterType.local;(this._gridOptions&&this._gridOptions.backendServiceApi||!1)&&(o=s.EmitterType.remote,void 0!==r&&this.onBackendFilterChange(e,{grid:this._grid,columnFilters:this._columnFilters})),this.emitFilterChanged(o)}clearFilters(e=!0){var t,i,r,n,s;this._filtersMetadata.forEach(e=>{(null==e?void 0:e.clear)&&e.clear(!1)}),this.resetColumnFilters(),Array.isArray(this._columnDefinitions)&&this._columnDefinitions.forEach(e=>{var t;(null===(t=e.filter)||void 0===t?void 0:t.searchTerms)&&delete e.filter.searchTerms}),this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate());const o=null===(t=this._gridOptions)||void 0===t?void 0:t.backendServiceApi;if(o&&e){const t={clearFilterTriggered:!0,shouldTriggerQuery:e,grid:this._grid,columnFilters:this._columnFilters},a=o.service.processOnFilterChanged(void 0,t),d=null!==(n=null===(r=null===(i=this._gridOptions)||void 0===i?void 0:i.pagination)||void 0===r?void 0:r.totalItems)&&void 0!==n?n:0;null===(s=this.backendUtilities)||void 0===s||s.executeBackendCallback(o,a,t,new Date,d,this.emitFilterChanged.bind(this))}e&&this.pubSubService.publish("onFilterCleared",!0)}customLocalFilter(e,t){var i,r,o,a,d,l;const c=null==t?void 0:t.grid,u=null!==(r=null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&void 0!==r&&r,h=null!==(o=null==t?void 0:t.columnFilters)&&void 0!==o?o:{};let g;if(u&&this._gridOptions&&this._gridOptions.treeDataOptions){g=this._gridOptions.treeDataOptions;const t=null!==(a=g.collapsedPropName)&&void 0!==a?a:"__collapsed",i=null!==(d=g.parentPropName)&&void 0!==d?d:"__parentId",r=null!==(l=this._gridOptions.datasetIdPropertyName)&&void 0!==l?l:"id";if(null!==e[i]){let r=this._dataView.getItemById(e[i]);for(;r;){if(r[t])return!1;r=this._dataView.getItemById(r[i])}}if(Array.isArray(this._tmpPreFilteredData))return this._tmpPreFilteredData.includes(e[r])}else if("object"==typeof h)for(const t of Object.keys(h)){const i=h[t],r=this.preProcessFilterConditionOnDataContext(e,i,c);if("boolean"==typeof r)return r;let o=null==i?void 0:i.parsedSearchTerms;if(void 0===o&&(o=Object(n.m)(i.searchTerms,i.columnDef.type||s.FieldType.string),void 0!==o&&(i.parsedSearchTerms=o)),!n.a.executeFilterConditionTest(r,o))return!1}return!0}parseFormInputFilterConditions(e,t){var i,r,n;const a=Object(o.deepCopy)(e)||[];let d=Array.isArray(a)&&1===a.length?a[0]:"";const l=t.columnDef,c=null!==(n=null!==(r=null===(i=l.filter)||void 0===i?void 0:i.type)&&void 0!==r?r:l.type)&&void 0!==n?n:s.FieldType.string;let u=null;c!==s.FieldType.object&&(d=null==d?"":""+d,u=d.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])?([\*]?)$/));let h=(null==u?void 0:u[1])||t.operator;const g=(null==u?void 0:u[2])||"",p=(null==u?void 0:u[3])||("*z"===h?"*":"");return"string"==typeof d&&(d=d.replace("'","''"),"*"===h||"*z"===h?h=s.OperatorType.endsWith:"a*"!==h&&"*"!==p||(h=s.OperatorType.startsWith)),Array.isArray(u)&&u.length>=1&&Array.isArray(a)&&1===a.length&&(a[0]=g),{dataKey:l.dataKey,fieldType:c,searchTerms:a||[],operator:h,searchInputLastChar:p,filterSearchType:l.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preProcessFilterConditionOnDataContext(e,t,i){var r,n,a,d,l;const c=t.columnDef,u=t.columnId;let h=i.getColumnIndex(u);if(!c&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(h=this.sharedService.allColumns.findIndex(e=>e.field===u)),!c)return!0;if(this._gridOptions.enableRowDetailView){const t=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";e[t+"isPadding"]&&e[t+"parent"]&&(e=e[t+"parent"])}let g=(null===(r=c.filter)||void 0===r?void 0:r.queryField)||c.queryFieldFilter||c.queryField||c.field||"";"function"==typeof c.queryFieldNameGetterFn&&(g=c.queryFieldNameGetterFn(e));const p=null!==(d=null!==(a=null===(n=c.filter)||void 0===n?void 0:n.type)&&void 0!==a?a:c.type)&&void 0!==d?d:s.FieldType.string;let m=e[g];(null==g?void 0:g.indexOf("."))>=0&&(m=Object(o.getDescendantProperty)(e,g));const f=t.operator,b=t.searchTerms||[];if(!b||Array.isArray(b)&&(0===b.length||1===b.length&&f===b[0]))return!0;if(b&&Array.isArray(b)&&p!==s.FieldType.object)for(let e=0,t=b.length;e<t;e++)b[e]=(void 0===b[e]||null===b[e]?"":b[e])+"";if(!0===(null===(l=null==c?void 0:c.params)||void 0===l?void 0:l.useFormatterOuputToFilter)){const t=i.getData(),r=this._gridOptions.datasetIdPropertyName||"id",n=t&&"function"==typeof t.getIdxById?t.getIdxById(e[r]):0;m=c&&"function"==typeof c.formatter?c.formatter(n||0,h,m,c,e,this._grid):""}return"number"==typeof m&&(m=m.toString()),{dataKey:c.dataKey,fieldType:p,searchTerms:b,cellValue:m,operator:f,searchInputLastChar:t.searchInputLastChar,filterSearchType:c.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preFilterTreeData(e,t){var i,r,a,d,l,c,u;const h=null===(i=this._gridOptions)||void 0===i?void 0:i.treeDataOptions,g=null!==(r=null==h?void 0:h.parentPropName)&&void 0!==r?r:"__parentId",p=null!==(d=null===(a=this._gridOptions)||void 0===a?void 0:a.datasetIdPropertyName)&&void 0!==d?d:"id",m={},f=[];if(Array.isArray(e)){for(let t=0;t<e.length;t++)m[e[t][p]]=e[t],delete m[e[t][p]].__used;for(const e of Object.keys(t)){const i=t[e],r=(null==i?void 0:i.searchTerms)?Object(o.deepCopy)(i.searchTerms):[],a=this.parseFormInputFilterConditions(r,i),d=i.columnDef,h=null!==(u=null!==(c=null===(l=null==d?void 0:d.filter)||void 0===l?void 0:l.type)&&void 0!==c?c:null==d?void 0:d.type)&&void 0!==u?u:s.FieldType.string,g=Object(n.m)(a.searchTerms,h);void 0!==g&&(i.parsedSearchTerms=g)}for(let i=0;i<e.length;i++){const r=e[i];let s=!0;for(const e of Object.keys(t)){const i=t[e],o=this.preProcessFilterConditionOnDataContext(r,i,this._grid);if(o){const e=null==i?void 0:i.parsedSearchTerms;if("boolean"==typeof o?o:n.a.executeFilterConditionTest(o,e))continue}s=!1}if(s){const e=f.length;f.splice(e,0,r[p]);let t=m[r[g]]||!1;for(;t;)t.__used||f.splice(e,0,t[p]),m[t[p]].__used=!0,t=m[t[g]]||!1}}}return f}getColumnFilters(){return this._columnFilters}getFiltersMetadata(){return this._filtersMetadata}getCurrentLocalFilters(){var e,t;const i=[];if(this._columnFilters)for(const r of Object.keys(this._columnFilters)){const n=this._columnFilters[r],s={columnId:r||""},o=this.sharedService.allColumns.find(e=>e.id===s.columnId),a=null===(t=null===(e=null==o?void 0:o.filter)||void 0===e?void 0:e.emptySearchTermReturnAllValues)||void 0===t||t;(null==n?void 0:n.searchTerms)&&(s.searchTerms=n.searchTerms),n.operator&&(s.operator=n.operator),Array.isArray(s.searchTerms)&&s.searchTerms.length>0&&(!a||""!==s.searchTerms[0])&&i.push(s)}return i}emitFilterChanged(e){var t;if(e===s.EmitterType.remote&&(null===(t=this._gridOptions)||void 0===t?void 0:t.backendServiceApi)){let e=[];const t=this._gridOptions.backendServiceApi.service;(null==t?void 0:t.getCurrentFilters)&&(e=t.getCurrentFilters()),this.pubSubService.publish("onFilterChanged",e)}else e===s.EmitterType.local&&this.pubSubService.publish("onFilterChanged",this.getCurrentLocalFilters())}async onBackendFilterChange(e,t){var i,r,n,s;if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');const o=this._gridOptions.backendServiceApi;if(!o||!o.process||!o.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const a=new Date;if(o.preProcess&&o.preProcess(),null==t?void 0:t.shouldTriggerQuery){const d=await o.service.processOnFilterChanged(e,t),l=null!==(n=null===(r=null===(i=this._gridOptions)||void 0===i?void 0:i.pagination)||void 0===r?void 0:r.totalItems)&&void 0!==n?n:0;null===(s=this.backendUtilities)||void 0===s||s.executeBackendCallback(o,d,t,a,l,this.emitFilterChanged.bind(this),this.httpCancelRequests$)}}populateColumnFilterSearchTermPresets(e){return Array.isArray(e)&&(this._columnDefinitions.forEach(t=>{var i;(null===(i=t.filter)||void 0===i?void 0:i.searchTerms)&&delete t.filter.searchTerms;const r=e.find(e=>e.columnId===t.id);r&&Array.isArray(null==r?void 0:r.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=r.operator||t.filter.operator||"",t.filter.searchTerms=r.searchTerms)}),this.refreshTreeDataFilters()),this._columnDefinitions}refreshTreeDataFilters(){var e;this._dataView&&(null===(e=this._gridOptions)||void 0===e?void 0:e.enableTreeData)&&(this._tmpPreFilteredData=this.preFilterTreeData(this._dataView.getItems(),this._columnFilters),this._dataView.refresh())}disableFilterFunctionality(e=!0,t=!0){const i=!this._gridOptions.enableFiltering;i!==e&&(t&&e&&this.clearFilters(),this.disableAllFilteringCommands(e),this._grid.setOptions({enableFiltering:i},!1,!0),this._grid.setHeaderRowVisibility(i),this._gridOptions.enableFiltering=!e,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))}toggleFilterFunctionality(e=!0){const t=this._gridOptions.enableFiltering;this.disableFilterFunctionality(t,e)}toggleHeaderFilterRow(){var e,t;let i=null!==(t=null===(e=this._gridOptions)||void 0===e?void 0:e.showHeaderRow)&&void 0!==t&&t;i=!i,this._grid.setHeaderRowVisibility(i),!0===i&&this._grid.setColumns(this.sharedService.columnDefinitions)}setSortColumnIcons(e){this._grid&&Array.isArray(e)&&this._grid.setSortColumns(e)}updateFilters(e,t=!0,i=!0,r=!1){var n,o;if(!this._filtersMetadata||0===this._filtersMetadata.length||!this._gridOptions||!this._gridOptions.enableFiltering)throw new Error('[Slickgrid-Universal] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(e)){this.clearFilters(!1),e.forEach(e=>{const t=this._filtersMetadata.find(t=>e.columnId===t.columnDef.id);if(e&&t){const i=e.operator||t.defaultOperator;this.updateColumnFilters(e.searchTerms,t.columnDef,i),t.setValues(e.searchTerms||[],i),r&&this.callbackSearchEvent(void 0,{columnDef:t.columnDef,operator:i,searchTerms:e.searchTerms,shouldTriggerQuery:!0})}});const a=null===(n=this._gridOptions)||void 0===n?void 0:n.backendServiceApi;if(this._dataView.refresh(),a){const t=null==a?void 0:a.service;(null==t?void 0:t.updateFilters)&&(t.updateFilters(e,!0),i&&(null===(o=this.backendUtilities)||void 0===o||o.refreshBackendDataset(this._gridOptions)))}if(t){const e=a?s.EmitterType.remote:s.EmitterType.local;this.emitFilterChanged(e)}}}updateSingleFilter(e,t=!0,i=!0){var r,n,o,a,d;const l=this.sharedService.allColumns.find(t=>t.id===e.columnId);if(l&&e.columnId){this._columnFilters={};const c=null===(n=null===(r=l.filter)||void 0===r?void 0:r.emptySearchTermReturnAllValues)||void 0===n||n;Array.isArray(e.searchTerms)&&(e.searchTerms.length>1||1===e.searchTerms.length&&(!c||""!==e.searchTerms[0]))&&(this._columnFilters[e.columnId]={columnId:e.columnId,operator:e.operator,searchTerms:e.searchTerms,columnDef:l,type:null!==(o=l.type)&&void 0!==o?o:s.FieldType.string});const u=null===(a=this._gridOptions)||void 0===a?void 0:a.backendServiceApi;if(u){const e=null==u?void 0:u.service;(null==e?void 0:e.updateFilters)&&(e.updateFilters(this._columnFilters,!0),i&&(null===(d=this.backendUtilities)||void 0===d||d.refreshBackendDataset(this._gridOptions)))}else this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),this._dataView.refresh();if(t){const e=u?s.EmitterType.remote:s.EmitterType.local;this.emitFilterChanged(e)}}}addFilterTemplateToHeaderRow(e,t=!0){var i;const r=e.column;if("selector"!==(null!==(i=null==r?void 0:r.id)&&void 0!==i?i:"")&&(null==r?void 0:r.filterable)){let e,i;const n=this.filterFactory.createFilter(r.filter);i=r&&r.filter&&r.filter.operator||n&&n.operator,this._columnFilters[r.id]?(e=this._columnFilters[r.id].searchTerms||void 0,i=this._columnFilters[r.id].operator||void 0):r.filter&&(e=r.filter.searchTerms||void 0,this.updateColumnFilters(e,r,i));const s={grid:this._grid,operator:i,searchTerms:e,columnDef:r,callback:this.callbackSearchEvent.bind(this)};if(n){n.init(s,t);const r=this._filtersMetadata.findIndex(e=>n.columnDef.id===e.columnDef.id);-1===r?this._filtersMetadata.push(n):this._filtersMetadata[r]=n,e&&n.setValues&&n.setValues(e,i)}}}callbackSearchEvent(t,i){var a,d,l,c,u,h,g,p;if(i){const m=(null==t?void 0:t.target)?t.target.value:void 0,f=i.searchTerms&&Array.isArray(i.searchTerms)?i.searchTerms:m?[m]:void 0,b=i.columnDef||null,v=null!==(a=null==b?void 0:b.id)&&void 0!==a?a:"",S=null!==(c=null!==(l=null===(d=null==b?void 0:b.filter)||void 0===d?void 0:d.type)&&void 0!==l?l:null==b?void 0:b.type)&&void 0!==c?c:s.FieldType.string,_=i.operator||void 0,y=f&&Array.isArray(f),C=y&&f&&f.length,w={...this._columnFilters},T=null===(h=null===(u=b.filter)||void 0===u?void 0:u.emptySearchTermReturnAllValues)||void 0===h||h;let O;if(b&&v)if(!y||0===C||1===C&&Array.isArray(f)&&T&&""===f[0])delete this._columnFilters[v];else{const e=""+v,t={columnId:e,columnDef:b,parsedSearchTerms:[],type:S},i=this.parseFormInputFilterConditions(f,t);t.operator=_||i.operator||Object(o.mapOperatorByFieldType)(S),O=Object(n.m)(i.searchTerms,S),void 0!==O&&(t.parsedSearchTerms=O),t.searchTerms=i.searchTerms||[],this._columnFilters[e]=t}const x=t&&"function"!=typeof t.isPropagationStopped?e.extend({},new Slick.EventData,t):t,E=null===(g=t)||void 0===g?void 0:g.key,F=null===(p=t)||void 0===p?void 0:p.keyCode;!this._onSearchChange||"Enter"!==E&&F!==s.KeyCode.ENTER&&Object(r.dequal)(w,this._columnFilters)||this._onSearchChange.notify({clearFilterTriggered:i.clearFilterTriggered,shouldTriggerQuery:i.shouldTriggerQuery,columnId:v,columnDef:b,columnFilters:this._columnFilters,operator:_||Object(o.mapOperatorByFieldType)(S),searchTerms:f,parsedSearchTerms:O,grid:this._grid},x)}}disableAllFilteringCommands(e=!0){var t,i;const r=this._grid.getColumns();return r.forEach(t=>{var i;(null===(i=null==t?void 0:t.header)||void 0===i?void 0:i.menu)&&t.header.menu.items.forEach(t=>{if(t&&"string"!=typeof t){"clear-filter"===t.command&&(t.hidden=e)}})}),(null===(i=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===i?void 0:i.customItems)&&this._gridOptions.gridMenu.customItems.forEach(t=>{if(t&&"string"!=typeof t){const i=t.command;"clear-filter"!==i&&"toggle-filter"!==i||(t.hidden=e)}}),r}updateColumnFilters(e,t,i){var r,o,a;const d=null!==(a=null!==(o=null===(r=t.filter)||void 0===r?void 0:r.type)&&void 0!==o?o:t.type)&&void 0!==a?a:s.FieldType.string,l=Object(n.m)(e,d);e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i,parsedSearchTerms:l,type:d})}}}).call(this,i("EVdn"))}}]);
//# sourceMappingURL=vendors~51ef2392.bff7f6e1dffd007a1e61.bundle.map