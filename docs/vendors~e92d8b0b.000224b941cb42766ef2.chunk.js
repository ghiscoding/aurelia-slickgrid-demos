(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"2W+k":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return f}));var r=i("aurelia-framework"),n=i("aurelia-i18n"),o=i("v8Uj"),s=i("Cff2"),a=i("HTOr"),d=i("NozK"),c=i("9tpB"),l=i("wESz"),h=function(){return(h=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},u=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},p=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)r[n]=o[s];return r},f=function(){function t(e,t,i,r,n){this.excelExportService=e,this.exportService=t,this.extensionUtility=i,this.i18n=r,this.sharedService=n,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(t.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),this.sharedService.gridOptions&&this.sharedService.gridOptions.contextMenu&&this.sharedService.gridOptions.contextMenu.commandItems&&(this.sharedService.gridOptions.contextMenu=this._userOriginalContextMenu)},t.prototype.getAddonInstance=function(){return this._addon},t.prototype.register=function(){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&this.sharedService.gridOptions.contextMenu){var e=this.sharedService.gridOptions.contextMenu;return this._userOriginalContextMenu=h({},e),this.extensionUtility.loadExtensionDynamically(o.d.contextMenu),this.sharedService.gridOptions.contextMenu=h({},e),e.commandItems=this.addMenuCustomCommands([]),this.extensionUtility.sortItems(e.commandItems||[],"positionOrder"),this.extensionUtility.sortItems(e.optionItems||[],"positionOrder"),this._addon=new Slick.Plugins.ContextMenu(e),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.gridOptions.enableTranslate&&this.translateContextMenu(),this.sharedService.grid&&e&&(e.onExtensionRegistered&&e.onExtensionRegistered(this._addon),e&&"function"==typeof e.onCommand&&this._eventHandler.subscribe(this._addon.onCommand,(function(t,i){e.onCommand&&e.onCommand(t,i)})),e&&"function"==typeof e.onOptionSelected&&this._eventHandler.subscribe(this._addon.onOptionSelected,(function(t,i){e.onOptionSelected&&e.onOptionSelected(t,i)})),e&&"function"==typeof e.onBeforeMenuShow&&this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(t,i){e.onBeforeMenuShow&&e.onBeforeMenuShow(t,i)})),e&&"function"==typeof e.onBeforeMenuClose&&this._eventHandler.subscribe(this._addon.onBeforeMenuClose,(function(t,i){e.onBeforeMenuClose&&e.onBeforeMenuClose(t,i)})),e&&"function"==typeof e.onAfterMenuShow&&this._eventHandler.subscribe(this._addon.onAfterMenuShow,(function(t,i){e.onAfterMenuShow&&e.onAfterMenuShow(t,i)}))),this._addon}return null},t.prototype.translateContextMenu=function(){if(this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.contextMenu){var e=this.sharedService.gridOptions.contextMenu,t={};e.commandTitleKey&&(e.commandTitle=this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr(e.commandTitleKey)||e.commandTitle,t.commandTitle=e.commandTitle),e.optionTitleKey&&(e.optionTitle=this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr(e.optionTitleKey)||e.optionTitle,t.optionTitle=e.optionTitle);var i=this._userOriginalContextMenu&&Array.isArray(this._userOriginalContextMenu.commandItems)?this._userOriginalContextMenu.commandItems:[];e.commandItems=p(i,this.addMenuCustomCommands(i)),t.commandItems=e.commandItems,this.extensionUtility.translateItems(e.commandItems||[],"titleKey","title"),this.extensionUtility.translateItems(e.optionItems||[],"titleKey","title"),this.extensionUtility.sortItems(e.commandItems||[],"positionOrder"),this.extensionUtility.sortItems(e.optionItems||[],"positionOrder"),this._addon&&this._addon.setOptions&&this._addon.setOptions(t)}},t.prototype.addMenuCustomCommands=function(e){var t=this,i=[],r=this.sharedService&&this.sharedService.gridOptions||{},n=r&&r.contextMenu,s=this.sharedService&&this.sharedService.dataView;if(n&&!n.hideCopyCellValueCommand){e.find((function(e){return e.hasOwnProperty("command")&&"copy"===e.command}))||i.push({iconCssClass:n.iconCopyCellValueCommand||"fa fa-clone",title:this.extensionUtility.translateWhenEnabledAndServiceExist("COPY","TEXT_COPY"),disabled:!1,command:"copy",positionOrder:50,action:function(e,i){t.copyToClipboard(i)},itemUsabilityOverride:function(e){var t=e&&e.column,i=e&&e.dataContext;return!(!t||!i.hasOwnProperty(t.field))&&(""!==i[t.field]&&null!==i[t.field]&&void 0!==i[t.field])}})}if(r&&r.enableExport&&n&&!n.hideExportCsvCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-csv"===e.command}))||i.push({iconCssClass:n.iconExportCsvCommand||"fa fa-download",title:this.extensionUtility.translateWhenEnabledAndServiceExist("EXPORT_TO_CSV","TEXT_EXPORT_TO_CSV"),disabled:!1,command:"export-csv",positionOrder:51,action:function(){return t.exportService.exportToFile({delimiter:o.b.comma,filename:"export",format:o.f.csv,useUtf8WithBom:!0})}})}if(r&&r.enableExcelExport&&n&&!n.hideExportExcelCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-excel"===e.command}))||i.push({iconCssClass:n.iconExportExcelCommand||"fa fa-file-excel-o text-success",title:this.extensionUtility.translateWhenEnabledAndServiceExist("EXPORT_TO_EXCEL","TEXT_EXPORT_TO_EXCEL"),disabled:!1,command:"export-excel",positionOrder:52,action:function(){return t.excelExportService.exportToExcel({filename:"export",format:o.f.xlsx})}})}if(r&&r.enableExport&&n&&!n.hideExportTextDelimitedCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-text-delimited"===e.command}))||i.push({iconCssClass:n.iconExportTextDelimitedCommand||"fa fa-download",title:this.extensionUtility.translateWhenEnabledAndServiceExist("EXPORT_TO_TAB_DELIMITED","TEXT_EXPORT_TO_TAB_DELIMITED"),disabled:!1,command:"export-text-delimited",positionOrder:53,action:function(){return t.exportService.exportToFile({delimiter:o.b.tab,filename:"export",format:o.f.txt,useUtf8WithBom:!0})}})}if(r&&(r.enableGrouping||r.enableDraggableGrouping)){if(i.push({divider:!0,command:"",positionOrder:54}),r&&n&&!n.hideClearAllGrouping){e.find((function(e){return e.hasOwnProperty("command")&&"clear-grouping"===e.command}))||i.push({iconCssClass:n.iconClearGroupingCommand||"fa fa-times",title:this.extensionUtility.translateWhenEnabledAndServiceExist("CLEAR_ALL_GROUPING","TEXT_CLEAR_ALL_GROUPING"),disabled:!1,command:"clear-grouping",positionOrder:55,action:function(){return s.setGrouping([])},itemUsabilityOverride:function(){var e=s&&s.getGrouping&&s.getGrouping();return Array.isArray(e)&&e.length>0}})}if(r&&n&&!n.hideCollapseAllGroups){e.find((function(e){return e.hasOwnProperty("command")&&"collapse-all-groups"===e.command}))||i.push({iconCssClass:n.iconCollapseAllGroupsCommand||"fa fa-compress",title:this.extensionUtility.translateWhenEnabledAndServiceExist("COLLAPSE_ALL_GROUPS","TEXT_COLLAPSE_ALL_GROUPS"),disabled:!1,command:"collapse-all-groups",positionOrder:56,action:function(){return s.collapseAllGroups()},itemUsabilityOverride:function(){var e=s&&s.getGrouping&&s.getGrouping();return Array.isArray(e)&&e.length>0}})}if(r&&n&&!n.hideExpandAllGroups){e.find((function(e){return e.hasOwnProperty("command")&&"expand-all-groups"===e.command}))||i.push({iconCssClass:n.iconExpandAllGroupsCommand||"fa fa-expand",title:this.extensionUtility.translateWhenEnabledAndServiceExist("EXPAND_ALL_GROUPS","TEXT_EXPAND_ALL_GROUPS"),disabled:!1,command:"expand-all-groups",positionOrder:57,action:function(){return s.expandAllGroups()},itemUsabilityOverride:function(){var e=s&&s.getGrouping&&s.getGrouping();return Array.isArray(e)&&e.length>0}})}}return i},t.prototype.copyToClipboard=function(t){try{if(t&&t.grid&&t.command){var i=this.sharedService&&this.sharedService.gridOptions||{},r=t&&t.cell||0,n=t&&t.row||0,o=t&&t.column,s=t&&t.dataContext,d=this.sharedService&&this.sharedService.grid,c=i&&(i.excelExportOptions||i.exportOptions),l=Object(a.a)(n,r,s,o,d,c),h=document.createRange(),u=e("<div>").css({position:"absolute",left:"-1000px",top:"-1000px"}).text(l);e("body").append(u),h.selectNodeContents(u.get(0));var p=window.getSelection();if(p&&p.addRange&&p.removeAllRanges)p.removeAllRanges(),p.addRange(h),document.execCommand("copy",!1,l)&&u.remove()}}catch(e){}},t=u([Object(r.q)(!0),Object(r.o)(c.a,d.a,s.a,r.g.of(n.I18N),l.a)],t)}()}).call(this,i("+2Rf"))},Cff2:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i("aurelia-framework"),n=i("aurelia-i18n"),o=i("dbac"),s=i("wESz"),a=i("v8Uj"),d=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(){function e(e,t){this.i18n=e,this.sharedService=t}return e.prototype.arrayRemoveItemByIndex=function(e,t){return e.filter((function(e,i){return t!==i}))},e.prototype.loadExtensionDynamically=function(e){try{switch(e){case a.d.autoTooltip:i("vI08");break;case a.d.cellExternalCopyManager:i("fUF5");break;case a.d.cellMenu:i("IZn0");break;case a.d.checkboxSelector:i("N6V6");break;case a.d.columnPicker:i("RcFN");break;case a.d.contextMenu:i("udjk");break;case a.d.draggableGrouping:i("JMYW");break;case a.d.gridMenu:i("mAwp");break;case a.d.groupItemMetaProvider:i("uqKM");break;case a.d.headerButton:i("j61Q");break;case a.d.headerMenu:i("b5bV");break;case a.d.rowSelection:i("ycYR");break;case a.d.rowDetailView:i("+aCq");break;case a.d.rowMoveManager:i("+19A")}}catch(e){}},e.prototype.getPickerTitleOutputString=function(e,t){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');var i="",r=this.sharedService.gridOptions&&this.sharedService.gridOptions[t]||{},n=this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate||!1,s=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||o.a.locales,a=r&&r[e],d=r&&r[e+"Key"];if(d&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale())i=this.i18n.tr(d||" ");else switch(e){case"customTitle":i=a||n&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr("COMMANDS")||s&&s.TEXT_COMMANDS;break;case"columnTitle":i=a||n&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr("COLUMNS")||s&&s.TEXT_COLUMNS;break;case"forceFitTitle":i=a||n&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr("FORCE_FIT_COLUMNS")||s&&s.TEXT_FORCE_FIT_COLUMNS;break;case"syncResizeTitle":i=a||n&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr("SYNCHRONOUS_RESIZE")||s&&s.TEXT_SYNCHRONOUS_RESIZE;break;default:i=a}return i},e.prototype.sortItems=function(e,t){Array.isArray(e)&&e.sort((function(e,i){return e&&i&&e.hasOwnProperty(t)&&i.hasOwnProperty(t)?e[t]-i[t]:0}))},e.prototype.translateItems=function(e,t,i){if(Array.isArray(e))for(var r=0,n=e;r<n.length;r++){var o=n[r];o[t]&&(o[i]=this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr(o[t]))}},e.prototype.translateWhenEnabledAndServiceExist=function(e,t){var i=this.sharedService&&this.sharedService.gridOptions,r=i&&i.locales||o.a.locales;return i.enableTranslate&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()?this.i18n.tr(e||" "):r&&r.hasOwnProperty(t)?r[t]:t},e=d([Object(r.q)(!0),Object(r.o)(r.g.of(n.I18N),s.a)],e)}()},lIXa:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return f}));var r=i("aurelia-framework"),n=i("wMS7"),o=i("v8Uj"),s=i("Cff2"),a=i("wESz"),d=i("lBQj"),c=i("eyxJ"),l=i("IlDx"),h=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},u=function(t,i,r,n){return new(r||(r=e))((function(e,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(s,a)}d((n=n.apply(t,i||[])).next())}))},p=function(e,t){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},f=function(){function e(e,t,i,r){this.aureliaUtilService=e,this.pluginEa=t,this.extensionUtility=i,this.sharedService=r,this._slots=[],this._subscriptions=[],this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"datasetIdPropName",{get:function(){return this.gridOptions.datasetIdPropertyName||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this.sharedService&&this.sharedService.gridOptions||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowDetailViewOptions",{get:function(){return this.gridOptions.rowDetailView},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),Object(c.e)(this._subscriptions),this.disposeAllViewSlot()},e.prototype.disposeAllViewSlot=function(){var e=this;Array.isArray(this._slots)&&this._slots.forEach((function(t){return e.disposeViewSlot(t)})),this._slots=[]},e.prototype.create=function(e,t){var i=this;if(e&&t){if(this.extensionUtility.loadExtensionDynamically(o.d.rowDetailView),!t.rowDetailView)throw new Error('The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(t&&t.rowDetailView){if(!this._addon){if("function"!=typeof t.rowDetailView.process)throw new Error('You need to provide a "process" function for the Row Detail Extension to work properly');this._userProcessFn=t.rowDetailView.process,t.rowDetailView.process=function(e){return i.onProcessing(e)},t.rowDetailView.preTemplate||(this._preloadView=t&&t.rowDetailView&&t.rowDetailView.preloadView||"",t.rowDetailView.preTemplate=function(){return n.sanitize('<div class="container_loading"></div>')}),t.rowDetailView.postTemplate||(this._viewModel=t&&t.rowDetailView&&t.rowDetailView.viewModel||"",t.rowDetailView.postTemplate=function(e){return n.sanitize('<div class="container_'+e[i.datasetIdPropName]+'"></div>')}),this._addon=new Slick.Plugins.RowDetailView(t.rowDetailView)}var r=this._addon.getColumnDefinition();"object"==typeof r&&(r.excludeFromExport=!0,r.excludeFromColumnPicker=!0,r.excludeFromGridMenu=!0,r.excludeFromQuery=!0,r.excludeFromHeaderMenu=!0,e.unshift(r))}return this._addon}return null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.rowDetailViewOptions&&(this.rowDetailViewOptions.onExtensionRegistered&&this.rowDetailViewOptions.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onAsyncResponse,(function(e,i){t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onAsyncResponse&&t.rowDetailViewOptions.onAsyncResponse(e,i)})),this._eventHandler.subscribe(this._addon.onAsyncEndUpdate,(function(e,i){t.renderViewModel(i&&i.item),t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onAsyncEndUpdate&&t.rowDetailViewOptions.onAsyncEndUpdate(e,i)})),this._eventHandler.subscribe(this._addon.onAfterRowDetailToggle,(function(e,i){t.renderPreloadView(),t.renderAllViewModels(),t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onAfterRowDetailToggle&&t.rowDetailViewOptions.onAfterRowDetailToggle(e,i)})),this._eventHandler.subscribe(this._addon.onBeforeRowDetailToggle,(function(e,i){t.onBeforeRowDetailToggle(e,i),t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onBeforeRowDetailToggle&&t.rowDetailViewOptions.onBeforeRowDetailToggle(e,i)})),this._eventHandler.subscribe(this._addon.onRowBackToViewportRange,(function(e,i){t.onRowBackToViewportRange(e,i),t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onRowBackToViewportRange&&t.rowDetailViewOptions.onRowBackToViewportRange(e,i)})),this._eventHandler.subscribe(this._addon.onRowOutOfViewportRange,(function(e,i){t.rowDetailViewOptions&&"function"==typeof t.rowDetailViewOptions.onRowOutOfViewportRange&&t.rowDetailViewOptions.onRowOutOfViewportRange(e,i)})),this._eventHandler.subscribe(this.sharedService.grid.onColumnsReordered,(function(){return t.redrawAllViewSlots()})),this._eventHandler.subscribe(this.sharedService.grid.onSort,(function(){return t.disposeAllViewSlot()})),this._subscriptions.push(this.pluginEa.subscribe("filterService:filterChanged",(function(){return t.redrawAllViewSlots()})))),this._addon):null},e.prototype.redrawAllViewSlots=function(){var e=this;this._slots.forEach((function(t){e.redrawViewSlot(t)}))},e.prototype.renderAllViewModels=function(){var e=this;this._slots.forEach((function(t){t&&t.dataContext&&e.renderViewModel(t.dataContext)}))},e.prototype.redrawViewSlot=function(e){var t=document.getElementsByClassName("container_"+e[this.datasetIdPropName]);t&&t.length&&this.renderViewModel(e.dataContext)},e.prototype.renderPreloadView=function(){var e=document.getElementsByClassName("container_loading");e&&e.length&&this.aureliaUtilService.createAureliaViewAddToSlot(this._preloadView,e[0],!0)},e.prototype.renderViewModel=function(e){var t=this,i=document.getElementsByClassName("container_"+e[this.datasetIdPropName]);if(i&&i.length){var r={model:e,addon:this._addon,grid:this.sharedService.grid,dataView:this.sharedService.dataView,parent:this.rowDetailViewOptions&&this.rowDetailViewOptions.parent},n=this.aureliaUtilService.createAureliaViewModelAddToSlot(this._viewModel,r,i[0],!0),o=this._slots.find((function(i){return i[t.datasetIdPropName]===e[t.datasetIdPropName]}));o&&n&&(o.view=n.view,o.viewSlot=n.viewSlot)}},e.prototype.disposeViewSlot=function(e){if(e&&e.view&&e.viewSlot&&e.view.unbind&&e.viewSlot.remove){var t=document.getElementsByClassName("container_"+this._slots[0][this.datasetIdPropName]);if(t&&t.length>0)return e.viewSlot.remove(e.view),e.view.unbind(),t[0].innerHTML="",e}return null},e.prototype.notifyTemplate=function(e){this._addon&&this._addon.onAsyncResponse.notify({item:e},new Slick.EventData,this)},e.prototype.onProcessing=function(e){return u(this,void 0,void 0,(function(){var t,i;return p(this,(function(r){switch(r.label){case 0:return e&&"function"==typeof this._userProcessFn?(t=void 0,[4,this._userProcessFn(e)]):[3,6];case 1:return(i=r.sent()).hasOwnProperty(this.datasetIdPropName)?(t=i,[3,5]):[3,2];case 2:return i instanceof Response&&"function"==typeof i.json?[4,i.json()]:[3,4];case 3:return t=r.sent(),[3,5];case 4:i&&i.content&&(t=i.content),r.label=5;case 5:if(!t||!t.hasOwnProperty(this.datasetIdPropName))throw new Error('[Aurelia-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback\n          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "'+this.datasetIdPropName+'" property');this.notifyTemplate(t||{}),r.label=6;case 6:return[2]}}))}))},e.prototype.onBeforeRowDetailToggle=function(e,t){var i=this;if(t&&t.item&&t.item.__collapsed){if(t&&t.item){var r={id:t.item[this.datasetIdPropName],dataContext:t.item};Object(c.a)(this._slots,r)}}else{var n=this._slots.findIndex((function(e){return e[i.datasetIdPropName]===t.item[i.datasetIdPropName]}));n>=0&&this.disposeViewSlot(this._slots[n])&&this._slots.splice(n,1)}},e.prototype.onRowBackToViewportRange=function(e,t){var i=this;t&&t.item&&this._slots.forEach((function(e){e[i.datasetIdPropName]===t.item[i.datasetIdPropName]&&i.redrawViewSlot(e)}))},e=h([Object(r.q)(!0),Object(r.o)(d.a,l.a,s.a,a.a)],e)}()}).call(this,i("B/eG").default)},pvKZ:function(e,t,i){"use strict";var r=i("aurelia-framework"),n=i("wESz"),o=i("v8Uj"),s=i("Cff2"),a=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},d=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(o.d.autoTooltip);var e=this.sharedService.gridOptions.autoTooltipOptions||{};return this._addon=new Slick.AutoTooltips(e),this.sharedService.grid.registerPlugin(this._addon),this._addon}return null},e=a([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),c=i("eyxJ"),l=function(){return(l=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},h=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},u=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"addonOptions",{get:function(){return this._addonOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandQueue",{get:function(){return this._commandQueue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undoRedoBuffer",{get:function(){return this._undoRedoBuffer},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.cellExternalCopyManager),this.createUndoRedoBuffer(),this.hookUndoShortcutKey(),this._addonOptions=l(l({},this.getDefaultOptions()),this.sharedService.gridOptions.excelCopyBufferOptions),this.sharedService.grid.setSelectionModel(new Slick.CellSelectionModel),this._addon=new Slick.CellExternalCopyManager(this._addonOptions),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.excelCopyBufferOptions&&(this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered&&this.sharedService.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCopyCells,(function(t,i){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells&&e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCells(t,i)})),this._eventHandler.subscribe(this._addon.onCopyCancelled,(function(t,i){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled&&e.sharedService.gridOptions.excelCopyBufferOptions.onCopyCancelled(t,i)})),this._eventHandler.subscribe(this._addon.onPasteCells,(function(t,i){e.sharedService.gridOptions.excelCopyBufferOptions&&"function"==typeof e.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells&&e.sharedService.gridOptions.excelCopyBufferOptions.onPasteCells(t,i)}))),this._addon):null},e.prototype.createUndoRedoBuffer=function(){var e=this,t=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:function(i){e._commandQueue[t]=i,t++,i.execute()},undo:function(){if(0!==t){t--;var i=e._commandQueue[t];i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.undo()}},redo:function(){if(!(t>=e._commandQueue.length)){var i=e._commandQueue[t];t++,i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.execute()}}}},e.prototype.getDefaultOptions=function(){var e=this,t=0;return{clipboardCommandHandler:function(t){e._undoRedoBuffer.queueAndExecuteCommand.call(e._undoRedoBuffer,t)},dataItemColumnValueExtractor:function(t,i){if(!e.sharedService.gridOptions.editable||!i.editor){var r=void 0!==i.exportWithFormatter?i.exportWithFormatter:e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.exportWithFormatter;if(i.formatter&&r){var n=i.formatter(0,0,t[i.field],i,t,e.sharedService.grid);if(i.sanitizeDataExport||e.sharedService.gridOptions.exportOptions&&e.sharedService.gridOptions.exportOptions.sanitizeDataExport){var o=n;return n&&"object"==typeof n&&n.hasOwnProperty("text")&&(o=n.text),null===o&&(o=""),Object(c.t)(o)}return n}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(i){for(var r=0;r<i;r++){var n={id:"newRow_"+t++};e.sharedService.grid.getData().addItem(n)}}}},e.prototype.hookUndoShortcutKey=function(){var e=this;document.addEventListener("keydown",(function(t){90===(t.keyCode||t.code)&&(t.ctrlKey||t.metaKey)&&(t.shiftKey?e._undoRedoBuffer.redo():e._undoRedoBuffer.undo())}))},e=h([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),p=i("aurelia-i18n"),f=i("dbac"),g=function(){return(g=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},m=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},v=function(){function e(e,t,i){this.extensionUtility=e,this.i18n=t,this.sharedService=i,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){var e=this.sharedService.gridOptions.cellMenu;return this._locales=this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||f.a.locales,this.extensionUtility.loadExtensionDynamically(o.d.cellMenu),this.sharedService.gridOptions.cellMenu=g(g({},this.getDefaultCellMenuOptions()),e),this.sharedService.gridOptions.enableTranslate&&this.translateCellMenu(),this.sortMenuItems(this.sharedService.allColumns),this._addon=new Slick.Plugins.CellMenu(e),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&e&&(e.onExtensionRegistered&&e.onExtensionRegistered(this._addon),e&&"function"==typeof e.onCommand&&this._eventHandler.subscribe(this._addon.onCommand,(function(t,i){e.onCommand&&e.onCommand(t,i)})),e&&"function"==typeof e.onOptionSelected&&this._eventHandler.subscribe(this._addon.onOptionSelected,(function(t,i){e.onOptionSelected&&e.onOptionSelected(t,i)})),e&&"function"==typeof e.onBeforeMenuShow&&this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(t,i){e.onBeforeMenuShow&&e.onBeforeMenuShow(t,i)})),e&&"function"==typeof e.onBeforeMenuClose&&this._eventHandler.subscribe(this._addon.onBeforeMenuClose,(function(t,i){e.onBeforeMenuClose&&e.onBeforeMenuClose(t,i)})),e&&"function"==typeof e.onAfterMenuShow&&this._eventHandler.subscribe(this._addon.onAfterMenuShow,(function(t,i){e.onAfterMenuShow&&e.onAfterMenuShow(t,i)}))),this._addon}return null},e.prototype.translateCellMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.cellMenu&&this.resetMenuTranslations(this.sharedService.allColumns)},e.prototype.getDefaultCellMenuOptions=function(){return{width:180}},e.prototype.resetMenuTranslations=function(e){var t=this,i=this.sharedService&&this.sharedService.gridOptions;i&&i.enableTranslate&&e.forEach((function(e){if(e&&e.cellMenu&&(Array.isArray(e.cellMenu.commandItems)||Array.isArray(e.cellMenu.optionItems))){var i=e.cellMenu.commandItems||[],r=e.cellMenu.optionItems||[];e.cellMenu.commandTitleKey&&(e.cellMenu.commandTitle=t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()&&t.i18n.tr(e.cellMenu.commandTitleKey)||t._locales&&t._locales.TEXT_COMMANDS||e.cellMenu.commandTitle),e.cellMenu.optionTitleKey&&(e.cellMenu.optionTitle=t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()&&t.i18n.tr(e.cellMenu.optionTitleKey)||e.cellMenu.optionTitle),t.extensionUtility.translateItems(i,"titleKey","title"),t.extensionUtility.translateItems(r,"titleKey","title")}}))},e.prototype.sortMenuItems=function(e){var t=this;e.forEach((function(e){if(e&&e.cellMenu&&e.cellMenu.commandItems){var i=e.cellMenu.commandItems||[],r=e.cellMenu.optionItems||[];t.extensionUtility.sortItems(i,"positionOrder"),t.extensionUtility.sortItems(r,"positionOrder")}}))},e=m([Object(r.q)(!0),Object(r.o)(s.a,r.g.of(p.I18N),n.a)],e)}(),S=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},O=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.create=function(e,t){if(Array.isArray(e)&&t){this.extensionUtility.loadExtensionDynamically(o.d.checkboxSelector),this._addon||(this._addon=new Slick.CheckboxSelectColumn(t.checkboxSelector||{}));var i=this._addon.getColumnDefinition();return"object"==typeof i&&(i.excludeFromExport=!0,i.excludeFromColumnPicker=!0,i.excludeFromGridMenu=!0,i.excludeFromQuery=!0,i.excludeFromHeaderMenu=!0,e.unshift(i)),this._addon}return null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this.sharedService.gridOptions.preselectedRows&&e&&this.sharedService.grid.getSelectionModel()&&setTimeout((function(){return t._addon.selectRows(t.sharedService.gridOptions.preselectedRows)})),e):null},e=S([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),y=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},_=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;if(this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions){this.extensionUtility.loadExtensionDynamically(o.d.columnPicker);var t=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),i=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),r=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker");return this.sharedService.gridOptions.columnPicker=this.sharedService.gridOptions.columnPicker||{},this.sharedService.gridOptions.columnPicker.columnTitle=this.sharedService.gridOptions.columnPicker.columnTitle||t,this.sharedService.gridOptions.columnPicker.forceFitTitle=this.sharedService.gridOptions.columnPicker.forceFitTitle||i,this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.sharedService.gridOptions.columnPicker.syncResizeTitle||r,this._addon=new Slick.Controls.ColumnPicker(this.sharedService.allColumns,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.enableColumnPicker&&(this.sharedService.gridOptions.columnPicker.onExtensionRegistered&&this.sharedService.gridOptions.columnPicker.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onColumnsChanged,(function(t,i){e.sharedService.gridOptions.columnPicker&&"function"==typeof e.sharedService.gridOptions.columnPicker.onColumnsChanged&&e.sharedService.gridOptions.columnPicker.onColumnsChanged(t,i),i&&Array.isArray(i.columns)&&i.columns.length>e.sharedService.visibleColumns.length&&(e.sharedService.visibleColumns=i.columns)}))),this._addon}return null},e.prototype.translateColumnPicker=function(){this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions&&(this.sharedService.gridOptions.columnPicker&&(this.emptyColumnPickerTitles(),this.sharedService.gridOptions.columnPicker.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.sharedService.gridOptions.columnPicker.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this.extensionUtility.translateItems(this.sharedService.allColumns,"nameKey","name"),this._addon&&this._addon.updateAllTitles&&this._addon.updateAllTitles(this.sharedService.gridOptions.columnPicker))},e.prototype.emptyColumnPickerTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.columnPicker&&(this.sharedService.gridOptions.columnPicker.columnTitle="",this.sharedService.gridOptions.columnPicker.forceFitTitle="",this.sharedService.gridOptions.columnPicker.syncResizeTitle="")},e=y([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),b=i("2W+k"),w=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},C=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.create=function(e){return e?(this.extensionUtility.loadExtensionDynamically(o.d.draggableGrouping),!this._addon&&e&&(this._addon=new Slick.DraggableGrouping(e.draggableGrouping||{})),this._addon):null},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.draggableGrouping&&(this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered&&this.sharedService.gridOptions.draggableGrouping.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onGroupChanged,(function(t,i){e.sharedService.gridOptions.draggableGrouping&&"function"==typeof e.sharedService.gridOptions.draggableGrouping.onGroupChanged&&e.sharedService.gridOptions.draggableGrouping.onGroupChanged(t,i)}))),this._addon):null},e=w([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),M=i("+2Rf"),x=i("/CJ3"),T=i("9tpB"),E=i("NozK"),R=i("sfpN"),P=i("Kt3C"),A=function(){return(A=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},I=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},k=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)r[n]=o[s];return r},D=function(){function e(e,t,i,r,n,o,s){this.excelExportService=e,this.exportService=t,this.extensionUtility=i,this.filterService=r,this.i18n=n,this.sharedService=o,this.sortService=s,this._areVisibleColumnDifferent=!1,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy(),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&this.sharedService.gridOptions.gridMenu.customItems&&(this.sharedService.gridOptions.gridMenu=this._userOriginalGridMenu)},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.showGridMenu=function(e){this._addon.showGridMenu(e)},e.prototype.register=function(){var e=this;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');if(this._userOriginalGridMenu=A({},this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu){this._locales=this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||f.a.locales,this.extensionUtility.loadExtensionDynamically(o.d.gridMenu),this.sharedService.gridOptions.gridMenu=A(A({},this.getDefaultGridMenuOptions()),this.sharedService.gridOptions.gridMenu);var t=Array.isArray(this._userOriginalGridMenu.customItems)&&this._userOriginalGridMenu.customItems||[];return this.sharedService.gridOptions.gridMenu.customItems=k(t,this.addGridMenuCustomCommands(t)),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this._addon=new Slick.Controls.GridMenu(this.sharedService.allColumns,this.sharedService.grid,this.sharedService.gridOptions),this.sharedService.grid&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.onExtensionRegistered&&this.sharedService.gridOptions.gridMenu.onExtensionRegistered(this._addon),this.sharedService.gridOptions.gridMenu&&"function"==typeof this.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(t,i){e.sharedService.gridOptions.gridMenu&&e.sharedService.gridOptions.gridMenu.onBeforeMenuShow&&e.sharedService.gridOptions.gridMenu.onBeforeMenuShow(t,i)})),this.sharedService.gridOptions.gridMenu&&"function"==typeof this.sharedService.gridOptions.gridMenu.onAfterMenuShow&&this._eventHandler.subscribe(this._addon.onAfterMenuShow,(function(t,i){e.sharedService.gridOptions.gridMenu&&e.sharedService.gridOptions.gridMenu.onAfterMenuShow&&e.sharedService.gridOptions.gridMenu.onAfterMenuShow(t,i)})),this._eventHandler.subscribe(this._addon.onColumnsChanged,(function(t,i){e._areVisibleColumnDifferent=!0,e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onColumnsChanged&&e.sharedService.gridOptions.gridMenu.onColumnsChanged(t,i),i&&Array.isArray(i.columns)&&i.columns.length>e.sharedService.visibleColumns.length&&(e.sharedService.visibleColumns=i.columns)})),this._eventHandler.subscribe(this._addon.onCommand,(function(t,i){e.executeGridMenuInternalCustomCommands(t,i),e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onCommand&&e.sharedService.gridOptions.gridMenu.onCommand(t,i)})),this._eventHandler.subscribe(this._addon.onMenuClose,(function(t,i){if(e.sharedService.gridOptions.gridMenu&&"function"==typeof e.sharedService.gridOptions.gridMenu.onMenuClose&&e.sharedService.gridOptions.gridMenu.onMenuClose(t,i),e.sharedService.grid&&"function"==typeof e.sharedService.grid.autosizeColumns){var r=e.sharedService.grid.getUID();e._areVisibleColumnDifferent&&r&&M("."+r).length>0&&(e.sharedService.gridOptions&&e.sharedService.gridOptions.enableAutoSizeColumns&&e.sharedService.grid.autosizeColumns(),e._areVisibleColumnDifferent=!1)}}))),this._addon}return null},e.prototype.refreshBackendDataset=function(e){e&&(this.sharedService.gridOptions=A(A({},this.sharedService.gridOptions),e)),Object(x.d)(this.sharedService.gridOptions)},e.prototype.translateGridMenu=function(){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu){this.sharedService.gridOptions.gridMenu.customItems=[],this.emptyGridMenuTitles();var e=Array.isArray(this._userOriginalGridMenu.customItems)&&this._userOriginalGridMenu.customItems||[];this.sharedService.gridOptions.gridMenu.customItems=k(e,this.addGridMenuCustomCommands(e)),this.extensionUtility.translateItems(this.sharedService.gridOptions.gridMenu.customItems,"titleKey","title"),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.customItems,"positionOrder"),this.sharedService.gridOptions.gridMenu.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),this.sharedService.gridOptions.gridMenu.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this.extensionUtility.translateItems(this.sharedService.allColumns,"nameKey","name"),this._addon&&this._addon.updateAllTitles&&this._addon.updateAllTitles(this.sharedService.gridOptions.gridMenu)}},e.prototype.addGridMenuCustomCommands=function(e){var t=this.sharedService.gridOptions.backendServiceApi||null,i=[];if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableFiltering&&this.sharedService.gridOptions.showHeaderRow){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllFiltersCommand){e.find((function(e){return e.hasOwnProperty("command")&&"clear-filter"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("CLEAR_ALL_FILTERS"):this._locales&&this._locales.TEXT_CLEAR_ALL_FILTERS,disabled:!1,command:"clear-filter",positionOrder:50})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideToggleFilterCommand){e.find((function(e){return e.hasOwnProperty("command")&&"toggle-filter"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconToggleFilterCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("TOGGLE_FILTER_ROW"):this._locales&&this._locales.TEXT_TOGGLE_FILTER_ROW,disabled:!1,command:"toggle-filter",positionOrder:52})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideRefreshDatasetCommand&&t){e.find((function(e){return e.hasOwnProperty("command")&&"refresh-dataset"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("REFRESH_DATASET"):this._locales&&this._locales.TEXT_REFRESH_DATASET,disabled:!1,command:"refresh-dataset",positionOrder:56})}}if(this.sharedService.gridOptions.showPreHeaderPanel&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideTogglePreHeaderCommand){e.find((function(e){return e.hasOwnProperty("command")&&"toggle-preheader"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconTogglePreHeaderCommand||"fa fa-random",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("TOGGLE_PRE_HEADER_ROW"):this._locales&&this._locales.TEXT_TOGGLE_PRE_HEADER_ROW,disabled:!1,command:"toggle-preheader",positionOrder:52})}if(this.sharedService.gridOptions.enableSorting&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideClearAllSortingCommand){e.find((function(e){return e.hasOwnProperty("command")&&"clear-sorting"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("CLEAR_ALL_SORTING"):this._locales&&this._locales.TEXT_CLEAR_ALL_SORTING,disabled:!1,command:"clear-sorting",positionOrder:51})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportCsvCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-csv"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportCsvCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_CSV"):this._locales&&this._locales.TEXT_EXPORT_TO_CSV,disabled:!1,command:"export-csv",positionOrder:53})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExcelExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportExcelCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-excel"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportExcelCommand||"fa fa-file-excel-o text-success",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_EXCEL"):this._locales&&this._locales.TEXT_EXPORT_TO_EXCEL,disabled:!1,command:"export-excel",positionOrder:54})}if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableExport&&this.sharedService.gridOptions.gridMenu&&!this.sharedService.gridOptions.gridMenu.hideExportTextDelimitedCommand){e.find((function(e){return e.hasOwnProperty("command")&&"export-text-delimited"===e.command}))||i.push({iconCssClass:this.sharedService.gridOptions.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:this.sharedService.gridOptions.enableTranslate?this.i18n.tr("EXPORT_TO_TAB_DELIMITED"):this._locales&&this._locales.TEXT_EXPORT_TO_TAB_DELIMITED,disabled:!1,command:"export-text-delimited",positionOrder:55})}return this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(i.length>0||this.sharedService.gridOptions.gridMenu.customItems&&this.sharedService.gridOptions.gridMenu.customItems.length>0)&&(this.sharedService.gridOptions.gridMenu.customTitle=this.sharedService.gridOptions.gridMenu.customTitle||this.extensionUtility.getPickerTitleOutputString("customTitle","gridMenu")),i},e.prototype.executeGridMenuInternalCustomCommands=function(e,t){if(t&&t.command)switch(t.command){case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh();break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh();break;case"export-csv":this.exportService.exportToFile({delimiter:o.b.comma,filename:"export",format:o.f.csv,useUtf8WithBom:!0});break;case"export-excel":this.excelExportService.exportToExcel({filename:"export",format:o.f.xlsx});break;case"export-text-delimited":this.exportService.exportToFile({delimiter:o.b.tab,filename:"export",format:o.f.txt,useUtf8WithBom:!0});break;case"toggle-filter":var i=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showHeaderRow||!1;this.sharedService.grid.setHeaderRowVisibility(!i);break;case"toggle-toppanel":var r=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showTopPanel||!1;this.sharedService.grid.setTopPanelVisibility(!r);break;case"toggle-preheader":var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.showPreHeaderPanel||!1;this.sharedService.grid.setPreHeaderPanelVisibility(!n);break;case"refresh-dataset":this.refreshBackendDataset()}},e.prototype.emptyGridMenuTitles=function(){this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.gridMenu&&(this.sharedService.gridOptions.gridMenu.customTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="")},e.prototype.getDefaultGridMenuOptions=function(){return{customTitle:void 0,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,customItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}},e=I([Object(r.q)(!0),Object(r.o)(T.a,E.a,s.a,R.a,r.g.of(p.I18N),n.a,P.a)],e)}(),H=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},j=function(){function e(e){this.sharedService=e}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid?(this._addon=this.sharedService.groupItemMetadataProvider||{},this.sharedService.grid.registerPlugin(this._addon),this._addon):null},e=H([Object(r.q)(!0),Object(r.o)(n.a)],e)}(),U=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},V=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.headerButton),this._addon=new Slick.Plugins.HeaderButtons(this.sharedService.gridOptions.headerButton||{}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerButton&&(this.sharedService.gridOptions.headerButton.onExtensionRegistered&&this.sharedService.gridOptions.headerButton.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,(function(t,i){e.sharedService.gridOptions.headerButton&&"function"==typeof e.sharedService.gridOptions.headerButton.onCommand&&e.sharedService.gridOptions.headerButton.onCommand(t,i)}))),this._addon):null},e=U([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),B=i("IlDx"),L=function(){return(L=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},G=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},N=function(){function e(e,t,i,r,n,o){this.pluginEa=e,this.extensionUtility=t,this.filterService=i,this.i18n=r,this.sharedService=n,this.sortService=o,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){var e=this;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this._locales=this.sharedService.gridOptions&&this.sharedService.gridOptions.locales||f.a.locales,this.extensionUtility.loadExtensionDynamically(o.d.headerMenu),this.sharedService.gridOptions.headerMenu=L(L({},this.getDefaultHeaderMenuOptions()),this.sharedService.gridOptions.headerMenu),this.sharedService.gridOptions.enableHeaderMenu&&(this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.gridOptions,this.sharedService.columnDefinitions)),this._addon=new Slick.Plugins.HeaderMenu(this.sharedService.gridOptions.headerMenu),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.headerMenu&&(this.sharedService.gridOptions.headerMenu.onExtensionRegistered&&this.sharedService.gridOptions.headerMenu.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onCommand,(function(t,i){e.executeHeaderMenuInternalCommands(t,i),e.sharedService.gridOptions.headerMenu&&"function"==typeof e.sharedService.gridOptions.headerMenu.onCommand&&e.sharedService.gridOptions.headerMenu.onCommand(t,i)})),this.sharedService.gridOptions.headerMenu&&"function"==typeof this.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&this._eventHandler.subscribe(this._addon.onBeforeMenuShow,(function(t,i){e.sharedService.gridOptions.headerMenu&&e.sharedService.gridOptions.headerMenu.onBeforeMenuShow&&e.sharedService.gridOptions.headerMenu.onBeforeMenuShow(t,i)})),this.sharedService.gridOptions.headerMenu&&"function"==typeof this.sharedService.gridOptions.headerMenu.onAfterMenuShow&&this._eventHandler.subscribe(this._addon.onAfterMenuShow,(function(t,i){e.sharedService.gridOptions.headerMenu&&e.sharedService.gridOptions.headerMenu.onAfterMenuShow&&e.sharedService.gridOptions.headerMenu.onAfterMenuShow(t,i)}))),this._addon):null},e.prototype.addHeaderMenuCustomCommands=function(e,t){var i=this,r=e.headerMenu||{};return t&&Array.isArray(t)&&e.enableHeaderMenu&&t.forEach((function(t){if(t&&!t.excludeFromHeaderMenu){t.header&&t.header.menu||(t.header={menu:{items:[]}});var n=t&&t.header&&t.header.menu&&t.header.menu.items||[];e.enableSorting&&t.sortable&&r&&!r.hideSortCommands&&(0===n.filter((function(e){return e.hasOwnProperty("command")&&"sort-asc"===e.command})).length&&n.push({iconCssClass:r.iconSortAscCommand||"fa fa-sort-asc",title:e.enableTranslate?i.i18n.tr("SORT_ASCENDING"):i._locales&&i._locales.TEXT_SORT_ASCENDING,command:"sort-asc",positionOrder:50}),0===n.filter((function(e){return e.hasOwnProperty("command")&&"sort-desc"===e.command})).length&&n.push({iconCssClass:r.iconSortDescCommand||"fa fa-sort-desc",title:e.enableTranslate?i.i18n.tr("SORT_DESCENDING"):i._locales&&i._locales.TEXT_SORT_DESCENDING,command:"sort-desc",positionOrder:51}),0===n.filter((function(e){return 52===e.positionOrder})).length&&n.push({divider:!0,command:"",positionOrder:52}),r.hideClearSortCommand||0!==n.filter((function(e){return e.hasOwnProperty("command")&&"clear-sort"===e.command})).length||n.push({iconCssClass:r.iconClearSortCommand||"fa fa-unsorted",title:e.enableTranslate?i.i18n.tr("REMOVE_SORT"):i._locales&&i._locales.TEXT_REMOVE_SORT,command:"clear-sort",positionOrder:54})),e.enableFiltering&&t.filterable&&r&&!r.hideFilterCommands&&(r.hideClearFilterCommand||0!==n.filter((function(e){return e.hasOwnProperty("command")&&"clear-filter"===e.command})).length||n.push({iconCssClass:r.iconClearFilterCommand||"fa fa-filter",title:e.enableTranslate?i.i18n.tr("REMOVE_FILTER"):i._locales&&i._locales.TEXT_REMOVE_FILTER,command:"clear-filter",positionOrder:53})),r&&!r.hideColumnHideCommand&&0===n.filter((function(e){return e.hasOwnProperty("command")&&"hide"===e.command})).length&&n.push({iconCssClass:r.iconColumnHideCommand||"fa fa-times",title:e.enableTranslate?i.i18n.tr("HIDE_COLUMN"):i._locales&&i._locales.TEXT_HIDE_COLUMN,command:"hide",positionOrder:55}),i.extensionUtility.translateItems(n,"titleKey","title"),i.extensionUtility.sortItems(n,"positionOrder")}})),r},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns&&this.sharedService.grid.getColumnIndex){var t=this.sharedService.grid.getColumnIndex(e.id),i=this.sharedService.grid.getColumns(),r=this.extensionUtility.arrayRemoveItemByIndex(i,t);this.sharedService.visibleColumns=r,this.sharedService.grid.setColumns(r),this.pluginEa.publish("headerMenu:onColumnsChanged",{columns:r})}},e.prototype.translateHeaderMenu=function(){this.sharedService.gridOptions&&this.sharedService.gridOptions.headerMenu&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)},e.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,hideColumnHideCommand:!1,hideSortCommands:!1,title:""}},e.prototype.resetHeaderMenuTranslations=function(e){var t=this;e.forEach((function(e){if(e&&e.header&&e.header.menu&&e.header.menu.items&&!e.excludeFromHeaderMenu){var i=e.header.menu.items||[];i.forEach((function(e){if(e.hasOwnProperty("command"))switch(e.command){case"clear-filter":e.title=t.i18n.tr("REMOVE_FILTER")||t._locales&&t._locales.TEXT_REMOVE_FILTER;break;case"clear-sort":e.title=t.i18n.tr("REMOVE_SORT")||t._locales&&t._locales.TEXT_REMOVE_SORT;break;case"sort-asc":e.title=t.i18n.tr("SORT_ASCENDING")||t._locales&&t._locales.TEXT_SORT_ASCENDING;break;case"sort-desc":e.title=t.i18n.tr("SORT_DESCENDING")||t._locales&&t._locales.TEXT_SORT_DESCENDING;break;case"hide":e.title=t.i18n.tr("HIDE_COLUMN")||t._locales&&t._locales.TEXT_HIDE_COLUMN}t.sharedService.gridOptions&&t.sharedService.gridOptions.enableTranslate&&t.extensionUtility.translateItems(i,"titleKey","title")}))}}))},e.prototype.clearColumnFilter=function(e,t){t&&t.column&&this.filterService.clearFilterByColumnId(e,t.column.id)},e.prototype.clearColumnSort=function(e,t){if(t&&t.column&&this.sharedService){var i=this.sortService.getCurrentColumnSorts(),r=this.sortService.getCurrentColumnSorts(t.column.id+"");if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid});else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r,!0);else{var n=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(n)}var o=r.map((function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}}));this.sharedService.grid.setSortColumns(o)}}},e.prototype.executeHeaderMenuInternalCommands=function(e,t){if(t&&t.command)switch(t.command){case"hide":this.hideColumn(t.column),this.sharedService.gridOptions&&this.sharedService.gridOptions.enableAutoSizeColumns&&this.sharedService.grid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(e,t);break;case"clear-sort":this.clearColumnSort(e,t);break;case"sort-asc":case"sort-desc":var i="sort-asc"===t.command;this.sortColumn(e,t,i)}},e.prototype.sortColumn=function(e,t,i){if(void 0===i&&(i=!0),t&&t.column){var r=this.sortService.getCurrentColumnSorts(t.column.id+""),n=o.c.local;if(r.push({sortCol:t.column,sortAsc:i}),this.sharedService.gridOptions.backendServiceApi)this.sortService.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this.sharedService.grid}),n=o.c.remote;else if(this.sharedService.dataView)this.sortService.onLocalSortChanged(this.sharedService.grid,this.sharedService.dataView,r),n=o.c.local;else{var s=this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.multiColumnSort||!1?r:r[0];t.grid.onSort.notify(s)}var a=r.map((function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}}));if(this.sharedService.grid.setSortColumns(a),n){var d=[];a.forEach((function(e){d.push({columnId:e.columnId+"",direction:e.sortAsc?"ASC":"DESC"})})),this.sortService.emitSortChanged(n,d)}}},e=G([Object(r.q)(!0),Object(r.o)(B.a,s.a,R.a,r.g.of(p.I18N),n.a,P.a)],e)}(),F=i("lIXa"),X=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},K=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(e){var t=this;return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.rowMoveManager),e&&this.sharedService.grid.getSelectionModel()||(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),e=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(e)),this._addon=new Slick.RowMoveManager(this.sharedService.gridOptions.rowMoveManager||{cancelEditOnDrag:!0}),this.sharedService.grid.registerPlugin(this._addon),this.sharedService.grid&&this.sharedService.gridOptions.rowMoveManager&&(this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered&&this.sharedService.gridOptions.rowMoveManager.onExtensionRegistered(this._addon),this._eventHandler.subscribe(this._addon.onBeforeMoveRows,(function(e,i){t.sharedService.gridOptions.rowMoveManager&&"function"==typeof t.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows&&t.sharedService.gridOptions.rowMoveManager.onBeforeMoveRows(e,i)})),this._eventHandler.subscribe(this._addon.onMoveRows,(function(e,i){t.sharedService.gridOptions.rowMoveManager&&"function"==typeof t.sharedService.gridOptions.rowMoveManager.onMoveRows&&t.sharedService.gridOptions.rowMoveManager.onMoveRows(e,i)}))),this._addon):null},e=X([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}(),z=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},q=function(){function e(e,t){this.extensionUtility=e,this.sharedService=t}return e.prototype.dispose=function(){this._addon&&this._addon.destroy&&this._addon.destroy()},e.prototype.getAddonInstance=function(){return this._addon},e.prototype.register=function(){return this.sharedService&&this.sharedService.grid&&this.sharedService.gridOptions?(this.extensionUtility.loadExtensionDynamically(o.d.rowSelection),this._addon=new Slick.RowSelectionModel(this.sharedService.gridOptions.rowSelectionOptions||{}),this.sharedService.grid.setSelectionModel(this._addon),this._addon):null},e=z([Object(r.q)(!0),Object(r.o)(s.a,n.a)],e)}();i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return v})),i.d(t,"d",(function(){return O})),i.d(t,"e",(function(){return _})),i.d(t,"f",(function(){return b.a})),i.d(t,"g",(function(){return C})),i.d(t,"h",(function(){return D})),i.d(t,"i",(function(){return j})),i.d(t,"j",(function(){return V})),i.d(t,"k",(function(){return N})),i.d(t,"l",(function(){return F.a})),i.d(t,"m",(function(){return K})),i.d(t,"n",(function(){return q}))}}]);
//# sourceMappingURL=vendors~e92d8b0b.000224b941cb42766ef2.bundle.map