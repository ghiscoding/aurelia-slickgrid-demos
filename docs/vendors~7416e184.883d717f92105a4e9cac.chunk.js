(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/CJ3":function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return d}));var r=i("v8Uj"),n={executeBackendProcessesCallback:function(e,t,i,r){var n=new Date;t&&i&&i.internalPostProcess&&i.internalPostProcess(t),void 0!==i.postProcess&&(t instanceof Object&&(t.metrics={startTime:e,endTime:n,executionTime:n.valueOf()-e.valueOf(),itemCount:r,totalItemCount:r},t.statistics=t.metrics),i.postProcess(t))},onBackendError:function(e,t){if(!t||!t.onError)throw e;t.onError(e)},executeBackendCallback:function(t,i,o,s,a,d){if(t){!o||o.clearFilterTriggered||o.clearSortTriggered||d(r.c.remote);var u=t.process(i);u instanceof e&&u.then&&u.then((function(e){return n.executeBackendProcessesCallback(s,e,t,a)})).catch((function(e){return n.onBackendError(e,t)}))}},refreshBackendDataset:function(e){var t="",i=e&&e.backendServiceApi;if(!i||!i.service||!i.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(i.service&&(t=i.service.buildQuery()),t&&""!==t){var r=new Date;i.preProcess&&i.preProcess();var o=e&&e.pagination&&e.pagination.totalItems;n.executeBackendCallback(i,t,null,r,o)}}},o=n.executeBackendProcessesCallback,s=n.onBackendError,a=n.executeBackendCallback,d=n.refreshBackendDataset}).call(this,i("CW7D"))},"4Y7a":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("v8Uj"),n=i("eyxJ"),o=i("sjEL");function s(e,t,i,r,n,s){var a=0,d=r&&r.valueCouldBeUndefined||!1;if(null===e||""===e||d&&void 0===e||!o(e,n,s).isValid())a=-1;else if(null===t||""===t||d&&void 0===t||!o(t,n,s).isValid())a=1;else{var u=o(e,n,s),l=o(t,n,s);a=parseInt(u.format("X"),10)-parseInt(l.format("X"),10)}return i*(0===a?0:a>0?1:-1)}function a(e){var t=e===r.e.date?o.ISO_8601:Object(n.w)(e);return function(e,i,r,n){return t===o.ISO_8601?s(e,i,r,n,t,!1):s(e,i,r,n,t,!0)}}},"62FO":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var r=function(){function e(){this._boundedEvents=[]}return e.prototype.bind=function(e,t,i,r){e.addEventListener(t,i,r),this._boundedEvents.push({element:e,eventName:t,listener:i})},e.prototype.unbindAll=function(){for(;this._boundedEvents.length>0;){var e=this._boundedEvents.pop(),t=e.element,i=e.eventName,r=e.listener;(null==t?void 0:t.removeEventListener)&&t.removeEventListener(i,r)}},e}()},"9tpB":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return _}));var r=i("aurelia-event-aggregator"),n=i("aurelia-framework"),o=i("aurelia-i18n"),s=i("xhvs"),a=i("EVdn"),d=i("sjEL"),u=i("v8Uj"),l=i("dbac"),c=i("HTOr"),h=i("eyxJ"),p=i("IlDx"),g=function(){return(g=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},f=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},m=function(t,i,r,n){return new(r||(r=e))((function(e,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(s,a)}d((n=n.apply(t,i||[])).next())}))},v=function(e,t){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(e,t,i){this.globalEa=e,this.pluginEa=t,this.i18n=i,this._fileFormat=u.f.xlsx,this._hasGroupedItems=!1}return Object.defineProperty(t.prototype,"datasetIdName",{get:function(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){if(this._grid=e,this._dataView=t,this._aureliaEventPrefix=this._gridOptions&&this._gridOptions.defaultAureliaEventPrefix?this._gridOptions.defaultAureliaEventPrefix:"asg",this._locales=this._gridOptions&&this._gridOptions.locales||l.a.locales,this._gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.')},t.prototype.exportToExcel=function(t){var i=this;if(!this._grid||!this._dataView)throw new Error('[Aurelia-Slickgrid] it seems that the SlickGrid & DataView objects are not initialized did you forget to enable the grid option flag "enableExcelExport"?');return new e((function(e,r){i.pluginEa.publish("excelExportService:onBeforeExportToExcel",!0),i.globalEa.publish(i._aureliaEventPrefix+":onBeforeExportToExcel",!0),i._excelExportOptions=a.extend(!0,{},i._gridOptions.excelExportOptions,t),i._fileFormat=i._excelExportOptions.format||u.f.xlsx;var n={name:i._excelExportOptions.sheetName||"Sheet1"};i._workbook=s.Workbook?new s.Workbook:s.createWorkbook(),i._sheet=s.Worksheet?new s.Worksheet(n):i._workbook.createWorksheet(n),i._stylesheet=i._workbook.getStyleSheet();var o=i._stylesheet.createFormat({font:{bold:!0}}),d=i._stylesheet.createFormat({format:"@"}),l=i._stylesheet.createFormat({format:"0"}),c=i._stylesheet.createFormat({format:"$#,##0.00"});i._stylesheetFormats={boldFormatter:o,dollarFormatter:c,numberFormatter:l,stringFormatter:d};var h=i.getDataOutput();setTimeout((function(){return m(i,void 0,void 0,(function(){var t,i,n,o,a,d,l,c;return v(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),this._gridOptions&&this._gridOptions.excelExportOptions&&this._gridOptions.excelExportOptions.customExcelHeader&&this._gridOptions.excelExportOptions.customExcelHeader(this._workbook,this._sheet),t=this._grid&&this._grid.getColumns&&this._grid.getColumns()||[],this._sheet.setColumns(this.getColumnStyles(t)),i=this._sheet.data,n=i,Array.isArray(i)&&Array.isArray(h)&&(n=this._sheet.data.concat(h)),this._sheet.setData(n),this._workbook.addWorksheet(this._sheet),o=s.Builder&&s.Builder.createFile?s.Builder.createFile:s.createFile,a=this._fileFormat===u.f.xls?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet ",[4,o(this._workbook,{type:"blob",mimeType:a})];case 1:return d=p.sent(),l={filename:this._excelExportOptions.filename+"."+this._fileFormat,format:this._fileFormat},this.startDownloadFile(g(g({},l),{blob:d,data:this._sheet.data})),this.pluginEa.publish("excelExportService:onAfterExportToExcel",l),this.globalEa.publish(this._aureliaEventPrefix+":onAfterExportToExcel",l),e(!0),[3,3];case 2:return c=p.sent(),r(c),[3,3];case 3:return[2]}}))}))}))}))},t.prototype.startDownloadFile=function(e){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to Excel. Please upgrade your browser.");if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e.blob,e.filename);else{var t=document&&document.createElement("a"),i=URL.createObjectURL(e.blob);t&&document&&(t.textContent="download",t.href=i,t.setAttribute("download",e.filename),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t))}},t.prototype.useCellFormatByFieldType=function(e,t){var i=e;switch(t){case u.e.dateTime:case u.e.dateTimeIso:case u.e.dateTimeShortIso:case u.e.dateTimeIsoAmPm:case u.e.dateTimeIsoAM_PM:case u.e.dateEuro:case u.e.dateEuroShort:case u.e.dateTimeEuro:case u.e.dateTimeShortEuro:case u.e.dateTimeEuroAmPm:case u.e.dateTimeEuroAM_PM:case u.e.dateTimeEuroShort:case u.e.dateTimeEuroShortAmPm:case u.e.dateUs:case u.e.dateUsShort:case u.e.dateTimeUs:case u.e.dateTimeShortUs:case u.e.dateTimeUsAmPm:case u.e.dateTimeUsAM_PM:case u.e.dateTimeUsShort:case u.e.dateTimeUsShortAmPm:case u.e.dateUtc:case u.e.date:case u.e.dateIso:if(i=e,e){var r=Object(h.w)(t),n=d(e,r,!1).isValid();i={value:e&&n?d(e).format(r):e,metadata:{style:this._stylesheet.createFormat({format:r}).id}}}break;case u.e.number:i={value:isNaN(+e)?null:e,metadata:{style:this._stylesheetFormats.numberFormatter.id}};break;default:i=e}return i},t.prototype.getDataOutput=function(){var e=this._grid&&this._grid.getColumns&&this._grid.getColumns()||[],t=[],i=this._gridOptions&&this._gridOptions.excelExportOptions&&this._gridOptions.excelExportOptions.columnHeaderStyle,r=this._stylesheetFormats.boldFormatter.id;if(i&&(r=this._stylesheet.createFormat(i).id),this._gridOptions.createPreHeaderPanel&&this._gridOptions.showPreHeaderPanel&&!this._gridOptions.enableDraggableGrouping){var n=this._stylesheet.createFormat({alignment:{horizontal:"center"},font:{bold:!0}});t.push(this.getColumnGroupedHeaderTitlesData(e,{style:n&&n.id}))}return t.push(this.getColumnHeaderData(e,{style:r})),this.pushAllGridRowDataToArray(t,e),t},t.prototype.getColumnStyles=function(e){var t=this,i=this._dataView&&this._dataView.getGrouping&&this._dataView.getGrouping(),r=[];return i&&r.push({bestFit:!0,columnStyles:this._gridOptions&&this._gridOptions.excelExportOptions&&this._gridOptions.excelExportOptions.customColumnWidth||10}),e.forEach((function(e){var i=e.excludeFromExport||!1;(void 0===e.width||e.width>0)&&!i&&r.push({bestFit:!0,width:e.exportColumnWidth||t._gridOptions&&t._gridOptions.excelExportOptions&&t._gridOptions.excelExportOptions.customColumnWidth||10})})),r},t.prototype.getColumnGroupedHeaderTitlesData=function(e,t){var i=[];this._groupedColumnHeaders=this.getColumnGroupedHeaderTitles(e)||[],this._groupedColumnHeaders&&Array.isArray(this._groupedColumnHeaders)&&this._groupedColumnHeaders.length>0&&(i=this._groupedColumnHeaders.map((function(e){return{value:e.title,metadata:t}})));for(var r="A".charCodeAt(0),n="A",o="",s=0,a=this._groupedColumnHeaders.length,d=0;d<a;d++)if(d+1===a||d+1<a&&this._groupedColumnHeaders[d].title!==this._groupedColumnHeaders[d+1].title){var u=Math.floor(s/26%26),l=String.fromCharCode(r+u-1),c=Math.floor(d/26%26),h=String.fromCharCode(r+c-1),p=""+(s>26?l:"")+n+"1",g=""+(d>26?h:"")+(o=String.fromCharCode(r+d%26))+"1";this._sheet.mergeCells(p,g),n=String.fromCharCode(o.charCodeAt(0)+1),s=d}return i},t.prototype.getColumnHeaderData=function(e,t){var i=[];this._columnHeaders=this.getColumnHeaders(e)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0&&(i=this._columnHeaders.map((function(e){return{value:e.title,metadata:t}})));var r=this.getGroupColumnTitle();return r&&i.unshift({value:r,metadata:t}),i},t.prototype.getGroupColumnTitle=function(){var e=this._excelExportOptions.groupingColumnHeaderTitle;!e&&this._gridOptions.enableTranslate&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()?e=this.i18n.tr(Object(h.q)(this._gridOptions)+"GROUP_BY"):e||(e=this._locales&&this._locales.TEXT_GROUP_BY);var t=this._dataView&&this._dataView.getGrouping&&this._dataView.getGrouping();return t&&Array.isArray(t)&&t.length>0?(this._hasGroupedItems=!0,e):(this._hasGroupedItems=!1,null)},t.prototype.getColumnGroupedHeaderTitles=function(e){var t=this,i=[];return e&&Array.isArray(e)&&e.forEach((function(e){var r="";r=e.columnGroupKey&&t._gridOptions.enableTranslate&&t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()?t.i18n.tr(e.columnGroupKey):e.columnGroup||"";var n=e.excludeFromExport||!1;(void 0===e.width||e.width>0)&&!n&&i.push({key:e.field||e.id,title:r||""})})),i},t.prototype.getColumnHeaders=function(e){var t=this,i=[];return e&&Array.isArray(e)&&e.forEach((function(e){var r="";r=(e.headerKey||e.nameKey)&&t._gridOptions.enableTranslate&&t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()?t.i18n.tr(e.headerKey||e.nameKey):e.name||Object(h.F)(e.field);var n=e.excludeFromExport||!1;(void 0===e.width||e.width>0)&&!n&&i.push({key:(e.field||e.id)+"",title:r})})),i},t.prototype.pushAllGridRowDataToArray=function(e,t){for(var i=this._dataView&&this._dataView.getLength&&this._dataView.getLength(),r=0;r<i;r++){var n=this._dataView.getItem(r);n&&(null!==n[this.datasetIdName]&&void 0!==n[this.datasetIdName]?e.push(this.readRegularRowData(t,r,n)):this._hasGroupedItems&&void 0===n.__groupTotals?e.push([this.readGroupedRowTitle(n)]):n.__groupTotals&&e.push(this.readGroupedTotalRows(t,n)))}return e},t.prototype.readRegularRowData=function(e,t,i){for(var r=0,n=[],o=0,s=e.length;o<s;o++){var a=e[o],d=a.outputType||a.type||u.e.string;if(!a.excludeFromExport){this._hasGroupedItems&&0===r&&n.push("");var l=Object(c.a)(t,o,i,a,this._grid,this._excelExportOptions);(a.sanitizeDataExport||this._excelExportOptions.sanitizeDataExport)&&(l=Object(h.C)(l)),a.exportWithFormatter||(l=this.useCellFormatByFieldType(l,d)),n.push(l),r++}}return n},t.prototype.readGroupedRowTitle=function(e){var t=Object(h.C)(e.title);if(this._excelExportOptions&&this._excelExportOptions.addGroupIndentation){var i=this._excelExportOptions&&this._excelExportOptions.groupCollapsedSymbol||"▹",r=this._excelExportOptions&&this._excelExportOptions.groupExpandedSymbol||"▿";return(e.collapsed?i:r)+" "+Object(h.b)(5*e.level)+t}return t},t.prototype.readGroupedTotalRows=function(e,t){var i=this,r=[this._excelExportOptions.groupingAggregatorRowText||""];return e.forEach((function(e){var n="",o=e.excludeFromExport||!1;e.exportCustomGroupTotalsFormatter?n=e.exportCustomGroupTotalsFormatter(t,e,i._grid):e.groupTotalsFormatter&&(n=e.groupTotalsFormatter(t,e,i._grid)),(e.sanitizeDataExport||i._excelExportOptions.sanitizeDataExport)&&(n=Object(h.C)(n)),(void 0===e.width||e.width>0)&&!o&&r.push(n)})),r},t=f([Object(n.q)(!0),Object(n.o)(r.a,p.a,n.g.of(o.I18N))],t)}()}).call(this,i("CW7D"))},H9V8:function(e,t,i){"use strict";i.d(t,"a",(function(){return n.a})),i.d(t,"F",(function(){return o.b})),i.d(t,"W",(function(){return o.c})),i.d(t,"E",(function(){return o.a})),i.d(t,"Z",(function(){return o.d})),i.d(t,"b",(function(){return s.a})),i.d(t,"c",(function(){return a.a})),i.d(t,"d",(function(){return d.a})),i.d(t,"G",(function(){return u.a})),i.d(t,"e",(function(){return l.a})),i.d(t,"f",(function(){return v})),i.d(t,"g",(function(){return _.a})),i.d(t,"h",(function(){return w})),i.d(t,"k",(function(){return N})),i.d(t,"i",(function(){return B})),i.d(t,"l",(function(){return j})),i.d(t,"j",(function(){return z})),i.d(t,"m",(function(){return Q})),i.d(t,"n",(function(){return V})),i.d(t,"o",(function(){return K.a})),i.d(t,"p",(function(){return J.a})),i.d(t,"q",(function(){return f.a})),i.d(t,"r",(function(){return x.a})),i.d(t,"s",(function(){return $.a})),i.d(t,"t",(function(){return y.a})),i.d(t,"u",(function(){return y.b})),i.d(t,"v",(function(){return y.c})),i.d(t,"z",(function(){return y.g})),i.d(t,"x",(function(){return y.e})),i.d(t,"y",(function(){return y.f})),i.d(t,"B",(function(){return y.i})),i.d(t,"H",(function(){return y.l})),i.d(t,"N",(function(){return y.r})),i.d(t,"P",(function(){return y.t})),i.d(t,"Q",(function(){return y.u})),i.d(t,"O",(function(){return y.s})),i.d(t,"A",(function(){return y.h})),i.d(t,"C",(function(){return y.j})),i.d(t,"J",(function(){return y.n})),i.d(t,"D",(function(){return y.k})),i.d(t,"K",(function(){return y.o})),i.d(t,"M",(function(){return y.q})),i.d(t,"S",(function(){return y.w})),i.d(t,"R",(function(){return y.v})),i.d(t,"V",(function(){return y.z})),i.d(t,"U",(function(){return y.y})),i.d(t,"T",(function(){return y.x})),i.d(t,"X",(function(){return y.A})),i.d(t,"Y",(function(){return y.B})),i.d(t,"ab",(function(){return y.C})),i.d(t,"bb",(function(){return y.D})),i.d(t,"cb",(function(){return y.E})),i.d(t,"db",(function(){return y.F})),i.d(t,"eb",(function(){return y.G})),i.d(t,"fb",(function(){return y.H})),i.d(t,"w",(function(){return y.d})),i.d(t,"I",(function(){return y.m})),i.d(t,"L",(function(){return y.p})),i.d(t,"gb",(function(){return y.I})),i.d(t,"hb",(function(){return y.J})),i.d(t,"ib",(function(){return y.K}));var r,n=i("lBQj"),o=i("/CJ3"),s=i("62FO"),a=i("wI58"),d=i("9tpB"),u=i("HTOr"),l=i("NozK"),c=(i("ICte"),i("+Huw"),i("v22/"),i("aurelia-framework")),h=i("aurelia-i18n"),p=i("v8Uj"),g=i("pvKZ"),f=i("wESz"),m=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},v=function(){function e(e,t,i,r,n,o,s,a,d,u,l,c,h,p,g,f){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.cellMenuExtension=i,this.checkboxSelectorExtension=r,this.columnPickerExtension=n,this.contextMenuExtension=o,this.draggableGroupingExtension=s,this.gridMenuExtension=a,this.groupItemMetaExtension=d,this.headerButtonExtension=u,this.headerMenuExtension=l,this.rowDetailViewExtension=c,this.rowMoveManagerExtension=h,this.rowSelectionExtension=p,this.sharedService=g,this.i18n=f,this._extensionCreatedList={},this._extensionList={}}return Object.defineProperty(e.prototype,"extensionList",{get:function(){return this._extensionList},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.sharedService.grid=null,this.sharedService.visibleColumns=[];for(var e=0,t=Object.keys(this._extensionList);e<t.length;e++){var i=t[e];if(this._extensionList.hasOwnProperty(i)){var r=this._extensionList[i];r&&r.class&&r.class.dispose&&r.class.dispose()}}for(var n=0,o=Object.keys(this._extensionList);n<o.length;n++){var s=o[n];delete this._extensionList[s]}},e.prototype.getAllColumns=function(){return this.sharedService.allColumns||[]},e.prototype.getVisibleColumns=function(){return this.sharedService.visibleColumns||[]},e.prototype.getExtensionByName=function(e){if(this._extensionList&&this._extensionList[e])return this._extensionList[e]},e.prototype.getSlickgridAddonInstance=function(e){var t=this.getExtensionByName(e);return t&&t.class&&(t.instance||t.addon)?t.class&&t.class.getAddonInstance?t.class.getAddonInstance():t.instance:null},e.prototype.autoResizeColumns=function(){this.sharedService.grid.autosizeColumns()},e.prototype.bindDifferentExtensions=function(){var e=this;if(this.sharedService&&this.sharedService.gridOptions){if(this.sharedService.gridOptions.enableTranslate&&(this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name")),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register){var t=this.autoTooltipExtension.register();this._extensionList[p.d.autoTooltip]={name:p.d.autoTooltip,class:this.autoTooltipExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register){t=this.cellExternalCopyExtension.register();this._extensionList[p.d.cellExternalCopyManager]={name:p.d.cellExternalCopyManager,class:this.cellExternalCopyExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableCellMenu&&this.cellMenuExtension&&this.cellMenuExtension.register){t=this.cellMenuExtension.register();this._extensionList[p.d.cellMenu]={name:p.d.cellMenu,class:this.cellMenuExtension,addon:t,instance:t}}if(!this.getExtensionByName(p.d.rowSelection)&&(this.sharedService.gridOptions.enableRowSelection||this.sharedService.gridOptions.enableCheckboxSelector||this.sharedService.gridOptions.enableRowDetailView||this.sharedService.gridOptions.enableRowMoveManager)&&this.rowSelectionExtension&&this.rowSelectionExtension.register){t=this.rowSelectionExtension.register();this._extensionList[p.d.rowSelection]={name:p.d.rowSelection,class:this.rowSelectionExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){var i=this.getExtensionByName(p.d.rowSelection);this.checkboxSelectorExtension.register(i);t=(r=this.getCreatedExtensionByName(p.d.checkboxSelector))&&r.instance;this._extensionList[p.d.checkboxSelector]={name:p.d.checkboxSelector,class:this.checkboxSelectorExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register){t=this.columnPickerExtension.register();this._extensionList[p.d.columnPicker]={name:p.d.columnPicker,class:this.columnPickerExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableContextMenu&&this.contextMenuExtension&&this.contextMenuExtension.register){t=this.contextMenuExtension.register();this._extensionList[p.d.contextMenu]={name:p.d.contextMenu,class:this.contextMenuExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register){t=this.draggableGroupingExtension.register();this._extensionList[p.d.draggableGrouping]={name:p.d.draggableGrouping,class:this.draggableGroupingExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register){t=this.gridMenuExtension.register();this._extensionList[p.d.gridMenu]={name:p.d.gridMenu,class:this.gridMenuExtension,addon:t,instance:t}}if((this.sharedService.gridOptions.enableDraggableGrouping||this.sharedService.gridOptions.enableGrouping)&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register){t=this.groupItemMetaExtension.register();this._extensionList[p.d.groupItemMetaProvider]={name:p.d.groupItemMetaProvider,class:this.groupItemMetaExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register){t=this.headerButtonExtension.register();this._extensionList[p.d.headerButton]={name:p.d.headerButton,class:this.headerButtonExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register){t=this.headerMenuExtension.register();this._extensionList[p.d.headerMenu]={name:p.d.headerMenu,class:this.headerMenuExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableRowDetailView&&this.rowDetailViewExtension&&this.rowDetailViewExtension.register){i=this.getExtensionByName(p.d.rowSelection);this.rowDetailViewExtension.register(i);t=(r=this.getCreatedExtensionByName(p.d.rowDetailView))&&r.instance;this._extensionList[p.d.rowDetailView]={name:p.d.rowDetailView,class:this.rowDetailViewExtension,addon:t,instance:t}}if(this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register){i=this.getExtensionByName(p.d.rowSelection);this.rowMoveManagerExtension.register(i);var r;t=(r=this.getCreatedExtensionByName(p.d.rowMoveManager))&&r.instance;this._extensionList[p.d.rowMoveManager]={name:p.d.rowMoveManager,class:this.rowMoveManagerExtension,addon:t,instance:t}}if(void 0!==this.sharedService.gridOptions.registerPlugins){var n=this.sharedService.grid,o=this.sharedService.gridOptions;if(Array.isArray(o.registerPlugins))o.registerPlugins.forEach((function(t){n.registerPlugin(t);var i=n.getPluginByName(t.name);e._extensionList[p.d.noname]={name:p.d.noname,class:null,addon:i,instance:i}}));else{var s=o.registerPlugins;n.registerPlugin(s);t=n.getPluginByName(s.name);this._extensionList[p.d.noname]={name:p.d.noname,class:null,addon:t,instance:t}}}}},e.prototype.createExtensionsBeforeGridCreation=function(e,t){if(t.enableCheckboxSelector&&!this.getCreatedExtensionByName(p.d.checkboxSelector)){var i=this.checkboxSelectorExtension.create(e,t);this._extensionCreatedList[p.d.checkboxSelector]={name:p.d.checkboxSelector,addon:i,instance:i,class:this.checkboxSelectorExtension}}if(t.enableRowMoveManager&&!this.getCreatedExtensionByName(p.d.rowMoveManager)){var r=this.rowMoveManagerExtension.create(e,t);this._extensionCreatedList[p.d.rowMoveManager]={name:p.d.rowMoveManager,addon:r,instance:r,class:this.rowMoveManagerExtension}}if(t.enableRowDetailView&&!this.getCreatedExtensionByName(p.d.rowDetailView)){var n=this.rowDetailViewExtension.create(e,t);this._extensionCreatedList[p.d.rowDetailView]={name:p.d.rowDetailView,addon:n,instance:n,class:this.rowDetailViewExtension}}if(t.enableDraggableGrouping&&!this.getCreatedExtensionByName(p.d.draggableGrouping)){var o=this.draggableGroupingExtension.create(t);t.enableColumnReorder=o.getSetupColumnReorder,this._extensionCreatedList[p.d.draggableGrouping]={name:p.d.draggableGrouping,addon:o,instance:o,class:this.draggableGroupingExtension}}},e.prototype.hideColumn=function(e){if(this.sharedService.grid&&this.sharedService.grid.getColumns&&this.sharedService.grid.setColumns){var t=this.sharedService.grid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.grid.getColumns(),t),this.sharedService.grid.setColumns(this.sharedService.visibleColumns)}},e.prototype.refreshBackendDataset=function(e){this.gridMenuExtension.refreshBackendDataset(e)},e.prototype.removeColumnByIndex=function(e,t){return Array.isArray(e)?e.filter((function(e,i){return t!==i})):e},e.prototype.translateCellMenu=function(){this.cellMenuExtension&&this.cellMenuExtension.translateCellMenu&&this.cellMenuExtension.translateCellMenu()},e.prototype.translateColumnPicker=function(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()},e.prototype.translateContextMenu=function(){this.contextMenuExtension&&this.contextMenuExtension.translateContextMenu&&this.contextMenuExtension.translateContextMenu()},e.prototype.translateGridMenu=function(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()},e.prototype.translateHeaderMenu=function(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()},e.prototype.translateColumnHeaders=function(e,t){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');e&&this.i18n&&this.i18n.setLocale&&this.i18n.setLocale(e);var i=t;i||(i=this.sharedService.columnDefinitions),this.translateItems(i,"headerKey","name"),this.translateItems(this.sharedService.allColumns,"headerKey","name"),this.translateItems(i,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.renderColumnHeaders(i,Array.isArray(t)),this.gridMenuExtension.translateGridMenu()},e.prototype.renderColumnHeaders=function(e,t){void 0===t&&(t=!1);var i=e;if(i||(i=this.sharedService.columnDefinitions),Array.isArray(i)&&this.sharedService.grid&&this.sharedService.grid.setColumns&&((i.length>this.sharedService.allColumns.length||t)&&(this.sharedService.allColumns=i),this.sharedService.grid.setColumns(i)),this.sharedService.gridOptions.enableColumnPicker){this.columnPickerExtension.dispose();var r=this.columnPickerExtension.register();(n=this.getExtensionByName(p.d.columnPicker))&&(n.addon=r,n.instance=r)}if(this.sharedService.gridOptions.enableGridMenu){this.gridMenuExtension.dispose();var n;r=this.gridMenuExtension.register();(n=this.getExtensionByName(p.d.gridMenu))&&(n.addon=r,n.instance=r)}},e.prototype.getCreatedExtensionByName=function(e){if(this._extensionCreatedList&&this._extensionCreatedList.hasOwnProperty(e))return this._extensionCreatedList[e]},e.prototype.translateItems=function(e,t,i){if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');if(Array.isArray(e))for(var r=0,n=e;r<n.length;r++){var o=n[r];o[t]&&(o[i]=this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()&&this.i18n.tr(o[t]))}},e=m([Object(c.q)(!0),Object(c.o)(g.a,g.b,g.c,g.d,g.e,g.f,g.g,g.h,g.i,g.j,g.k,g.l,g.m,g.n,f.a,c.g.of(h.I18N))],e)}(),_=i("sfpN"),y=i("eyxJ"),b=function(){function e(e,t){if(this.queryFnName=e,this.head=[],"string"==typeof t)this.alias=t;else if("object"==typeof t)this.filter(t);else{if(void 0===t&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(void 0!==t)throw new TypeError('Second argument to "Query" should be an alias name(String) or filter arguments(Object). What was passed is: '+t)}}return e.prototype.filter=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];if("function"!=typeof e[r]){var n=this.getGraphQLValue(e[r]);"{}"!==n&&this.head.push(r+":"+n)}}return this},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!e||!Array.isArray(e)||0===e.length)throw new TypeError("find value can not be >>falsy<<");var i=1===e.length&&Array.isArray(e[0])?e[0]:e;return this.body=this.parceFind(i),this},e.prototype.setAlias=function(e){this.alias=e},e.prototype.toString=function(){if(void 0===this.body)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return(this.alias?this.alias+":":"")+" "+this.queryFnName+" "+(this.head.length>0?"("+this.head.join(",")+")":"")+"  { "+this.body+" }"},e.prototype.parceFind=function(t){return t.map((function(i,r){var n=t[r];if(n instanceof e)return n.toString();if(Array.isArray(n)||"object"!=typeof n){if("string"==typeof n)return n;throw new RangeError("cannot handle Find value of "+n)}var o=Object.keys(n);if(1!==o.length)throw new RangeError("Alias objects should only have one value. was passed: "+JSON.stringify(n));var s=o[0],a=n[s];return Array.isArray(a)?new e(s).find(a):s+" : "+a+" "})).join(",")},e.prototype.getGraphQLValue=function(e){var t=this;return"string"==typeof e?e=JSON.stringify(e):Array.isArray(e)?e="["+(e=e.map((function(e){return t.getGraphQLValue(e)})).join())+"]":e instanceof Date?e=JSON.stringify(e):null!==e&&"object"==typeof e&&(e=this.objectToString(e)),e},e.prototype.objectToString=function(e){for(var t=[],i=0,r=Object.keys(e);i<r.length;i++){var n=r[i];"function"!=typeof e[n]&&t.push(n+":"+this.getGraphQLValue(e[n]))}return"{"+t.join()+"}"},e}(),S=function(){return(S=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},O=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},w=function(){function e(){this._currentFilters=[],this._currentSorters=[],this._datasetIdPropName="id",this.defaultPaginationOptions={first:25,offset:0}}return Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,i){this._grid=i,this.options=e||{datasetName:"",columnDefinitions:[]},this.pagination=t,this._datasetIdPropName=this._gridOptions.datasetIdPropertyName||"id",i&&i.getColumns&&(this._columnDefinitions=e&&e.columnDefinitions||i.getColumns())},e.prototype.buildQuery=function(){if(!this.options||!this.options.datasetName||!this._columnDefinitions&&!Array.isArray(this.options.columnDefinitions))throw new Error('GraphQL Service requires the "datasetName" property to properly build the GraphQL query');var e=this._columnDefinitions||this.options.columnDefinitions;e=e.filter((function(e){return!e.excludeFromQuery}));var t=new b("query"),i=new b(this.options.datasetName),r=new b("nodes"),n=[];if(e&&Array.isArray(e))for(var o=0,s=e;o<s.length;o++){var a=s[o];n.push(a.field),a.fields&&n.push.apply(n,a.fields)}-1===n.indexOf(this._datasetIdPropName)&&n.unshift(this._datasetIdPropName);var d=this.buildFilterQuery(n),u=[];if(!1!==this._gridOptions.enablePagination){if(this.options.isWithCursor){var l=new b("edges"),c=new b("pageInfo");c.find("hasNextPage","hasPreviousPage","endCursor","startCursor"),r.find(d),l.find(["cursor"]),u=["totalCount",r,c,l]}else r.find(d),u=["totalCount",r];i.find(u)}else i.find(d);var h={};if(!1!==this._gridOptions.enablePagination&&(h=S(S({},this.options.paginationOptions),{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first}),this.options.isWithCursor||(h.offset=this.options.paginationOptions&&this.options.paginationOptions.hasOwnProperty("offset")?+this.options.paginationOptions.offset:0)),this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&this.options.sortingOptions.length>0&&(h.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&this.options.filteringOptions.length>0&&(h.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(h.locale=this._gridOptions.i18n&&this._gridOptions.i18n.getLocale()||this._gridOptions.locale||"en"),this.options.extraQueryArguments)for(var p=0,g=this.options.extraQueryArguments;p<g.length;p++){var f=g[p];h[f.field]=f.value}i.filter(h),t.find(i);return this.trimDoubleQuotesOnEnumField(t.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1)},e.prototype.buildFilterQuery=function(e){var t=function(e,i){void 0===e&&(e={});var r=i.shift();return e[r]=i.length?t(e[r],i):null,e},i=e.reduce((function(e,i){return t(e,i.split("."))}),{});return JSON.stringify(i).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")},e.prototype.clearFilters=function(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})},e.prototype.clearSorters=function(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})},e.prototype.getInitPaginationOptions=function(){var e=this.pagination?this.pagination.pageSize:25;return this.options.isWithCursor?{first:e}:{first:e,offset:0}},e.prototype.getDatasetName=function(){return this.options.datasetName||""},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.resetPaginationOptions=function(){var e;this.options&&this.options.isWithCursor?e={after:"",before:void 0,last:void 0}:(e=this.options&&this.options.paginationOptions||this.getInitPaginationOptions()).offset=0,this._currentPagination={pageNumber:1,pageSize:e.first||20},!this._gridOptions||!this._gridOptions.enablePagination&&this._gridOptions.hasOwnProperty("enablePagination")||this.updateOptions({paginationOptions:e})},e.prototype.updateOptions=function(e){this.options=S(S({},this.options),e)},e.prototype.processOnFilterChanged=function(e,t){if(void 0===this._gridOptions.backendServiceApi)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');if(this._currentFilters=this.castFilterToColumnFilters(t.columnFilters),!t||!t.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');return this.updateFilters(t.columnFilters,!1),this.resetPaginationOptions(),this.buildQuery()},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(t.newPage,i),this.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this.buildQuery()},e.prototype.updateFilters=function(e,t){var i,r=[];t&&(this._currentFilters=this.castFilterToColumnFilters(e));var n=function(n){if(e.hasOwnProperty(n)){var s=e[n],a=void 0;if(!(a=t&&Array.isArray(o._columnDefinitions)?o._columnDefinitions.find((function(e){return e.id===s.columnId})):s.columnDef))throw new Error("[GraphQL Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var d=a.filter&&a.filter.queryField||a.queryFieldFilter||a.queryField||a.field||a.name||"",u=s&&s.searchTerms||[],l=Array.isArray(u)&&1===u.length?u[0]:"";if(void 0===l&&(l=""),!d)throw new Error('GraphQL filter could not find the field name to query the search, your column definition must include a valid "field" or "name" (optionally you can also use the "queryfield").');var c=(l=""+l).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),h=s.operator||(c?c[1]:"");i=c?c[2]:"";var g=c?c[3]:"*z"===h?"*":"";if(d&&""===i&&0===u.length)return"continue";if(Array.isArray(u)&&1===u.length&&"string"==typeof u[0]&&u[0].indexOf("..")>0&&(u=u[0].split(".."),h||(h=p.j.rangeExclusive)),"string"==typeof i&&(i=i.replace("'","''"),"*"!==h&&"a*"!==h&&"*z"!==h&&"*"!==g||(h="*"===h||"*z"===h?"EndsWith":"StartsWith")),!h&&a.filter&&a.filter.operator&&(h=a.filter.operator),u&&u.length>1&&("IN"===h||"NIN"===h||"NOT_IN"===h))i=u.join(",");else if(u&&2===u.length&&(!h||h===p.j.rangeExclusive||h===p.j.rangeInclusive))return h||(h=p.j.rangeExclusive),r.push({field:d,operator:h===p.j.rangeInclusive?"GE":"GT",value:u[0]}),r.push({field:d,operator:h===p.j.rangeInclusive?"LE":"LT",value:u[1]}),"continue";h||(h=Object(y.x)(a.type||p.e.string)),r.push({field:d,operator:Object(y.z)(h),value:i})}},o=this;for(var s in e)n(s);this.updateOptions({filteringOptions:r})},e.prototype.updatePagination=function(e,t){var i;this._currentPagination={pageNumber:e,pageSize:t},i=this.options&&this.options.isWithCursor?{first:t}:{first:t,offset:e>1?(e-1)*t:0},this.updateOptions({paginationOptions:i})},e.prototype.updateSorters=function(e,t){var i=this,r=[],n=[];if(!e&&t){(r=t).forEach((function(e){return e.direction=e.direction.toUpperCase()}));var o=r.map((function(e){var t=i._columnDefinitions.find((function(t){return t.id===e.columnId}));return n.push({field:t?(t.queryFieldSorter||t.queryField||t.field)+"":e.columnId+"",direction:e.direction}),t?{columnId:e.columnId,sortAsc:e.direction.toUpperCase()===p.k.ASC}:null}));Array.isArray(o)&&this._grid.setSortColumns(o.filter((function(e){return e})))}else if(e&&!t&&Array.isArray(e)&&e.length>0)for(var s=0,a=e;s<a.length;s++){var d=a[s];if(d&&d.sortCol){r.push({columnId:d.sortCol.id+"",direction:d.sortAsc?p.k.ASC:p.k.DESC});var u=(d.sortCol.queryFieldSorter||d.sortCol.queryField||d.sortCol.field||"")+"";u&&n.push({field:u,direction:d.sortAsc?p.k.ASC:p.k.DESC})}}this._currentSorters=r,this.updateOptions({sortingOptions:n})},e.prototype.trimDoubleQuotesOnEnumField=function(e,t,i){var r=t.join('s?((field:s*)?".*?")|'),n=new RegExp(r+='s?((field:s*)?".*?")',"g");return e.replace(n,(function(e){var t=!0;return e.startsWith("field:")&&i&&(t=!1),t?e.replace(/"/g,""):e}))},e.prototype.castFilterToColumnFilters=function(e){var t="object"==typeof e?Object.keys(e).map((function(t){return e[t]})):e;return Array.isArray(t)?t.map((function(e){var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})):[]},e=O([Object(c.q)(!0)],e)}(),C=i("aurelia-event-aggregator"),E=i("XaGS"),x=i("Kt3C"),P=i("IlDx"),A=function(){return(A=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},I=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},T=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)r[n]=o[s];return r},j=function(){function e(e,t,i,r,n){this.pluginEa=e,this.extensionService=t,this.filterService=i,this.sharedService=r,this.sortService=n,this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this._subscriptions=[],this._selectedRowDataContextIds=[],this._selectedFilteredRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datasetIdPropName",{get:function(){return this._gridOptions.datasetIdPropertyName||"id"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedRowDataContextIds",{get:function(){return this._selectedRowDataContextIds},set:function(e){this._selectedRowDataContextIds=e,this._selectedFilteredRowDataContextIds=e},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t){this._grid=e,this._dataView=t,this.subscribeToAllGridChanges(e)},e.prototype.dispose=function(){this._currentColumns=[],this._columns=[],this._eventHandler.unsubscribeAll(),this._subscriptions=Object(y.k)(this._subscriptions)},e.prototype.getCurrentGridState=function(e){var t={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters()},i=this.getCurrentPagination();if(i&&(t.pagination=i),this.hasRowSelectionEnabled()){var r=this.getCurrentRowSelections(e&&e.requestRefreshRowFilteredRow);r&&(t.rowSelection=r)}return t},e.prototype.getColumns=function(){return this._columns},e.prototype.getAssociatedCurrentColumns=function(e){var t=[];return e&&Array.isArray(e)&&e.forEach((function(e){e&&e.id&&t.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})})),this._currentColumns=t,t},e.prototype.getAssociatedGridColumns=function(e,t){var i=[],r=e.getColumns();return t&&Array.isArray(t)&&t.forEach((function(e){var t=r.find((function(t){return t.id===e.columnId}));t&&t.id&&i.push(A(A({},t),{cssClass:e.cssClass,headerCssClass:e.headerCssClass,width:e.width}))})),this._columns=i,i},e.prototype.getCurrentColumns=function(){return this._currentColumns&&Array.isArray(this._currentColumns)&&this._currentColumns.length>0?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns())},e.prototype.getCurrentFilters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentFilters)return e.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null},e.prototype.getCurrentPagination=function(){if(this._gridOptions.enablePagination){if(!this._gridOptions||!this._gridOptions.backendServiceApi)return this.sharedService.currentPagination;var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentPagination)return e.getCurrentPagination()}return null},e.prototype.getCurrentRowSelections=function(e){if(void 0===e&&(e=!0),this._grid&&this._gridOptions&&this._dataView&&this.hasRowSelectionEnabled()&&this._grid.getSelectedRows&&this._dataView.mapRowsToIds){var t=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),i=this._selectedRowDataContextIds;return!0===e&&this.refreshFilteredRowSelections(),{gridRowIndexes:t,dataContextIds:i,filteredDataContextIds:this._selectedFilteredRowDataContextIds}}return null},e.prototype.getCurrentSorters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var e=this._gridOptions.backendServiceApi.service;if(e&&e.getCurrentSorters)return e.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null},e.prototype.needToPreserveRowSelection=function(){var e=!1;if(this._gridOptions&&this._gridOptions.dataView&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){var t=this._gridOptions.dataView.syncGridSelection;"boolean"==typeof t?e=this._gridOptions.dataView.syncGridSelection:"object"==typeof t&&(e=t.preserveHidden),e&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(e=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return e},e.prototype.resetColumns=function(e){var t=e||this._columns,i=this.getAssociatedCurrentColumns(t);this.pluginEa.publish("gridStateService:changed",{change:{newValues:i,type:p.h.columns},gridState:this.getCurrentGridState()})},e.prototype.resetRowSelectionWhenRequired=function(){if(!this.needToPreserveRowSelection()&&(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)){var e=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(p.d.rowSelection);e&&e.instance&&this._grid.setSelectedRows([])}},e.prototype.subscribeToAllGridChanges=function(e){var t=this;this._subscriptions.push(this.pluginEa.subscribe("filterService:filterChanged",(function(e){t.resetRowSelectionWhenRequired(),t.pluginEa.publish("gridStateService:changed",{change:{newValues:e,type:p.h.filter},gridState:t.getCurrentGridState({requestRefreshRowFilteredRow:!t.hasRowSelectionEnabled()})}),t.hasRowSelectionEnabled()&&t.reEvaluateRowSelectionAfterFilterChange()}))),this._subscriptions.push(this.pluginEa.subscribe("filterService:filterCleared",(function(){t.resetRowSelectionWhenRequired(),t.pluginEa.publish("gridStateService:changed",{change:{newValues:[],type:p.h.filter},gridState:t.getCurrentGridState()})}))),this._subscriptions.push(this.pluginEa.subscribe("sortService:sortChanged",(function(e){t.resetRowSelectionWhenRequired(),t.pluginEa.publish("gridStateService:changed",{change:{newValues:e,type:p.h.sorter},gridState:t.getCurrentGridState()})}))),this._subscriptions.push(this.pluginEa.subscribe("sortService:sortCleared",(function(){t.resetRowSelectionWhenRequired(),t.pluginEa.publish("gridStateService:changed",{change:{newValues:[],type:p.h.sorter},gridState:t.getCurrentGridState()})}))),this.bindExtensionAddonEventToGridStateChange(p.d.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(p.d.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",e),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",e),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.bindSlickGridRowSelectionToGridStateChange(),this._subscriptions.push(this.pluginEa.subscribe("headerMenu:onHideColumns",(function(e){var i=t.getAssociatedCurrentColumns(e);t.pluginEa.publish("gridStateService:changed",{change:{newValues:i,type:p.h.columns},gridState:t.getCurrentGridState()})})))},e.prototype.bindExtensionAddonEventToGridStateChange=function(e,t){var i=this,r=this.extensionService&&this.extensionService.getExtensionByName&&this.extensionService.getExtensionByName(e),n=r&&r.instance&&r.instance[t];n&&"function"==typeof n.subscribe&&this._eventHandler.subscribe(n,(function(e,t){var r=t&&t.columns,n=i.getAssociatedCurrentColumns(r);i.pluginEa.publish("gridStateService:changed",{change:{newValues:n,type:p.h.columns},gridState:i.getCurrentGridState()})}))},e.prototype.bindSlickGridColumnChangeEventToGridStateChange=function(e,t){var i=this,r=t&&t[e];r&&"function"==typeof r.subscribe&&this._eventHandler.subscribe(r,(function(){var e=t.getColumns(),r=i.getAssociatedCurrentColumns(e);i.pluginEa.publish("gridStateService:changed",{change:{newValues:r,type:p.h.columns},gridState:i.getCurrentGridState()})}))},e.prototype.bindSlickGridRowSelectionToGridStateChange=function(){var e=this;this._grid&&this._gridOptions&&this._dataView&&(this._eventHandler.subscribe(this._dataView.onBeforePagingInfoChanged,(function(){e._wasRecheckedAfterPageChange=!1})),this._eventHandler.subscribe(this._dataView.onPagingInfoChanged,(function(){setTimeout((function(){var t=e._dataView.mapIdsToRows(e._selectedRowDataContextIds||[]),i=e._grid.getSelectedRows();E(t,i)||e._grid.setSelectedRows(t)}))})),this._eventHandler.subscribe(this._grid.onSelectedRowsChanged,(function(t,i){if(Array.isArray(i.rows)&&Array.isArray(i.previousSelectedRows)){var r=i.rows,n=i.previousSelectedRows,o=r.filter((function(e){return n.indexOf(e)<0})),s=n.filter((function(e){return r.indexOf(e)<0}));if(e._wasRecheckedAfterPageChange&&s.length>0)(e._dataView.mapRowsToIds(s)||[]).forEach((function(t){Array.isArray(e._selectedRowDataContextIds)&&e._selectedRowDataContextIds.splice(e._selectedRowDataContextIds.indexOf(t),1)}));if(o.length>0)(e._dataView.mapRowsToIds(o)||[]).forEach((function(t){-1===e._selectedRowDataContextIds.indexOf(t)&&e._selectedRowDataContextIds.push(t)}));e._wasRecheckedAfterPageChange=!0;var a=e._dataView.mapIdsToRows(e._selectedRowDataContextIds||[]),d=e._grid.getSelectedRows();E(a,d)||e._grid.setSelectedRows(a);var u=e.refreshFilteredRowSelections(),l={gridRowIndexes:e._grid.getSelectedRows(),dataContextIds:e._selectedRowDataContextIds,filteredDataContextIds:u};e.pluginEa.publish("gridStateService:changed",{change:{newValues:l,type:p.h.rowSelection},gridState:e.getCurrentGridState()})}})))},e.prototype.hasRowSelectionEnabled=function(){var e=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&e},e.prototype.reEvaluateRowSelectionAfterFilterChange=function(){var e=this._grid.getSelectedRows(),t=(this._selectedFilteredRowDataContextIds||[]).slice(),i=this.refreshFilteredRowSelections();if(!E(this._selectedFilteredRowDataContextIds,t)){var r={gridRowIndexes:e,dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:i};this.pluginEa.publish("gridStateService:changed",{change:{newValues:r,type:p.h.rowSelection},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!1})})}},e.prototype.refreshFilteredRowSelections=function(){var e=this,t=[],i=this._dataView.getFilteredItems()||[];Array.isArray(this._selectedRowDataContextIds)&&(t=T(this._selectedRowDataContextIds).filter((function(t){return i.findIndex((function(i){return i[e.datasetIdPropName]===t}))>-1})),this._selectedFilteredRowDataContextIds=t);return t},e=I([Object(c.q)(!0),Object(c.o)(P.a,v,_.a,f.a,x.a)],e)}(),k=function(){return(k=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},F=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},D={triggerEvent:!0},R={highlightRow:!0,position:"top",resortGrid:!1,selectRow:!1,triggerEvent:!0},M={highlightRow:!0,selectRow:!1,scrollRowIntoView:!1,triggerEvent:!0},G={autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1},N=function(){function e(e,t,i,r,n,o,s){this.globalEa=e,this.pluginEa=t,this.extensionService=i,this.filterService=r,this.gridStateService=n,this.sharedService=o,this.sortService=s,this._aureliaEventPrefix="asg"}return Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._rowSelectionPlugin&&this._rowSelectionPlugin.destroy&&this._rowSelectionPlugin.destroy()},e.prototype.init=function(e,t){this._grid=e,this._dataView=t,this._aureliaEventPrefix=this._gridOptions&&this._gridOptions.defaultAureliaEventPrefix?this._gridOptions.defaultAureliaEventPrefix:"asg"},e.prototype.clearAllFiltersAndSorts=function(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()},e.prototype.getAllColumnDefinitions=function(){return this.sharedService.allColumns},e.prototype.getVisibleColumnDefinitions=function(){return this.sharedService.visibleColumns},e.prototype.getColumnFromEventArguments=function(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid}},e.prototype.getDataItemByRowNumber=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(e)},e.prototype.getItemRowMetadataToHighlight=function(e){var t=this;return function(i){var r=t._dataView.getItem(i),n={cssClasses:""};return"function"==typeof e&&(n=e(i)),n||(n={cssClasses:""}),r&&r._dirty&&(n.cssClasses=(n&&n.cssClasses||"")+" dirty"),r&&r.rowClass&&n&&(n.cssClasses+=" "+r.rowClass,n.cssClasses+=" row"+i),n}},e.prototype.getDataItemByRowIndex=function(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(e)},e.prototype.getDataItemByRowIndexes=function(e){var t=this;if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');var i=[];return Array.isArray(e)&&e.forEach((function(e){i.push(t._grid.getDataItem(e))})),i},e.prototype.getSelectedRows=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()},e.prototype.getSelectedRowsDataItem=function(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');var e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)},e.prototype.hideColumn=function(e){if(this._grid&&this._grid.getColumns&&this._grid.setColumns&&this._grid.getColumnIndex){var t=this._grid.getColumnIndex(e.id);t>=0&&this.hideColumnByIndex(t)}},e.prototype.hideColumnByIndex=function(e,t){if(void 0===t&&(t=!0),this._grid&&this._grid.getColumns&&this._grid.setColumns){var i=this._grid.getColumns(),r=Object(y.c)(i,e);this.sharedService.visibleColumns=r,this._grid.setColumns(r),t&&this.pluginEa.publish("headerMenu:onHideColumns",{columns:r})}},e.prototype.hideColumnById=function(e,t){if(t=k(k({},G),t),this._grid&&this._grid.getColumns&&this._grid.setColumns){var i=this._grid.getColumns(),r=i.findIndex((function(t){return t.id===e}));if(r>=0){var n=Object(y.c)(i,r);this.sharedService.visibleColumns=n,this._grid.setColumns(n);var o=this.sharedService.allColumns.findIndex((function(t){return t.id===e}));return o&&((null==t?void 0:t.hideFromColumnPicker)&&(this.sharedService.allColumns[o].excludeFromColumnPicker=!0),(null==t?void 0:t.hideFromGridMenu)&&(this.sharedService.allColumns[o].excludeFromGridMenu=!0)),(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pluginEa.publish("headerMenu:onHideColumns",{columns:n}),r}}return-1},e.prototype.hideColumnByIds=function(e,t){if(t=k(k({},G),t),Array.isArray(e)){for(var i=0,r=e;i<r.length;i++){var n=r[i];this.hideColumnById(n,k(k({},t),{triggerEvent:!1,autoResizeColumns:!1}))}(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pluginEa.publish("headerMenu:onHideColumns",{columns:this.sharedService.visibleColumns})}},e.prototype.highlightRow=function(e,t,i){var r=this;void 0===t&&(t=1500),void 0===i&&(i=300),!this._grid.getSelectionModel()&&Slick&&Slick.RowSelectionModel&&(this._rowSelectionPlugin=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{}),this._grid.setSelectionModel(this._rowSelectionPlugin)),Array.isArray(e)?e.forEach((function(e){return r.highlightRowByMetadata(e,t,i)})):this.highlightRowByMetadata(e,t,i)},e.prototype.highlightRowByMetadata=function(e,t,i){var n=this;void 0===t&&(t=1500),void 0===i&&(i=300),this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);var o=this._dataView.getItem(e),s=this._gridOptions.datasetIdPropertyName||"id";o&&o[s]&&(o.rowClass="highlight",this._dataView.updateItem(o[s],o),this.renderGrid(),clearTimeout(r),r=setTimeout((function(){o.rowClass="highlight-end",n._dataView.updateItem(o[s],o),n.renderGrid()}),i),setTimeout((function(){o&&o[s]&&(delete o.rowClass,void 0!==n._dataView.getIdxById(o[s])&&(n._dataView.updateItem(o[s],o),n.renderGrid()))}),t+i))},e.prototype.setSelectedRow=function(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows([e])},e.prototype.setSelectedRows=function(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows(e)},e.prototype.renderGrid=function(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())},e.prototype.resetGrid=function(e){if(this._grid&&this._dataView){var t=this.extensionService.getAllColumns();Array.isArray(t)&&t.length>0&&(this._grid.setColumns(t),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()},e.prototype.addItemToDatagrid=function(e,t,i,r,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "addItem" method since "addItemToDatagrid" will be deprecated in the future.'),this.addItem(e,{highlightRow:t,resortGrid:i,triggerEvent:r,selectRow:n})},e.prototype.addItemsToDatagrid=function(e,t,i,r,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "addItems" method since "addItemsToDatagrid" will be deprecated in the future.'),this.addItems(e,{highlightRow:t,resortGrid:i,triggerEvent:r,selectRow:n})},e.prototype.addItem=function(e,t){if(t=k(k({},R),t),!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");var i=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(i in e))throw new Error('Adding an item requires the item to include an "'+i+'" property');t&&"bottom"===t.position?this._dataView.addItem(e):this._dataView.insertItem(0,e);var r=0;return t.resortGrid?(this._dataView.reSort(),r=this._dataView.getRowById(e[i])):(r=t&&"bottom"===t.position?this._dataView.getRowById(e[i]):0,this._grid.scrollRowIntoView(r)),t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(r),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemAdded",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-added",e)),r},e.prototype.addItems=function(e,t){var i=this;t=k(k({},R),t);var r=this._gridOptions.datasetIdPropertyName||"id",n=[];return Array.isArray(e)?(this._dataView.beginUpdate(),e.forEach((function(e){return i.addItem(e,k(k({},t),{highlightRow:!1,resortGrid:!1,triggerEvent:!1,selectRow:!1}))})),this._dataView.endUpdate(),t.resortGrid&&this._dataView.reSort(),t&&"bottom"===t.position?this._grid.navigateBottom():this._grid.navigateTop(),e.forEach((function(e){return n.push(i._dataView.getRowById(e[r]))})),t.highlightRow&&this.highlightRow(n),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(n),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemAdded",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-added",e)),n):[this.addItem(e,t)]},e.prototype.deleteDataGridItem=function(e,t){void 0===t&&(t=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "deleteItem" method since "deleteDataGridItem" will be deprecated in the future.'),this.deleteItem(e,{triggerEvent:t})},e.prototype.deleteDataGridItems=function(e,t){void 0===t&&(t=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "deleteItems" method since "deleteDataGridItems" will be deprecated in the future.'),this.deleteItems(e,{triggerEvent:t})},e.prototype.deleteDataGridItemById=function(e,t){void 0===t&&(t=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "deleteItemById" method since "deleteDataGridItemById" will be deprecated in the future.'),this.deleteItemById(e,{triggerEvent:t})},e.prototype.deleteDataGridItemByIds=function(e,t){void 0===t&&(t=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "deleteItemByIds" method since "deleteDataGridItemByIds" will be deprecated in the future.'),this.deleteItemByIds(e,{triggerEvent:t})},e.prototype.deleteItem=function(e,t){t=k(k({},D),t);var i=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(i in e))throw new Error('Deleting an item requires the item to include an "'+i+'" property');return this.deleteItemById(e[i],t)},e.prototype.deleteItems=function(e,t){var i=this;t=k(k({},D),t);var r=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(e))return this.deleteItem(e,t),[e[r]];this._dataView.beginUpdate();var n=[];return e.forEach((function(e){e&&void 0!==e[r]&&n.push(e[r]),i.deleteItem(e,k(k({},t),{triggerEvent:!1}))})),this._dataView.endUpdate(),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemDeleted",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-deleted",e)),n},e.prototype.deleteItemById=function(e,t){if(t=k(k({},D),t),null==e)throw new Error('Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection()||!1)&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(e),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemDeleted",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-deleted",e)),e},e.prototype.deleteItemByIds=function(e,t){if(t=k(k({},D),t),Array.isArray(e)){this._dataView.beginUpdate();for(var i=0;i<e.length;i++)null!==e[i]&&this.deleteItemById(e[i],{triggerEvent:!1});return this._dataView.endUpdate(),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemDeleted",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-deleted",e)),e}return[]},e.prototype.updateDataGridItem=function(e,t,i,r){return void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "updateItem" method since "updateDataGridItem" will be deprecated in the future.'),this.updateItem(e,{highlightRow:t,triggerEvent:i,selectRow:r})},e.prototype.updateDataGridItems=function(e,t,i,r){return void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "updateItems" method since "updateDataGridItems" will be deprecated in the future.'),this.updateItems(e,{highlightRow:t,triggerEvent:i,selectRow:r})},e.prototype.updateDataGridItemById=function(e,t,i,r,n){return void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),console.warn('[Aurelia-Slickgrid - GridService] please consider using the new "updateItemById" method since "updateDataGridItemById" will be deprecated in the future.'),this.updateItemById(e,t,{highlightRow:i,triggerEvent:r,selectRow:n})},e.prototype.updateItem=function(e,t){t=k(k({},M),t);var i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error('Calling Update of an item requires the item to include an "'+i+'" property');return this.updateItemById(r,e,t)},e.prototype.updateItems=function(e,t){var i=this;if(t=k(k({},M),t),!Array.isArray(e))return[this.updateItem(e,t)];this._dataView.beginUpdate();var r=[];return e.forEach((function(e){r.push(i.updateItem(e,k(k({},t),{highlightRow:!1,selectRow:!1,triggerEvent:!1})))})),this._dataView.endUpdate(),t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),t.triggerEvent&&(this.pluginEa.publish("gridService:onItemUpdated",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-updated",e)),r},e.prototype.updateItemById=function(e,t,i){if(i=k(k({},M),i),void 0===e)throw new Error('Cannot update a row without a valid "id"');var r=this._dataView.getRowById(e);if(!t||void 0===r)throw new Error("The item to update in the grid was not found with id: "+e);return void 0!==this._dataView.getIdxById(e)&&(this._dataView.updateItem(e,t),this._grid.updateRow(r),i.scrollRowIntoView&&this._grid.scrollRowIntoView(r),i.highlightRow&&this.highlightRow(r),i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(r),i.triggerEvent&&(this.pluginEa.publish("gridService:onItemUpdated",t),this.globalEa.publish(this._aureliaEventPrefix+":on-item-updated",t))),r},e.prototype.upsertItem=function(e,t){t=k(k({},R),t);var i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error('Calling Upsert of an item requires the item to include an "'+i+'" property');return this.upsertItemById(r,e,t)},e.prototype.upsertItems=function(e,t){var i=this;if(t=k(k({},R),t),!Array.isArray(e))return[this.upsertItem(e,t)];this._dataView.beginUpdate();var r=[];e.forEach((function(e){r.push(i.upsertItem(e,k(k({},t),{highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1})))})),this._dataView.endUpdate();var n=r.map((function(e){return void 0!==e.added?e.added:e.updated}));if(t.highlightRow&&this.highlightRow(n),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(n),t.triggerEvent){this.pluginEa.publish("gridService:onItemUpserted",e),this.globalEa.publish(this._aureliaEventPrefix+":on-item-upserted",e);var o=r.filter((function(e){return void 0!==e.added}));Array.isArray(o)&&o.length>0&&(this.pluginEa.publish("gridService:onItemAdded",o),this.globalEa.publish(this._aureliaEventPrefix+":on-item-added",o));var s=r.filter((function(e){return void 0!==e.updated}));Array.isArray(s)&&s.length>0&&(this.pluginEa.publish("gridService:onItemUpdated",s),this.globalEa.publish(this._aureliaEventPrefix+":on-item-updated",s))}return r},e.prototype.upsertItemById=function(e,t,i){var r,n,o=!1;if(i=k(k({},R),i),void 0===e)throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');if(void 0===this._dataView.getRowById(e)?(r=this.addItem(t,i),o=!0):(n=this.updateItem(t,{highlightRow:i.highlightRow,selectRow:i.selectRow,triggerEvent:i.triggerEvent}),o=!1),i.triggerEvent){var s=o?"onItemAdded":"onItemUpdated";this.pluginEa.publish("gridService:"+s,t),this.pluginEa.publish("gridService:onItemUpserted",t),this.globalEa.publish(this._aureliaEventPrefix+":"+Object(y.H)(s),t),this.globalEa.publish(this._aureliaEventPrefix+":on-item-upserted",t)}return{added:r,updated:n}},e=F([Object(c.q)(!0),Object(c.o)(C.a,P.a,v,_.a,j,f.a,x.a)],e)}(),H=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},B=function(){function e(){this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},e.prototype.bindOnCellChange=function(e,t){this._eventHandler.subscribe(e.onCellChange,(function(i,r){if(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem){var n=e.getColumns()[r.cell];if("function"==typeof n.onCellChange){var o={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellChange(i,o)}}}))},e.prototype.bindOnClick=function(e,t){this._eventHandler.subscribe(e.onClick,(function(i,r){if(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem){var n=e&&e.getColumns&&e.getColumns()[r.cell],o=e&&e.getOptions&&e.getOptions()||{};if(o.enableCellNavigation&&(!o.editable||o.editable&&o.autoCommitEdit)&&e.setActiveCell(r.row,r.cell),"function"==typeof n.onCellClick){var s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellClick(i,s)}}}))},e=H([Object(c.q)(!0)],e)}(),V=function(){function e(){this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}return e.prototype.buildQuery=function(){if(!this._odataOptions)throw new Error('Odata Service requires certain options like "top" for it to work');this._odataOptions.filterQueue=[];var e=[];if(this._odataOptions&&!0===this._odataOptions.enableCount){var t=this._odataOptions.version&&this._odataOptions.version>=4?"$count=true":"$inlinecount=allpages";e.push(t)}if(this._odataOptions.top&&e.push("$top="+this._odataOptions.top),this._odataOptions.skip&&e.push("$skip="+this._odataOptions.skip),this._odataOptions.orderBy){var i="";i=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,e.push("$orderby="+i)}if(this._odataOptions.filterBy||this._odataOptions.filter){var r=this._odataOptions.filter||this._odataOptions.filterBy;if(r){this._filterCount=1,this._odataOptions.filterQueue=[];var n=r;Array.isArray(r)&&(this._filterCount=r.length,n=r.join(" "+(this._odataOptions.filterBySeparator||"and")+" ")),"string"==typeof n&&("("!==n[0]||")"!==n.slice(-1)?this.addToFilterQueueWhenNotExists("("+n+")"):this.addToFilterQueueWhenNotExists(n))}}if(this._odataOptions.filterQueue.length>0){var o=this._odataOptions.filterQueue.join(" "+(this._odataOptions.filterBySeparator||"and")+" ");this._odataOptions.filter=o,e.push("$filter="+o)}return e.join("&")},e.prototype.getFilterCount=function(){return this._filterCount},Object.defineProperty(e.prototype,"columnFilters",{get:function(){return this._columnFilters},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._odataOptions},set:function(e){this._odataOptions=e},enumerable:!1,configurable:!0}),e.prototype.removeColumnFilter=function(e){this._columnFilters&&this._columnFilters.hasOwnProperty(e)&&delete this._columnFilters[e]},e.prototype.saveColumnFilter=function(e,t,i){this._columnFilters[e]={search:i,value:t}},e.prototype.updateOptions=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];if(e.hasOwnProperty(r)&&(this._odataOptions[r]=e[r]),"orderBy"===r||"sortBy"===r){var n=e[r];this._odataOptions.caseType===p.a.pascalCase&&(Array.isArray(n)?n.forEach((function(e,t,i){i[t]=Object(y.F)(e)})):n=Object(y.F)(e[r])),this._odataOptions.orderBy=n,this._defaultSortBy=n}}},e.prototype.addToFilterQueueWhenNotExists=function(e){this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(e)&&this._odataOptions.filterQueue.push(e)},e}(),L=function(){return(L=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},U=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},z=function(){function e(){this._currentFilters=[],this._currentSorters=[],this.defaultOptions={top:25,orderBy:"",caseType:p.a.pascalCase},this._odataService=new V}return Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"odataService",{get:function(){return this._odataService},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t,i){this._grid=i;var r=L(L({},this.defaultOptions),e);if(this._gridOptions&&!this._gridOptions.enablePagination)this._odataService.options=L(L({},r),{top:void 0}),this._currentPagination=null;else{var n=t&&t.pageSize?t.pageSize:this.defaultOptions.top;this._odataService.options=L(L({},r),{top:n}),this._currentPagination={pageNumber:1,pageSize:this._odataService.options.top||this.defaultOptions.top||20}}this.options=this._odataService.options,this.pagination=t,i&&i.getColumns&&(this._columnDefinitions=e&&e.columnDefinitions||i.getColumns(),this._columnDefinitions=this._columnDefinitions.filter((function(e){return!e.excludeFromQuery})))},e.prototype.buildQuery=function(){return this._odataService.buildQuery()},e.prototype.clearFilters=function(){this._currentFilters=[],this.updateFilters([])},e.prototype.clearSorters=function(){this._currentSorters=[],this.updateSorters([])},e.prototype.updateOptions=function(e){this.options=L(L({},this.options),e),this._odataService.options=this.options},e.prototype.removeColumnFilter=function(e){this._odataService.removeColumnFilter(e)},e.prototype.getCurrentFilters=function(){return this._currentFilters},e.prototype.getCurrentPagination=function(){return this._currentPagination},e.prototype.getCurrentSorters=function(){return this._currentSorters},e.prototype.mapOdataOperator=function(e){var t="";switch(e){case"<":t="lt";break;case"<=":t="le";break;case">":t="gt";break;case">=":t="ge";break;case"<>":case"!=":t="ne";break;case"=":case"==":default:t="eq"}return t},e.prototype.resetPaginationOptions=function(){this._odataService.updateOptions({skip:0})},e.prototype.saveColumnFilter=function(e,t,i){this._odataService.saveColumnFilter(e,t,i)},e.prototype.processOnFilterChanged=function(e,t){if(void 0===this._gridOptions.backendServiceApi)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');if(this._currentFilters=this.castFilterToColumnFilters(t.columnFilters),!t||!t.grid)throw new Error('Something went wrong when trying create the GridOdataService, it seems that "args" is not populated correctly');return this.updateFilters(t.columnFilters),this.resetPaginationOptions(),this._odataService.buildQuery()},e.prototype.processOnPaginationChanged=function(e,t){var i=+(t.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(t.newPage,i),this._odataService.buildQuery()},e.prototype.processOnSortChanged=function(e,t){var i=t.multiColumnSort?t.sortCols:new Array({sortCol:t.sortCol,sortAsc:t.sortAsc});return this.updateSorters(i),this._odataService.buildQuery()},e.prototype.updateFilters=function(e,t){var i="",r=[],n=this._odataService&&this._odataService.options&&this._odataService.options.version||2;t&&(this._currentFilters=this.castFilterToColumnFilters(e));var o=function(o){if(e.hasOwnProperty(o)){var a=e[o],d=void 0;if(!(d=t&&Array.isArray(s._columnDefinitions)?s._columnDefinitions.find((function(e){return e.id===a.columnId})):a.columnDef))throw new Error("[GridOData Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var u=d.filter&&d.filter.queryField||d.queryFieldFilter||d.queryField||d.field||d.name||"",l=d.type||p.e.string,c=(a?a.searchTerms:null)||[],h=Array.isArray(c)&&1===c.length?c[0]:"";if(void 0===h&&(h=""),!u)throw new Error('GridOData filter could not find the field name to query the search, your column definition must include a valid "field" or "name" (optionally you can also use the "queryfield").');var g=(h=""+h).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),f=a.operator||(g?g[1]:""),m=g?g[2]:"",v=g?g[3]:"*z"===f||f===p.j.endsWith?"*":"",_=a.bypassBackendQuery||!1;if(u&&""===m&&c.length<=1)return s.removeColumnFilter(u),"continue";if(Array.isArray(c)&&1===c.length&&"string"==typeof c[0]&&c[0].indexOf("..")>0&&(c=c[0].split(".."),f||(f=p.j.rangeExclusive)),m=m.replace("'","''"),m=encodeURIComponent(m),!f&&d.filter&&(f=d.filter.operator),f||(f=Object(y.x)(d.type||p.e.string)),_)u&&s.saveColumnFilter(u,h,c);else{if(i="",s._odataService.options.caseType===p.a.pascalCase&&(u=Object(y.F)(u||"")),l===p.e.date)i=s.filterBySearchDate(u,f,c,n);else if(c&&c.length>1&&("IN"===f||"NIN"===f||"NOTIN"===f||"NOT IN"===f||"NOT_IN"===f)){var b=[];if("IN"===f){for(var S=0,O=c.length;S<O;S++)if(l===p.e.string||l===p.e.text||l===p.e.readonly){var w=encodeURIComponent(c[S].replace("'","''"));b.push(u+" eq '"+w+"'")}else b.push(u+" eq "+c[S]);"string"==typeof(i=b.join(" or "))&&"("===i[0]&&")"===i.slice(-1)||(i="("+i+")")}else{for(var C=0,E=c.length;C<E;C++){w=encodeURIComponent(c[C].replace("'","''"));b.push(u+" ne '"+w+"'")}"string"==typeof(i=b.join(" and "))&&"("===i[0]&&")"===i.slice(-1)||(i="("+i+")")}}else"*"===f||"a*"===f||"*z"===f||"*"===v||f===p.j.startsWith||f===p.j.endsWith?i="*"===f||"*z"===f||f===p.j.endsWith?"endswith("+u+", '"+m+"')":"startswith("+u+", '"+m+"')":l===p.e.string||l===p.e.text||l===p.e.readonly?""===f||f===p.j.contains||f===p.j.notContains?(i=s.odataQueryVersionWrapper("substring",n,u,m),f===p.j.notContains&&(i="not "+i)):i=f===p.j.rangeExclusive||f===p.j.rangeInclusive?s.filterBySearchTermRange(u,f,c):u+" "+s.mapOdataOperator(f)+" '"+m+"'":f===p.j.rangeExclusive||f===p.j.rangeInclusive?i=s.filterBySearchTermRange(u,f,c):(m=l===p.e.number||l===p.e.boolean?m:"'"+m+"'",i=u+" "+s.mapOdataOperator(f)+" "+m);""!==i&&(r.push(i.trim()),s.saveColumnFilter(u||"",h,m))}}},s=this;for(var a in e)o(a);this._odataService.updateOptions({filter:r.length>0?r.join(" and "):"",skip:void 0})},e.prototype.updatePagination=function(e,t){this._currentPagination={pageNumber:e,pageSize:t},!this._gridOptions||!this._gridOptions.enablePagination&&this._gridOptions.hasOwnProperty("enablePagination")||this._odataService.updateOptions({top:t,skip:(e-1)*t})},e.prototype.updateSorters=function(e,t){var i=this,r=[],n=[];if(!e&&t){(r=t).forEach((function(e){return e.direction=e.direction.toLowerCase()}));var o=r.map((function(e){var t=i._columnDefinitions.find((function(t){return t.id===e.columnId}));return n.push({field:t?(t.queryFieldSorter||t.queryField||t.field)+"":e.columnId+"",direction:e.direction}),t?{columnId:e.columnId,sortAsc:e.direction.toUpperCase()===p.k.ASC}:null}));Array.isArray(o)&&this._grid.setSortColumns(o)}else if(e&&!t)if(e&&0===e.length);else if(e)for(var s=0,a=e;s<a.length;s++){var d=a[s];if(d.sortCol){var u=(d.sortCol.queryFieldSorter||d.sortCol.queryField||d.sortCol.field)+"",l=(d.sortCol.field||d.sortCol.id)+"",c=(d.sortCol.queryFieldSorter||d.sortCol.queryField||d.sortCol.field||"")+"";this._odataService.options.caseType===p.a.pascalCase&&(u=Object(y.F)(u),l=Object(y.F)(l),c=Object(y.F)(c)),""!==l&&r.push({columnId:l,direction:d.sortAsc?"asc":"desc"}),""!==c&&n.push({field:c,direction:d.sortAsc?p.k.ASC:p.k.DESC})}}r=r||[];var h=n.map((function(e){var t="";e&&e.field&&(t=(i._odataService.options.caseType===p.a.pascalCase?Object(y.F)(e.field):e.field)+" "+(e&&e.direction&&e.direction.toLowerCase()||""));return t})).join(",");return this._odataService.updateOptions({orderBy:h}),this._currentSorters=r,this._odataService.buildQuery()},e.prototype.castFilterToColumnFilters=function(e){var t="object"==typeof e?Object.keys(e).map((function(t){return e[t]})):e;return Array.isArray(t)?t.map((function(e){var t={columnId:e.columnId||""};return e.operator&&(t.operator=e.operator),Array.isArray(e.searchTerms)&&(t.searchTerms=e.searchTerms),t})):[]},e.prototype.odataQueryVersionWrapper=function(e,t,i,r){void 0===r&&(r="");var n="";switch(e){case"dateTime":n=t>=4?r:"DateTime'"+r+"'";break;case"substring":n=t>=4?"contains("+i+", '"+r+"')":"substringof('"+r+"', "+i+")"}return n},e.prototype.filterBySearchDate=function(e,t,i,r){var n="",o=[];if((Array.isArray(i)&&i.length>1&&(o=i,t!==p.j.rangeExclusive&&t!==p.j.rangeInclusive&&this._gridOptions.defaultFilterRangeOperator&&(t=this._gridOptions.defaultFilterRangeOperator)),0===o.length&&Array.isArray(i)&&1===i.length&&i[0])&&(s=this.odataQueryVersionWrapper("dateTime",r,e,Object(y.B)(i[0],!0))))return e+" "+this.mapOdataOperator(t)+" "+s;if(Array.isArray(o)&&2===o.length&&o[0]&&o[1]){var s=this.odataQueryVersionWrapper("dateTime",r,e,Object(y.B)(o[0],!0)),a=this.odataQueryVersionWrapper("dateTime",r,e,Object(y.B)(o[1],!0));s&&a&&(t===p.j.rangeInclusive?n="("+e+" ge "+s+" and "+e+" le "+a+")":t===p.j.rangeExclusive&&(n="("+e+" gt "+s+" and "+e+" lt "+a+")"))}return n},e.prototype.filterBySearchTermRange=function(e,t,i){var r="";return Array.isArray(i)&&2===i.length&&(t===p.j.rangeInclusive?r="("+e+" ge "+i[0]+" and "+e+" le "+i[1]+")":t===p.j.rangeExclusive&&(r="("+e+" gt "+i[0]+" and "+e+" lt "+i[1]+")")),r},e=U([Object(c.q)(!0)],e)}(),q=i("EVdn"),W=i("Cff2"),Y=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Q=function(){function e(e,t,i){this.extensionUtility=e,this.extensionService=t,this.pluginEa=i,this._subscriptions=[],this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t){var i=this;if(this._grid=e,this._aureliaEventPrefix=this._gridOptions&&this._gridOptions.defaultAureliaEventPrefix?this._gridOptions.defaultAureliaEventPrefix:"asg",e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel){this._eventHandler.subscribe(e.onSort,(function(){return i.renderPreHeaderRowGroupingTitles()})),this._eventHandler.subscribe(e.onColumnsResized,(function(){return i.renderPreHeaderRowGroupingTitles()})),this._eventHandler.subscribe(e.onColumnsReordered,(function(){return i.renderPreHeaderRowGroupingTitles()})),this._eventHandler.subscribe(t.onRowCountChanged,(function(){return i.renderPreHeaderRowGroupingTitles()})),this._subscriptions.push(this.pluginEa.subscribe("resizerService:onAfterResize",(function(){return i.renderPreHeaderRowGroupingTitles()})),this.pluginEa.subscribe("headerMenu:onHideColumns",(function(){return i.delayRenderPreHeaderRowGroupingTitles(0)}))),this._eventHandler.subscribe(e.onSetOptions,(function(e,t){t&&t.optionsBefore&&t.optionsAfter&&t.optionsBefore.frozenColumn!==t.optionsAfter.frozenColumn&&i.delayRenderPreHeaderRowGroupingTitles(0)}));var r=this.extensionService.getExtensionByName(p.d.columnPicker);r&&r.instance&&r.instance.onColumnsChanged&&this._eventHandler.subscribe(r.instance.onColumnsChanged,(function(){return i.renderPreHeaderRowGroupingTitles()}));var n=this.extensionService.getExtensionByName(p.d.gridMenu);n&&n.instance&&n.instance.onColumnsChanged&&n.instance.onMenuClose&&(this._eventHandler.subscribe(n.instance.onColumnsChanged,(function(){return i.renderPreHeaderRowGroupingTitles()})),this._eventHandler.subscribe(n.instance.onMenuClose,(function(){return i.renderPreHeaderRowGroupingTitles()}))),this.delayRenderPreHeaderRowGroupingTitles(75)}},e.prototype.dispose=function(){this._eventHandler.unsubscribeAll(),Object(y.k)(this._subscriptions)},e.prototype.delayRenderPreHeaderRowGroupingTitles=function(e){var t=this;void 0===e&&(e=0),setTimeout((function(){return t.renderPreHeaderRowGroupingTitles()}),e)},e.prototype.renderPreHeaderRowGroupingTitles=function(){if(this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0){var e=q(this._grid.getPreHeaderPanelLeft());this.renderHeaderGroups(e,0,this._gridOptions.frozenColumn+1),e=q(this._grid.getPreHeaderPanelRight()),this.renderHeaderGroups(e,this._gridOptions.frozenColumn+1,this._columnDefinitions.length)}else{e=q(this._grid.getPreHeaderPanel());this.renderHeaderGroups(e,0,this._columnDefinitions.length)}},e.prototype.renderHeaderGroups=function(e,t,i){e.empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth()),e.parent().addClass("slick-header");for(var r,n,o=this._grid.getHeaderColumnWidthDiff(),s="",a=0,d=this._gridOptions&&this._gridOptions.frozenHeaderWidthCalcDifferential||0,u=this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0,l=t;l<i;l++)(r=this._columnDefinitions[l])&&(s===r.columnGroup&&l>0?(a+=r.width||0,n&&n.width&&n.width(a-o-d)):(a=r.width||0,n=q('<div class="ui-state-default slick-header-column '+(u?"frozen":"")+'" />').html('<span class="slick-column-name">'+(r.columnGroup||"")+"</span>").width(a-o).appendTo(e)),s=r.columnGroup||"")},e.prototype.translateGroupingAndColSpan=function(){var e=this._grid.getColumns();this.extensionUtility.translateItems(e,"columnGroupKey","columnGroup"),this._grid.setColumns(e),this.renderPreHeaderRowGroupingTitles()},e=Y([Object(c.q)(!0),Object(c.o)(W.a,v,P.a)],e)}(),K=i("aNj2"),J=i("SpW5"),$=i("ZJwA")},HTOr:function(e,t,i){"use strict";function r(e,t,i,r,n,o){var s="",a=!1;o&&o.hasOwnProperty("exportWithFormatter")&&(a=!!o.exportWithFormatter),r&&r.hasOwnProperty("exportWithFormatter")&&(a=!!r.exportWithFormatter);var d=void 0!==r.exportCustomFormatter?r.exportCustomFormatter:void 0,u=r.field||r.id||"";if("string"==typeof r.field&&r.field.indexOf(".")>0){var l=r.field.split(".");u=l.length>0?l[0]:r.field}var c=i.hasOwnProperty(u)?i[u]:null;if(i&&void 0!==d)s=h=d(e,t,c,r,i,n),h&&"object"==typeof h&&h.hasOwnProperty("text")&&(s=h.text),null==s&&(s="");else if(a&&r.formatter){var h;s=h=r.formatter(e,t,c,r,i,n),h&&"object"==typeof h&&h.hasOwnProperty("text")&&(s=h.text),null==s&&(s="")}else null==(s=i.hasOwnProperty(u)?c:"")&&(s="");return s}i.d(t,"a",(function(){return r}))},Kt3C:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var r=i("aurelia-framework"),n=i("v8Uj"),o=i("/CJ3"),s=i("eyxJ"),a=i("LHoW"),d=i("IlDx"),u=i("wESz"),l=function(){return(l=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},c=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},h=function(){function e(e,t){this.pluginEa=e,this.sharedService=t,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_dataView",{get:function(){return this._grid&&this._grid.getData?this._grid.getData():{}},enumerable:!1,configurable:!0}),e.prototype.bindBackendOnSort=function(e){this._isBackendGrid=!0,this._grid=e,this._eventHandler.subscribe(e.onSort,this.onBackendSortChanged.bind(this))},e.prototype.bindLocalOnSort=function(e){this._isBackendGrid=!1,this._grid=e,this.processTreeDataInitialSort(),this._eventHandler.subscribe(e.onSort,this.handleLocalOnSort.bind(this))},e.prototype.handleLocalOnSort=function(e,t){var i=this,r=t.multiColumnSort?t.sortCols:new Array({sortAsc:t.sortAsc,sortCol:t.sortCol});this._currentLocalSorters=[],Array.isArray(r)&&r.forEach((function(e){e.sortCol&&i._currentLocalSorters.push({columnId:e.sortCol.id,direction:e.sortAsc?n.k.ASC:n.k.DESC})})),this.onLocalSortChanged(this._grid,r),this.emitSortChanged(n.c.local)},e.prototype.clearSortByColumnId=function(e,t){var i=this.getCurrentColumnSorts(),r=this.getCurrentColumnSorts(""+t);if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,r,!0,!0);else{var n=this._gridOptions&&this._gridOptions.multiColumnSort||!1?r:r[0];this._grid.onSort.notify(n)}var o=r.map((function(e){return{columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}}));this._grid.setSortColumns(o)}Array.isArray(r)&&0===r.length&&this.sortLocalGridByDefaultSortFieldId()},e.prototype.clearSorting=function(e){if(void 0===e&&(e=!0),this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),e)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){var t=this._gridOptions&&this._gridOptions.backendServiceApi&&this._gridOptions.backendServiceApi.service;t&&t.clearSorters&&t.clearSorters()}this._currentLocalSorters=[],this.pluginEa.publish("sortService:sortCleared",!0)},e.prototype.disableSortFunctionality=function(e,t){var i=this;void 0===e&&(e=!0),void 0===t&&(t=!0);var r,n=!this._gridOptions.enableSorting;if(this._gridOptions.enableSorting=n,e)t&&this.clearSorting(),this._eventHandler.unsubscribeAll(),r=this.disableAllSortingCommands(!0);else{r=this.disableAllSortingCommands(!1);var o=this._grid.onSort;this._eventHandler.subscribe(o,(function(e,t){return i.handleLocalOnSort(e,t)}))}this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(r)},e.prototype.toggleSortFunctionality=function(e){void 0===e&&(e=!0);var t=this._gridOptions.enableSorting;this.disableSortFunctionality(t,e)},e.prototype.emitSortChanged=function(e,t){if(e===n.c.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var i=[],r=this._gridOptions.backendServiceApi.service;r&&r.getCurrentSorters&&(i=r.getCurrentSorters()),this.pluginEa.publish("sortService:sortChanged",i)}else e===n.c.local&&(t&&(this._currentLocalSorters=t),this.pluginEa.publish("sortService:sortChanged",this.getCurrentLocalSorters()))},e.prototype.getCurrentLocalSorters=function(){return this._currentLocalSorters},e.prototype.getCurrentColumnSorts=function(e){var t=this,i=this._grid&&this._grid.getSortColumns();return Array.isArray(i)?i.reduce((function(i,r){return e&&r.columnId===e||i.push({sortCol:t._columnDefinitions[t._grid.getColumnIndex(r.columnId)],sortAsc:r.sortAsc}),i}),[]):[]},e.prototype.loadGridSorters=function(e){var t=this;this._currentLocalSorters=[];var i=[];return Array.isArray(e)&&(e.forEach((function(e){var r=t._columnDefinitions.find((function(t){return t.id===e.columnId}));r&&(i.push({columnId:r.id,sortAsc:e.direction.toUpperCase()===n.k.ASC,sortCol:r}),t._currentLocalSorters.push({columnId:r.id+"",direction:e.direction.toUpperCase()}))})),i.length>0&&(this.onLocalSortChanged(this._grid,i),this._grid.setSortColumns(i))),i},e.prototype.dispose=function(){this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll()},e.prototype.processTreeDataInitialSort=function(){if(this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions){var e=this._gridOptions.treeDataOptions,t=this._columnDefinitions.find((function(t){return t&&t.id===e.columnId}));if(t){var i=n.k.ASC,r={columnId:e.columnId,sortCol:t,sortAsc:!0};if(e&&e.initialSort&&e.initialSort.columnId){var o=e.initialSort.columnId,s=this._columnDefinitions.find((function(e){return e.id===o}));i=(e.initialSort.direction||n.k.ASC).toUpperCase(),r={columnId:o,sortCol:s,sortAsc:i===n.k.ASC}}r&&r.columnId&&this.updateSorting([{columnId:r.columnId||"",direction:i}])}}},e.prototype.onBackendSortChanged=function(e,t){if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');var i=t.grid&&t.grid.getOptions?t.grid.getOptions():{},r=i.backendServiceApi;if(!r||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');var n=new Date;r.preProcess&&r.preProcess();var s=r.service.processOnSortChanged(e,t),a=i&&i.pagination&&i.pagination.totalItems||0;Object(o.a)(r,s,t,n,a,this.emitSortChanged.bind(this))},e.prototype.onLocalSortChanged=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var o=this._gridOptions&&this._gridOptions.enableTreeData||!1,a=e&&e.getData&&e.getData();if(e&&a){if(i&&!o&&a.reSort(),o&&this.sharedService&&Array.isArray(this.sharedService.hierarchicalDataset)){var d=this.sharedService.hierarchicalDataset;this.sortTreeData(d,t);var u=this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id",c=this._gridOptions&&this._gridOptions.treeDataOptions||{columnId:""},h=l(l({},c),{identifierPropName:c.identifierPropName||u}),p=Object(s.e)(d,h);a.setItems(p,this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id")}else a.sort(this.sortComparers.bind(this,t));e.invalidate(),e.render(),r&&this.emitSortChanged(n.c.local,t.map((function(e){return{columnId:e.sortCol&&e.sortCol.id||"id",direction:e.sortAsc?n.k.ASC:n.k.DESC}})))}},e.prototype.sortLocalGridByDefaultSortFieldId=function(){var e=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",t={id:e,field:e};this.onLocalSortChanged(this._grid,new Array({sortAsc:!0,sortCol:t,clearSortTriggered:!0}))},e.prototype.sortComparers=function(e,t,i){if(Array.isArray(e))for(var r=0,o=e;r<o.length;r++){var s=o[r],a=this.sortComparer(s,t,i);if(void 0!==a)return a}return n.l.neutral},e.prototype.sortComparer=function(e,t,i,r){if(e&&e.sortCol){var o=e.sortCol,d=e.sortAsc?n.l.asc:n.l.desc,u=r||o.queryFieldSorter||o.queryField||o.field,l=u,c=o.type||n.e.string;"function"==typeof o.queryFieldNameGetterFn&&(u=o.queryFieldNameGetterFn(t),l=o.queryFieldNameGetterFn(i));var h=t[u],p=i[l];if(u&&u.indexOf(".")>=0&&(h=Object(s.o)(t,u)),l&&l.indexOf(".")>=0&&(p=Object(s.o)(i,l)),o.sorter){var g=o.sorter(h,p,d,o);if(g!==n.l.neutral)return g}else{var f=Object(a.a)(c,h,p,d,o);if(f!==n.l.neutral)return f}}},e.prototype.sortTreeData=function(e,t){if(Array.isArray(t))for(var i=0,r=t;i<r.length;i++){var n=r[i];this.sortTreeChild(e,n,0)}},e.prototype.sortTreeChild=function(e,t,i){var r=this,o=this._gridOptions&&this._gridOptions.treeDataOptions,s=o&&o.childrenPropName||"children";e.sort((function(e,i){return r.sortComparer(t,e,i)||n.l.neutral}));for(var a=0,d=e;a<d.length;a++){var u=d[a];if(u)u.hasOwnProperty(s)&&Array.isArray(u[s])&&(i++,this.sortTreeChild(u[s],t,i),i--)}},e.prototype.updateSorting=function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=!0),!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Aurelia-Slickgrid] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(e)){var r=this._gridOptions&&this._gridOptions.backendServiceApi;if(r){var s=r&&r.service;s&&s.updateSorters&&(s.updateSorters(void 0,e),i&&Object(o.d)(this._gridOptions))}else this.loadGridSorters(e);if(t){var a=r?n.c.remote:n.c.local;this.emitSortChanged(a)}}},e.prototype.disableAllSortingCommands=function(e){void 0===e&&(e=!0);var t=this._grid.getColumns();return t.forEach((function(t){void 0!==typeof t.sortable&&(t.sortable=!e),t&&t.header&&t.header.menu&&t.header.menu.items.forEach((function(t){if(t&&"string"!=typeof t){var i=t.command;"sort-asc"!==i&&"sort-desc"!==i&&"clear-sort"!==i||(t.hidden=e)}}))})),this._gridOptions&&this._gridOptions.gridMenu&&this._gridOptions.gridMenu.customItems&&this._gridOptions.gridMenu.customItems.forEach((function(t){t&&"string"!=typeof t&&("clear-sorting"===t.command&&(t.hidden=e))})),t},e=c([Object(r.q)(!0),Object(r.o)(d.a,u.a)],e)}()},LHoW:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i("v8Uj"),n=i("jvgt"),o=i("4Y7a");function s(e,t,i,s,a){var d=0;switch(e){case r.e.float:case r.e.integer:case r.e.number:d=n.a.numeric(t,i,s,a);break;case r.e.date:case r.e.dateIso:case r.e.dateUtc:case r.e.dateTime:case r.e.dateTimeIso:case r.e.dateTimeIsoAmPm:case r.e.dateTimeIsoAM_PM:case r.e.dateTimeShortIso:case r.e.dateEuro:case r.e.dateEuroShort:case r.e.dateTimeShortEuro:case r.e.dateTimeEuro:case r.e.dateTimeEuroAmPm:case r.e.dateTimeEuroAM_PM:case r.e.dateTimeEuroShort:case r.e.dateTimeEuroShortAmPm:case r.e.dateTimeEuroShortAM_PM:case r.e.dateUs:case r.e.dateUsShort:case r.e.dateTimeShortUs:case r.e.dateTimeUs:case r.e.dateTimeUsAmPm:case r.e.dateTimeUsAM_PM:case r.e.dateTimeUsShort:case r.e.dateTimeUsShortAmPm:case r.e.dateTimeUsShortAM_PM:d=Object(o.a)(e).call(this,t,i,s,a);break;case r.e.object:d=n.a.objectString(t,i,s,a);break;case r.e.string:case r.e.text:case r.e.password:case r.e.readonly:default:d=n.a.string(t,i,s,a)}return d}},NozK:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return f}));var r=i("aurelia-event-aggregator"),n=i("aurelia-framework"),o=i("aurelia-i18n"),s=i("uaPe"),a=i("EVdn"),d=i("dbac"),u=i("HTOr"),l=i("v8Uj"),c=i("eyxJ"),h=i("IlDx"),p=function(){return(p=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},g=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},f=function(){function t(e,t,i){this.globalEa=e,this.pluginEa=t,this.i18n=i,this._delimiter=",",this._exportQuoteWrapper="",this._fileFormat=l.f.csv,this._lineCarriageReturn="\n",this._hasGroupedItems=!1}return Object.defineProperty(t.prototype,"datasetIdName",{get:function(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){if(this._grid=e,this._dataView=t,this._aureliaEventPrefix=this._gridOptions&&this._gridOptions.defaultAureliaEventPrefix?this._gridOptions.defaultAureliaEventPrefix:"asg",this._locales=this._gridOptions&&this._gridOptions.locales||d.a.locales,this._gridOptions.enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.')},t.prototype.exportToFile=function(t){var i=this;if(!this._grid||!this._dataView)throw new Error('[Aurelia-Slickgrid] it seems that the SlickGrid & DataView objects are not initialized did you forget to enable the grid option flag "enableExport"?');return new e((function(e,r){i.pluginEa.publish("exportService:onBeforeExportToFile",!0),i.globalEa.publish(i._aureliaEventPrefix+":onBeforeExportToFile",!0),i._exportOptions=a.extend(!0,{},i._gridOptions.exportOptions,t),i._delimiter=i._exportOptions.delimiterOverride||i._exportOptions.delimiter||"",i._fileFormat=i._exportOptions.format||l.f.csv;var n=i.getDataOutput();setTimeout((function(){try{var t={filename:i._exportOptions.filename+"."+i._fileFormat,format:i._fileFormat||l.f.csv,useUtf8WithBom:!i._exportOptions||!i._exportOptions.hasOwnProperty("useUtf8WithBom")||i._exportOptions.useUtf8WithBom};i.startDownloadFile(p(p({},t),{content:n})),i.pluginEa.publish("exportService:onAfterExportToFile",t),i.globalEa.publish(i._aureliaEventPrefix+":onAfterExportToFile",t),e(!0)}catch(e){r(e)}}),0)}))},t.prototype.startDownloadFile=function(e){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.");var t,i=e.format===l.f.csv?"text/csv":"text/plain",r=Object(c.t)(e.content);t=e.format===l.f.csv?new s.TextEncoder("utf-8").encode(r):r;var n=new Blob([e.useUtf8WithBom?"\ufeff":"",t],{type:i+";charset=utf-8;"});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,e.filename);else{var o=document.createElement("a"),a=URL.createObjectURL(n);o.textContent="download",o.href=a,o.setAttribute("download",e.filename),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},t.prototype.getDataOutput=function(){var e=this,t=this._grid.getColumns()||[],i=this._exportOptions.groupingColumnHeaderTitle;!i&&this._gridOptions.enableTranslate&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()?i=this.i18n.tr(Object(c.q)(this._gridOptions)+"GROUP_BY"):i||(i=this._locales&&this._locales.TEXT_GROUP_BY),this._exportQuoteWrapper=this._fileFormat===l.f.csv?'"':"";var r="",n=this._dataView.getGrouping();(n&&Array.isArray(n)&&n.length>0?(this._hasGroupedItems=!0,r+=this._fileFormat===l.f.csv?'"'+i+'"'+this._delimiter:""+i+this._delimiter):this._hasGroupedItems=!1,this._gridOptions.createPreHeaderPanel&&this._gridOptions.showPreHeaderPanel&&!this._gridOptions.enableDraggableGrouping)&&(this._groupedColumnHeaders=this.getColumnGroupedHeaderTitles(t)||[],this._groupedColumnHeaders&&Array.isArray(this._groupedColumnHeaders)&&this._groupedColumnHeaders.length>0&&(r+=this._groupedColumnHeaders.map((function(t){return""+e._exportQuoteWrapper+t.title+e._exportQuoteWrapper})).join(this._delimiter)+this._lineCarriageReturn));(this._columnHeaders=this.getColumnHeaders(t)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0)&&(r+=this._columnHeaders.map((function(t){return""+e._exportQuoteWrapper+t.title+e._exportQuoteWrapper})).join(this._delimiter)+this._lineCarriageReturn);return r+=this.getAllGridRowData(t,this._lineCarriageReturn)},t.prototype.getAllGridRowData=function(e,t){for(var i=[],r=this._dataView.getLength(),n=0;n<r;n++){var o=this._dataView.getItem(n);o&&(null!==o[this.datasetIdName]&&void 0!==o[this.datasetIdName]?i.push(this.readRegularRowData(e,n,o)):this._hasGroupedItems&&void 0===o.__groupTotals?i.push(this.readGroupedTitleRow(o)):o.__groupTotals&&i.push(this.readGroupedTotalRow(e,o)))}return i.join(t)},t.prototype.getColumnGroupedHeaderTitles=function(e){var t=this,i=[];return e&&Array.isArray(e)&&e.forEach((function(e){var r="";r=(e.columnGroupKey||e.columnGroupKey)&&t._gridOptions.enableTranslate&&t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()?t.i18n.tr(e.columnGroupKey||e.columnGroupKey):e.columnGroup||"";var n=e.excludeFromExport||!1;(void 0===e.width||e.width>0)&&!n&&i.push({key:e.field||e.id,title:r||""})})),i},t.prototype.getColumnHeaders=function(e){var t=this,i=[];return e&&Array.isArray(e)&&e.forEach((function(e){var r="";r=(e.headerKey||e.nameKey)&&t._gridOptions.enableTranslate&&t.i18n&&t.i18n.tr&&t.i18n.getLocale&&t.i18n.getLocale()?t.i18n.tr(e.headerKey||e.nameKey):e.name||Object(c.F)(e.field);var n=e.excludeFromExport||!1;(void 0===e.width||e.width>0)&&!n&&i.push({key:e.field||e.id,title:r||""})})),i},t.prototype.readRegularRowData=function(e,t,i){for(var r=0,n=[],o=this._exportQuoteWrapper,s=0,a=e.length;s<a;s++){var d=e[s];if(!d.excludeFromExport){if(this._hasGroupedItems&&0===r){var h=this._fileFormat===l.f.csv?'""':"";n.push(h)}var p=Object(u.a)(t,s,i,d,this._grid,this._exportOptions);(d.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(p=Object(c.C)(p)),this._fileFormat===l.f.csv&&p&&(p=p.toString().replace(/"/gi,'""'));var g=d&&d.exportCsvForceToKeepAsString?"=":"";n.push(g+o+p+o),r++}}return n.join(this._delimiter)},t.prototype.readGroupedTitleRow=function(e){var t=Object(c.C)(e.title),i=this._exportQuoteWrapper;return t=Object(c.b)(5*e.level)+t,this._fileFormat===l.f.csv&&(t=t.toString().replace(/"/gi,'""')),i+t+i},t.prototype.readGroupedTotalRow=function(e,t){var i=this,r=this._exportOptions.delimiter,n=this._exportOptions.format,o=this._exportOptions.groupingAggregatorRowText||"",s=this._exportQuoteWrapper,a=[""+s+o+s];return e.forEach((function(e){var r="",o=e.excludeFromExport||!1;e.groupTotalsFormatter&&(r=e.groupTotalsFormatter(t,e,i._grid)),(e.sanitizeDataExport||i._exportOptions.sanitizeDataExport)&&(r=Object(c.C)(r)),n===l.f.csv&&(r=r.toString().replace(/"/gi,'""')),(void 0===e.width||e.width>0)&&!o&&a.push(s+r+s)})),a.join(r)},t=g([Object(n.q)(!0),Object(n.o)(r.a,h.a,n.g.of(o.I18N))],t)}()}).call(this,i("CW7D"))},SpW5:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return d}));var r=i("aurelia-framework"),n=i("aurelia-event-aggregator"),o=i("EVdn"),s=i("IlDx"),a=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},d=function(){function t(e,t){this.globalEa=e,this.pluginEa=t,this._resizePaused=!1}return Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_gridUid",{get:function(){return this._grid&&this._grid.getUID?this._grid.getUID():this._gridOptions&&this._gridOptions.gridId},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){if(!e||!this._gridOptions)throw new Error('\n      Aurelia-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');this._grid=e;var i=e&&e.getContainerNode&&e.getContainerNode()||"";this._gridDomElm=o(i);var r=this._gridOptions&&this._gridOptions.autoResize||{};this._gridContainerElm=r&&r.containerId?o("#"+r.containerId):o("#"+this._gridOptions.gridContainerId),this.aureliaEventPrefix=this._gridOptions&&this._gridOptions.defaultAureliaEventPrefix?this._gridOptions.defaultAureliaEventPrefix:"asg",t&&(this._fixedHeight=t.height,this._fixedWidth=t.width)},t.prototype.bindAutoResizeDataGrid=function(e){if(void 0===this._gridDomElm||void 0===this._gridDomElm.offset())return null;this.resizeGrid(10,e),o(window).on("resize.grid."+this._gridUid,this.handleResizeGrid.bind(this,e))},t.prototype.handleResizeGrid=function(e,t){this.pluginEa.publish("resizerService:onBeforeResize",t),this.globalEa.publish(this.aureliaEventPrefix+":onBeforeResize",t),this._resizePaused||(this.resizeGrid(0,e),this.resizeGrid(0,e))},t.prototype.calculateGridNewDimensions=function(e){var t=e&&e.autoResize||{};if(!window||void 0===this._gridContainerElm||void 0===this._gridDomElm.offset())return null;var i=t&&void 0!==t.bottomPadding?t.bottomPadding:20;i&&e.enablePagination&&(i+=35),i&&e.showCustomFooter&&(i+=e.customFooterOptions&&e.customFooterOptions.footerHeight||20);var r=0,n=0;if("container"===t.calculateAvailableSizeBy)r=this._gridContainerElm.height()||0;else{r=window.innerHeight||0;var o=this._gridDomElm.offset();n=void 0!==o?o.top:0}var s=r-n-i,a=this._gridContainerElm.width()||window.innerWidth||0,d=t&&t.maxHeight||void 0,u=t&&void 0!==t.minHeight?t.minHeight:180,l=t&&t.maxWidth||void 0,c=t&&void 0!==t.minWidth?t.minWidth:300,h=s,p=t&&t.sidePadding?a-t.sidePadding:a;return h<u&&(h=u),d&&h>d&&(h=d),p<c&&(p=c),l&&p>l&&(p=l),{height:this._fixedHeight||h,width:this._fixedWidth||p}},t.prototype.dispose=function(){o(window).off("resize.grid."+this._gridUid)},t.prototype.getLastResizeDimensions=function(){return this._lastDimensions},t.prototype.pauseResizer=function(e){this._resizePaused=e},t.prototype.resizeGrid=function(t,i){var r=this;return void 0===t&&(t=10),new e((function(e){(t=t||0)>0?(clearTimeout(r._timer),r._timer=setTimeout((function(){return e(r.resizeGridCallback(i))}),t)):e(r.resizeGridCallback(i))}))},t.prototype.resizeGridCallback=function(e){var t=this.resizeGridWithDimensions(e);return this.pluginEa.publish("resizerService:onAfterResize",t),this.globalEa.publish(this.aureliaEventPrefix+":onAfterResize",t),t},t.prototype.resizeGridWithDimensions=function(e){var t=this.calculateGridNewDimensions(this._gridOptions),i=o("#"+this._gridOptions.gridContainerId);if((e||t)&&this._gridDomElm.length>0){var r=e&&e.height?e.height:t&&t.height||0,n=e&&e.width?e.width:t&&t.width||0;this._gridOptions.autoHeight||(this._gridDomElm.height(r),i.height(r)),this._gridDomElm.width(n),i.width(n),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&this._grid&&this._grid.resizeCanvas&&this._grid.resizeCanvas(),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&(this._grid.autosizeColumns,1)&&this._gridUid&&o("."+this._gridUid).length>0&&this._grid.autosizeColumns(),this._lastDimensions={height:r,width:n},(this._gridOptions.enablePagination||this._gridOptions.backendServiceApi)&&(this._lastDimensions.heightWithPagination=r+35)}return this._lastDimensions},t=a([Object(r.q)(!0),Object(r.o)(n.a,s.a)],t)}()}).call(this,i("CW7D"))},ZJwA:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i("aurelia-framework"),n=i("wESz"),o=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=function(){function e(e){this.sharedService=e,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(e.prototype,"dataset",{get:function(){return this.dataView&&this.dataView.getItems&&this.dataView.getItems()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datasetHierarchical",{get:function(){return this.sharedService.hierarchicalDataset},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._grid&&this._grid.getData&&this._grid.getData()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this._grid&&this._grid.getOptions&&this._grid.getOptions()||{}},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll()},e.prototype.init=function(e){this._grid=e,this._eventHandler.subscribe(e.onClick,this.handleOnCellClick.bind(this))},e.prototype.handleOnCellClick=function(e,t){if(e&&t){var i=e.target||{},r=this.gridOptions.treeDataOptions,n=r&&r.collapsedPropName||"__collapsed",o=this.gridOptions.datasetIdPropertyName||"id";if(i&&i.className)if(i.className.indexOf("toggle")>=0||!1){var s=this.dataView.getItem(t.row);s&&(s[n]=!s[n],this.dataView.updateItem(s[o],s),this._grid.invalidate()),e.stopImmediatePropagation()}}},e.prototype.toggleTreeDataCollapse=function(e){if(this.gridOptions){var t=this.gridOptions.treeDataOptions;if(this.gridOptions.enableTreeData){var i=this.dataView.getItems()||[],r=t&&t.collapsedPropName||"__collapsed";i.forEach((function(t){return t[r]=e})),this.dataView.setItems(i),this._grid.invalidate()}}},e=o([Object(r.q)(!0),Object(r.o)(n.a)],e)}()},aNj2:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return c}));var r=i("aurelia-framework"),n=i("XaGS"),o=i("/CJ3"),s=i("wESz"),a=i("eyxJ"),d=i("IlDx"),u=function(){return(u=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(){function t(e,t){this.pluginEa=e,this.sharedService=t,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._eventHandler=new Slick.EventHandler,this._subscriptions=[]}return Object.defineProperty(t.prototype,"paginationOptions",{get:function(){return this._paginationOptions},set:function(e){this._paginationOptions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availablePageSizes",{get:function(){return this._availablePageSizes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataFrom",{get:function(){return this._dataFrom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataTo",{get:function(){return this._dataTo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsPerPage",{get:function(){return this._itemsPerPage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this._pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNumber",{get:function(){return this._pageNumber},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalItems",{get:function(){return this._totalItems},set:function(e){this._totalItems=e,this._initialized&&this.refreshPagination()},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,i,r){var n=this;if(this._availablePageSizes=i.pageSizes,this.dataView=t,this.grid=e,this._backendServiceApi=r,this._paginationOptions=i,this._isLocalGrid=!r,this._pageNumber=i.pageNumber||1,r&&(!r.service||!r.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');this._isLocalGrid&&this.dataView&&(this._eventHandler.subscribe(this.dataView.onPagingInfoChanged,(function(e,t){n._totalItems!==t.totalRows&&n.updateTotalItems(t.totalRows)})),setTimeout((function(){n.dataView.setRefreshHints({isFilterUnchanged:!0}),n.dataView.setPagingOptions({pageSize:n.paginationOptions.pageSize,pageNum:n._pageNumber-1})}))),this._subscriptions.push(this.pluginEa.subscribe("filterService:filterChanged",(function(){return n.resetPagination()}))),this._subscriptions.push(this.pluginEa.subscribe("filterService:filterCleared",(function(){return n.resetPagination()}))),this.dataView&&(this._subscriptions.push(this.pluginEa.subscribe("gridService:onItemAdded",(function(e){return n.processOnItemAddedOrRemoved(e,!0)}))),this._subscriptions.push(this.pluginEa.subscribe("gridService:onItemDeleted",(function(e){return n.processOnItemAddedOrRemoved(e,!1)})))),this.refreshPagination(!1,!1),this._initialized=!0},t.prototype.dispose=function(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this._subscriptions=Object(a.k)(this._subscriptions)},t.prototype.getCurrentPagination=function(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}},t.prototype.getFullPagination=function(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}},t.prototype.getCurrentPageNumber=function(){return this._pageNumber},t.prototype.getCurrentItemPerPage=function(){return this._itemsPerPage},t.prototype.changeItemPerPage=function(e,t){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/e),this._itemsPerPage=e,this.processOnPageChanged(this._pageNumber,t)},t.prototype.goToFirstPage=function(e){return this._pageNumber=1,this.processOnPageChanged(this._pageNumber,e)},t.prototype.goToLastPage=function(e){return this._pageNumber=this._pageCount||1,this.processOnPageChanged(this._pageNumber||1,e)},t.prototype.goToNextPage=function(t){return this._pageNumber<this._pageCount?(this._pageNumber++,this.processOnPageChanged(this._pageNumber,t)):new e((function(e){return e(!1)}))},t.prototype.goToPageNumber=function(t,i){var r=this._pageNumber;return t<1?this._pageNumber=1:t>this._pageCount?this._pageNumber=this._pageCount:this._pageNumber=t,this._pageNumber!==r?this.processOnPageChanged(this._pageNumber,i):new e((function(e){return e(!1)}))},t.prototype.goToPreviousPage=function(t){return this._pageNumber>1?(this._pageNumber--,this.processOnPageChanged(this._pageNumber,t)):new e((function(e){return e(!1)}))},t.prototype.refreshPagination=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=u({},this.getCurrentPagination());if(this._paginationOptions){var r=this._paginationOptions;this._itemsPerPage||(this._isLocalGrid?this._itemsPerPage=r.pageSize:this._itemsPerPage=+(this._backendServiceApi&&this._backendServiceApi.options&&this._backendServiceApi.options.paginationOptions&&this._backendServiceApi.options.paginationOptions.first?this._backendServiceApi.options.paginationOptions.first:r.pageSize)),(e||this._totalItems!==r.totalItems)&&(e?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&r.pageNumber&&r.pageNumber>1&&(this._pageNumber=r.pageNumber||1),1===this._pageNumber&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=r.pageSizes,!this._totalItems&&r.totalItems&&(this._totalItems=r.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage);var o=this.getCurrentPagination();this.sharedService.currentPagination=o,t&&!n(i,o)&&this.pluginEa.publish("paginationService:onPaginationChanged",this.getFullPagination()),this.sharedService.currentPagination=this.getCurrentPagination()},t.prototype.resetPagination=function(e){void 0===e&&(e=!0),this._isLocalGrid&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this.refreshPagination(!0,e)},t.prototype.togglePaginationVisibility=function(e){if(this.grid&&this.sharedService&&this.sharedService.gridOptions){var t=void 0!==e?e:!this.sharedService.gridOptions.enablePagination;if(this.sharedService.gridOptions.enablePagination=t,this.pluginEa.publish("paginationService:onPaginationVisibilityChanged",{visible:t}),t&&this.goToFirstPage(),this._isLocalGrid){var i=e?this._itemsPerPage:0;this.dataView.setPagingOptions({pageSize:i,pageNum:0})}}},t.prototype.processOnPageChanged=function(t,i){var r=this;return new e((function(n,s){if(r.recalculateFromToIndexes(),r._isLocalGrid)r.dataView.setPagingOptions({pageSize:r._itemsPerPage,pageNum:t-1}),r.pluginEa.publish("paginationService:onPaginationChanged",r.getFullPagination());else{var a=+r._itemsPerPage,d=new Date;if(r._backendServiceApi&&r._backendServiceApi.preProcess&&r._backendServiceApi.preProcess(),r._backendServiceApi&&r._backendServiceApi.process){var u=r._backendServiceApi.service.processOnPaginationChanged(i,{newPage:t,pageSize:a}),l=r._backendServiceApi.process(u);l instanceof e&&l.then((function(e){Object(o.b)(d,e,r._backendServiceApi,r._totalItems),n(r.getFullPagination())})).catch((function(e){Object(o.c)(e,r._backendServiceApi),s(l)}))}r.pluginEa.publish("paginationService:onPaginationChanged",r.getFullPagination())}}))},t.prototype.recalculateFromToIndexes=function(){0===this._totalItems?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._pageNumber=this._totalItems>0&&0===this._pageNumber?1:this._pageNumber,(this._dataTo>this._totalItems||this._totalItems<this._itemsPerPage)&&(this._dataTo=this._totalItems)},t.prototype.updateTotalItems=function(e,t){void 0===t&&(t=!1),this._totalItems=e,this._paginationOptions&&(this._paginationOptions.totalItems=e,this.refreshPagination(!1,t))},t.prototype.processOnItemAddedOrRemoved=function(e,t){if(void 0===t&&(t=!0),null!==e){var i=this._dataTo,r=Array.isArray(e)?e.length:1,n=t?+r:-r;this._totalItems+=n,this.recalculateFromToIndexes(),this._dataTo=i+n,this.pluginEa.publish("paginationService:onPaginationChanged",this.getFullPagination())}},t=l([Object(r.q)(!0),Object(r.o)(d.a,s.a)],t)}()}).call(this,i("CW7D"))},"aurelia-slickgrid":function(e,t,i){"use strict";i.r(t),i.d(t,"configure",(function(){return f}));i("70NS");var r=i("aurelia-slickgrid/custom-elements/aurelia-slickgrid");i.d(t,"AureliaSlickgridCustomElement",(function(){return r.AureliaSlickgridCustomElement}));var n=i("aurelia-slickgrid/custom-elements/slick-pagination");i.d(t,"SlickPaginationCustomElement",(function(){return n.SlickPaginationCustomElement}));var o=i("t7Lt");i.d(t,"SlickgridConfig",(function(){return o.a}));var s=i("jxYj"),a=i("ncLB");i.d(t,"Aggregators",(function(){return a.a}));var d=i("zcqm");i.d(t,"Editors",(function(){return d.a})),i.d(t,"Filters",(function(){return s.b})),i.d(t,"FilterFactory",(function(){return s.a}));var u=i("MGjh");i.d(t,"FilterConditions",(function(){return u.a}));var l=i("gtun");i.d(t,"Formatters",(function(){return l.a}));var c=i("P2Q7");i.d(t,"GroupTotalFormatters",(function(){return c.a}));var h=i("v8Uj");i.d(t,"CaseType",(function(){return h.a})),i.d(t,"DelimiterType",(function(){return h.b})),i.d(t,"EmitterType",(function(){return h.c})),i.d(t,"ExtensionName",(function(){return h.d})),i.d(t,"FieldType",(function(){return h.e})),i.d(t,"FileType",(function(){return h.f})),i.d(t,"FilterMultiplePassType",(function(){return h.g})),i.d(t,"GridStateType",(function(){return h.h})),i.d(t,"KeyCode",(function(){return h.i})),i.d(t,"OperatorType",(function(){return h.j})),i.d(t,"SortDirection",(function(){return h.k})),i.d(t,"SortDirectionNumber",(function(){return h.l}));var p=i("H9V8");i.d(t,"AureliaUtilService",(function(){return p.a})),i.d(t,"executeBackendProcessesCallback",(function(){return p.F})),i.d(t,"onBackendError",(function(){return p.W})),i.d(t,"executeBackendCallback",(function(){return p.E})),i.d(t,"refreshBackendDataset",(function(){return p.Z})),i.d(t,"BindingEventService",(function(){return p.b})),i.d(t,"CollectionService",(function(){return p.c})),i.d(t,"ExcelExportService",(function(){return p.d})),i.d(t,"exportWithFormatterWhenDefined",(function(){return p.G})),i.d(t,"ExportService",(function(){return p.e})),i.d(t,"ExtensionService",(function(){return p.f})),i.d(t,"FilterService",(function(){return p.g})),i.d(t,"GraphqlService",(function(){return p.h})),i.d(t,"GridService",(function(){return p.k})),i.d(t,"GridEventService",(function(){return p.i})),i.d(t,"GridStateService",(function(){return p.l})),i.d(t,"GridOdataService",(function(){return p.j})),i.d(t,"GroupingAndColspanService",(function(){return p.m})),i.d(t,"OdataQueryBuilderService",(function(){return p.n})),i.d(t,"PaginationService",(function(){return p.o})),i.d(t,"ResizerService",(function(){return p.p})),i.d(t,"SharedService",(function(){return p.q})),i.d(t,"SortService",(function(){return p.r})),i.d(t,"TreeDataService",(function(){return p.s})),i.d(t,"addToArrayWhenNotExists",(function(){return p.t})),i.d(t,"addWhiteSpaces",(function(){return p.u})),i.d(t,"arrayRemoveItemByIndex",(function(){return p.v})),i.d(t,"convertParentChildArrayToHierarchicalView",(function(){return p.z})),i.d(t,"convertHierarchicalViewToParentChildArray",(function(){return p.x})),i.d(t,"convertHierarchicalViewToParentChildArrayByReference",(function(){return p.y})),i.d(t,"deepCopy",(function(){return p.B})),i.d(t,"findItemInHierarchicalStructure",(function(){return p.H})),i.d(t,"htmlEncode",(function(){return p.N})),i.d(t,"htmlEntityDecode",(function(){return p.P})),i.d(t,"htmlEntityEncode",(function(){return p.Q})),i.d(t,"htmlEncodedStringWithPadding",(function(){return p.O})),i.d(t,"decimalFormatted",(function(){return p.A})),i.d(t,"destroyObjectDomElementProps",(function(){return p.C})),i.d(t,"formatNumber",(function(){return p.J})),i.d(t,"disposeAllSubscriptions",(function(){return p.D})),i.d(t,"getDescendantProperty",(function(){return p.K})),i.d(t,"getTranslationPrefix",(function(){return p.M})),i.d(t,"mapMomentDateFormatWithFieldType",(function(){return p.S})),i.d(t,"mapFlatpickrDateFormatWithFieldType",(function(){return p.R})),i.d(t,"mapOperatorType",(function(){return p.V})),i.d(t,"mapOperatorToShorthandDesignation",(function(){return p.U})),i.d(t,"mapOperatorByFieldType",(function(){return p.T})),i.d(t,"parseBoolean",(function(){return p.X})),i.d(t,"parseUtcDate",(function(){return p.Y})),i.d(t,"sanitizeHtmlToText",(function(){return p.ab})),i.d(t,"setDeepValue",(function(){return p.bb})),i.d(t,"thousandSeparatorFormatted",(function(){return p.cb})),i.d(t,"titleCase",(function(){return p.db})),i.d(t,"toCamelCase",(function(){return p.eb})),i.d(t,"toKebabCase",(function(){return p.fb})),i.d(t,"charArraysEqual",(function(){return p.w})),i.d(t,"findOrDefault",(function(){return p.I})),i.d(t,"getHtmlElementOffset",(function(){return p.L})),i.d(t,"toSnakeCase",(function(){return p.gb})),i.d(t,"uniqueArray",(function(){return p.hb})),i.d(t,"uniqueObjectArray",(function(){return p.ib}));var g=i("jvgt");function f(e,t){e.globalResources("./custom-elements/aurelia-slickgrid"),e.globalResources("./custom-elements/slick-pagination"),e.globalResources("./value-converters/asgDateFormat"),e.globalResources("./value-converters/asgNumber"),e.container.registerTransient(s.b.autoComplete),e.container.registerTransient(s.b.compoundDate),e.container.registerTransient(s.b.compoundInput),e.container.registerTransient(s.b.compoundInputNumber),e.container.registerTransient(s.b.compoundInputPassword),e.container.registerTransient(s.b.compoundInputText),e.container.registerTransient(s.b.compoundSlider),e.container.registerTransient(s.b.dateRange),e.container.registerTransient(s.b.input),e.container.registerTransient(s.b.inputMask),e.container.registerTransient(s.b.inputNumber),e.container.registerTransient(s.b.inputPassword),e.container.registerTransient(s.b.inputText),e.container.registerTransient(s.b.multipleSelect),e.container.registerTransient(s.b.singleSelect),e.container.registerTransient(s.b.select),e.container.registerTransient(s.b.slider),e.container.registerTransient(s.b.sliderRange);var i=new o.a;e.container.registerInstance(o.a,i),"function"==typeof t&&t(i)}i.d(t,"Sorters",(function(){return g.a}))},"aurelia-slickgrid/value-converters/asgDateFormat":function(e,t,i){"use strict";i.r(t),i.d(t,"AsgDateFormatValueConverter",(function(){return n}));var r=i("sjEL"),n=function(){function e(){}return e.prototype.toView=function(e,t){return r(e).format(t)},e}()},"aurelia-slickgrid/value-converters/asgNumber":function(e,t,i){"use strict";i.r(t),i.d(t,"AsgNumberValueConverter",(function(){return r}));var r=function(){function e(){}return e.prototype.fromView=function(e){var t=parseFloat(e);return isNaN(t)?e:t},e}()},eyxJ:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"g",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"l",(function(){return h})),i.d(t,"r",(function(){return p})),i.d(t,"t",(function(){return g})),i.d(t,"u",(function(){return f})),i.d(t,"s",(function(){return m})),i.d(t,"h",(function(){return v})),i.d(t,"j",(function(){return _})),i.d(t,"n",(function(){return y})),i.d(t,"k",(function(){return b})),i.d(t,"o",(function(){return S})),i.d(t,"q",(function(){return O})),i.d(t,"w",(function(){return w})),i.d(t,"v",(function(){return C})),i.d(t,"z",(function(){return E})),i.d(t,"y",(function(){return x})),i.d(t,"x",(function(){return P})),i.d(t,"A",(function(){return A})),i.d(t,"B",(function(){return I})),i.d(t,"C",(function(){return T})),i.d(t,"D",(function(){return j})),i.d(t,"E",(function(){return k})),i.d(t,"F",(function(){return F})),i.d(t,"G",(function(){return D})),i.d(t,"H",(function(){return R})),i.d(t,"d",(function(){return M})),i.d(t,"m",(function(){return G})),i.d(t,"p",(function(){return N})),i.d(t,"I",(function(){return H})),i.d(t,"J",(function(){return B})),i.d(t,"K",(function(){return V}));var r=i("sjEL"),n=i("v8Uj");function o(e,t,i){void 0===i&&(i="id");("object"==typeof t&&i in t?e.findIndex((function(e){return e[i]===t[i]})):e.findIndex((function(e){return e===t})))<0&&e.push(t)}function s(e){for(var t="",i=0;i<e;i++)t+=" ";return t}function a(e,t){return e.filter((function(e,i){return t!==i}))}function d(t,i){var r=i&&i.childrenPropName||"children",n=i&&i.parentPropName||"__parentId",o=i&&i.identifierPropName||"id",s=e.extend(!0,[],t),a=[],d={};return s.forEach((function(e){return d[e[o]]=e})),Object.keys(d).forEach((function(e){var t=d[e];if(null!==t[n]&&t.hasOwnProperty(n)){if(t[n]in d){var i=d[t[n]];r in i||(i[r]=[]),delete t[n],i[r].push(t)}}else delete t[n],a.push(t);delete t.__treeLevel,delete t.__hasChildren})),a}function u(t,i){var r=[];return l(e.extend(!0,[],t),r,i,0),r}function l(e,t,i,r,n){void 0===r&&(r=0);var o=i&&i.childrenPropName||"children",s=i&&i.identifierPropName||"id",a=i&&i.hasChildrenFlagPropName||"__hasChildren",d=i&&i.treeLevelPropName||"__treeLevel",u=i&&i.parentPropName||"__parentId";if(Array.isArray(e))for(var c=function(e){e&&(t.find((function(t){return t[s]===e[s]}))||(e[d]=r,e[u]=n||null,t.push(e)),Array.isArray(e[o])&&(r++,l(e[o],t,i,r,e[s]),r--,e[a]=!0,delete e[o]))},h=0,p=e;h<p.length;h++){c(p[h])}}function c(e){var t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"object"===t?function(){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=c(e[i]));return t}():"array"===t?e.map((function(e){return c(e)})):e}function h(e,t,i){if(!i)throw new Error('findRecursive requires parameter "childrenPropertyName"');var r=e.find(t),n=e.filter((function(e){return i in e&&e[i]}));if(r)return r;if(n.length){var o=[];return n.forEach((function(e){i in e&&o.push.apply(o,e[i])})),h(o,t,i)}}function p(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(e||"").toString().replace(/[&<>"']/g,(function(e){return t[e]}))}function g(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))}function f(e){for(var t=[],i=e.length-1;i>=0;i--)t.unshift(["&#",e[i].charCodeAt(),";"].join(""));return t.join("")}function m(e,t){var i=e.length,r=p(e);if(i<t)for(var n=i;n<t;n++)r+="&nbsp;";return r}function v(e,t,i,r,n){if(void 0===r&&(r="."),void 0===n&&(n=""),isNaN(+e))return e;var o=void 0===t?2:t,s=void 0===i?2:i,a=String(Math.round(+e*Math.pow(10,s))/Math.pow(10,s));for(a.indexOf(".")<0&&o>0&&(a+=".");a.length-a.indexOf(".")<=o;)a+="0";var d,u,l=a.split(".");d=n?l.length>=1?k(l[0],n):void 0:l.length>=1?l[0]:a,l.length>1&&(u=l[1]);var c="";return void 0!==d&&void 0!==u?c=""+d+r+u:null!=d&&(c=d),c}function _(e){if(e)for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Array.isArray(e[r])&&_(e[r]),e[r]instanceof HTMLElement&&(e[r]=null)}}function y(e,t,i,r,n,o,s,a){if(void 0===n&&(n=""),void 0===o&&(o=""),void 0===s&&(s="."),void 0===a&&(a=""),isNaN(+e))return e;var d=Math.round(1e6*parseFloat(e))/1e6;if(d<0){var u=Math.abs(d);return r?isNaN(t)&&isNaN(i)?"("+n+k(""+u,a)+o+")":"("+n+v(u,t,i,s,a)+o+")":isNaN(t)&&isNaN(i)?"-"+n+k(""+u,a)+o:"-"+n+v(u,t,i,s,a)+o}return isNaN(t)&&isNaN(i)?""+n+k(""+e,a)+o:""+n+v(e,t,i,s,a)+o}function b(e){return e.forEach((function(e){e&&e.dispose&&e.dispose()})),[]}function S(e,t){return e&&t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):e}function O(e){return e&&e.translationNamespace?e.translationNamespace+(e.translationNamespaceSeparator||""):""}function w(e){var t;switch(e){case n.e.dateTime:case n.e.dateTimeIso:t="YYYY-MM-DD HH:mm:ss";break;case n.e.dateTimeIsoAmPm:t="YYYY-MM-DD hh:mm:ss a";break;case n.e.dateTimeIsoAM_PM:t="YYYY-MM-DD hh:mm:ss A";break;case n.e.dateTimeShortIso:t="YYYY-MM-DD HH:mm";break;case n.e.dateEuro:t="DD/MM/YYYY";break;case n.e.dateEuroShort:t="D/M/YY";break;case n.e.dateTimeEuro:t="DD/MM/YYYY HH:mm:ss";break;case n.e.dateTimeShortEuro:t="DD/MM/YYYY HH:mm";break;case n.e.dateTimeEuroAmPm:t="DD/MM/YYYY hh:mm:ss a";break;case n.e.dateTimeEuroAM_PM:t="DD/MM/YYYY hh:mm:ss A";break;case n.e.dateTimeEuroShort:t="D/M/YY H:m:s";break;case n.e.dateTimeEuroShortAmPm:t="D/M/YY h:m:s a";break;case n.e.dateUs:t="MM/DD/YYYY";break;case n.e.dateUsShort:t="M/D/YY";break;case n.e.dateTimeUs:t="MM/DD/YYYY HH:mm:ss";break;case n.e.dateTimeUsAmPm:t="MM/DD/YYYY hh:mm:ss a";break;case n.e.dateTimeUsAM_PM:t="MM/DD/YYYY hh:mm:ss A";break;case n.e.dateTimeUsShort:t="M/D/YY H:m:s";break;case n.e.dateTimeUsShortAmPm:t="M/D/YY h:m:s a";break;case n.e.dateTimeShortUs:t="MM/DD/YYYY HH:mm";break;case n.e.dateUtc:t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case n.e.date:case n.e.dateIso:default:t="YYYY-MM-DD"}return t}function C(e){var t;switch(e){case n.e.dateTime:case n.e.dateTimeIso:t="Y-m-d H:i:S";break;case n.e.dateTimeShortIso:t="Y-m-d H:i";break;case n.e.dateTimeIsoAmPm:case n.e.dateTimeIsoAM_PM:t="Y-m-d h:i:S K";break;case n.e.dateEuro:t="d/m/Y";break;case n.e.dateEuroShort:t="d/m/y";break;case n.e.dateTimeEuro:t="d/m/Y H:i:S";break;case n.e.dateTimeShortEuro:t="d/m/y H:i";break;case n.e.dateTimeEuroAmPm:t="d/m/Y h:i:S K";break;case n.e.dateTimeEuroAM_PM:t="d/m/Y h:i:s K";break;case n.e.dateTimeEuroShort:t="d/m/y H:i:s";break;case n.e.dateTimeEuroShortAmPm:t="d/m/y h:i:s K";break;case n.e.dateUs:t="m/d/Y";break;case n.e.dateUsShort:t="m/d/y";break;case n.e.dateTimeUs:t="m/d/Y H:i:S";break;case n.e.dateTimeShortUs:t="m/d/y H:i";break;case n.e.dateTimeUsAmPm:t="m/d/Y h:i:S K";break;case n.e.dateTimeUsAM_PM:t="m/d/Y h:i:s K";break;case n.e.dateTimeUsShort:t="m/d/y H:i:s";break;case n.e.dateTimeUsShortAmPm:t="m/d/y h:i:s K";break;case n.e.dateUtc:t="Z";break;case n.e.date:case n.e.dateIso:default:t="Y-m-d"}return t}function E(e){var t;switch(e){case"<":case"LT":t=n.j.lessThan;break;case"<=":case"LE":t=n.j.lessThanOrEqual;break;case">":case"GT":t=n.j.greaterThan;break;case">=":case"GE":t=n.j.greaterThanOrEqual;break;case"<>":case"!=":case"NE":t=n.j.notEqual;break;case"*":case"a*":case"StartsWith":t=n.j.startsWith;break;case"*z":case"EndsWith":t=n.j.endsWith;break;case"=":case"==":case"EQ":t=n.j.equal;break;case"IN":t=n.j.in;break;case"NIN":case"NOT_IN":t=n.j.notIn;break;case"Not_Contains":case"NOT_CONTAINS":t=n.j.notContains;break;case"Contains":case"CONTAINS":default:t=n.j.contains}return t}function x(e){var t="";switch(e){case n.j.greaterThan:case">":t=">";break;case n.j.greaterThanOrEqual:case">=":t=">=";break;case n.j.lessThan:case"<":t="<";break;case n.j.lessThanOrEqual:case"<=":t="<=";break;case n.j.notEqual:case"<>":t="<>";break;case n.j.equal:case"=":case"==":case"EQ":t="=";break;case n.j.startsWith:case"a*":case"*":t="a*";break;case n.j.endsWith:case"*z":t="*z";break;default:t=e}return t}function P(e){var t;switch(e){case n.e.unknown:case n.e.string:case n.e.text:case n.e.password:case n.e.readonly:t=n.j.contains;break;case n.e.float:case n.e.number:case n.e.date:case n.e.dateIso:case n.e.dateUtc:case n.e.dateTime:case n.e.dateTimeIso:case n.e.dateTimeIsoAmPm:case n.e.dateTimeIsoAM_PM:case n.e.dateEuro:case n.e.dateEuroShort:case n.e.dateTimeEuro:case n.e.dateTimeEuroAmPm:case n.e.dateTimeEuroAM_PM:case n.e.dateTimeEuroShort:case n.e.dateTimeEuroShortAmPm:case n.e.dateTimeEuroShortAM_PM:case n.e.dateUs:case n.e.dateUsShort:case n.e.dateTimeUs:case n.e.dateTimeUsAmPm:case n.e.dateTimeUsAM_PM:case n.e.dateTimeUsShort:case n.e.dateTimeUsShortAmPm:case n.e.dateTimeUsShortAM_PM:default:t=n.j.equal}return t}function A(e){return/(true|1)/i.test(e+"")}function I(e,t){var i="";if("string"==typeof e&&/^[0-9\-\/]*$/.test(e)){var n=decodeURIComponent(e),o=r(new Date(n));o.isValid()&&4===o.year().toString().length&&(i=t?o.utc().format():o.format())}return i}function T(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function j(e,t,i){if("string"==typeof t&&(t=t.split(".")),t.length>1){var r=t.shift();e&&void 0!==r&&j(e[r]="[object Object]"===Object.prototype.toString.call(e[r])?e[r]:{},t,i)}else e&&t[0]&&(e[t[0]]=i)}function k(e,t){if(void 0===t&&(t=","),null!=e){var i=""+e,r=i.split(".");return 2===r.length?r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)+"."+r[1]:i.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return e}function F(e,t){return void 0===t&&(t=!1),"string"==typeof e?t?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):e.charAt(0).toUpperCase()+e.slice(1):e}function D(e){return"string"==typeof e?e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,(function(e,t){return/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()})):e}function R(e){return"string"==typeof e?D(e).replace(/([A-Z])/g,"-$1").toLowerCase():e}function M(e,t,i){if(void 0===i&&(i=!1),!(e&&t&&Array.isArray(e)&&Array.isArray(e)))return!1;if(e.length!==t.length)return!1;!i&&e.sort&&t.sort&&(e.sort(),t.sort());for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function G(e,t,i){return void 0===i&&(i={}),Array.isArray(e)?e.find(t)||i:e}function N(e){var t=e.getBoundingClientRect(),i=0,r=0;return t&&void 0!==t.top&&void 0!==t.left&&(i=t.top+window.pageYOffset,r=t.left+window.pageXOffset),{top:i,left:r}}function H(e){return"string"==typeof e?D(e).replace(/([A-Z])/g,"_$1").toLowerCase():e}function B(e){return Array.isArray(e)&&e.length>0?e.filter((function(t,i){return e.indexOf(t)>=i})):e}function V(e,t){if(void 0===t&&(t="id"),Array.isArray(e)&&e.length>0){for(var i=[],r=new Map,n=0,o=e;n<o.length;n++){var s=o[n];r.has(s[t])||(r.set(s[t],!0),i.push({id:s[t],name:s.name}))}return i}return e}}).call(this,i("EVdn"))},jvgt:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i("v8Uj"),n=i("4Y7a"),o={date:Object(n.a)(r.e.date),dateIso:Object(n.a)(r.e.dateIso),dateUtc:Object(n.a)(r.e.dateUtc),dateTime:Object(n.a)(r.e.dateTime),dateTimeIso:Object(n.a)(r.e.dateTimeIso),dateTimeIsoAmPm:Object(n.a)(r.e.dateTimeIsoAmPm),dateTimeIsoAM_PM:Object(n.a)(r.e.dateTimeIsoAM_PM),dateTimeShortIso:Object(n.a)(r.e.dateTimeShortIso),dateEuro:Object(n.a)(r.e.dateEuro),dateEuroShort:Object(n.a)(r.e.dateEuroShort),dateTimeShortEuro:Object(n.a)(r.e.dateTimeShortEuro),dateTimeEuro:Object(n.a)(r.e.dateTimeEuro),dateTimeEuroAmPm:Object(n.a)(r.e.dateTimeEuroAmPm),dateTimeEuroAM_PM:Object(n.a)(r.e.dateTimeEuroAM_PM),dateTimeEuroShort:Object(n.a)(r.e.dateTimeEuroShort),dateTimeEuroShortAmPm:Object(n.a)(r.e.dateTimeEuroShortAmPm),dateTimeEuroShortAM_PM:Object(n.a)(r.e.dateTimeEuroShortAM_PM),dateUs:Object(n.a)(r.e.dateUs),dateUsShort:Object(n.a)(r.e.dateUsShort),dateTimeShortUs:Object(n.a)(r.e.dateTimeShortUs),dateTimeUs:Object(n.a)(r.e.dateTimeUs),dateTimeUsAmPm:Object(n.a)(r.e.dateTimeUsAmPm),dateTimeUsAM_PM:Object(n.a)(r.e.dateTimeUsAM_PM),dateTimeUsShort:Object(n.a)(r.e.dateTimeUsShort),dateTimeUsShortAmPm:Object(n.a)(r.e.dateTimeUsShortAmPm),dateTimeUsShortAM_PM:Object(n.a)(r.e.dateTimeUsShortAM_PM),numeric:function(e,t,i,r){var n=r&&r.valueCouldBeUndefined||!1,o=isNaN(e)||""===e||null===e||n&&void 0===e?-99e10:parseFloat(e),s=isNaN(t)||""===t||null===t||n&&void 0===t?-99e10:parseFloat(t);return i*(o===s?0:o>s?1:-1)},objectString:function(e,t,i,n){if(!n||!n.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');var o=e&&e.hasOwnProperty(n.dataKey)?e[n.dataKey]:e,s=t&&t.hasOwnProperty(n.dataKey)?t[n.dataKey]:t;null==i&&(i=r.l.neutral);return i*("object"!=typeof e?-99e10:"object"!=typeof t?99e10:o?s?o===s?0:i?o<s?-1:1:o<s?1:-1:1:-1)},string:function(e,t,i,n){null==i&&(i=r.l.neutral);var o=n&&n.valueCouldBeUndefined||!1;return i*(e===t?0:null===e||o&&void 0===e?-1:null===t||o&&void 0===t?1:i?e<t?-1:1:e<t?1:-1)}}},lBQj:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=i("aurelia-framework"),n=function(){return(n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=function(){function e(e,t,i){this.container=e,this.viewCompiler=t,this.viewResources=i}return e.prototype.createAureliaViewModelAddToSlot=function(e,t,i,o){void 0===o&&(o=!1);var s=this.viewCompiler.compile('<template><compose view-model.bind="template" view-model.ref="viewModelRef"></compose></template>',this.viewResources);if(i){o&&i.innerHTML&&(i.innerHTML="");var a=n(n({template:e||""},t),{viewModelRef:{}}),d=s.create(this.container);d.bind(a,Object(r.n)(a));var u=new r.j(i,!0);return u&&u.add&&u.add(d),{bindings:a,view:d,viewSlot:u}}return null},e.prototype.createAureliaViewAddToSlot=function(e,t,i){void 0===i&&(i=!1);var n=this.viewCompiler.compile('<template><compose view.bind="template" view-model.ref="viewModelRef"></compose></template>',this.viewResources);if(t){i&&t.innerHTML&&(t.innerHTML="");var o={template:e||"",viewModelRef:{}},s=n.create(this.container);s.bind(o,Object(r.n)(o));var a=new r.j(t,!0);return a&&a.add&&a.add(s),{bindings:o,view:s,viewSlot:a}}return null},e=o([Object(r.q)(!0),Object(r.o)(r.c,r.h,r.i)],e)}()},sfpN:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return _}));var r,n=i("aurelia-framework"),o=i("EVdn"),s=i("XaGS"),a=i("MGjh"),d=i("jxYj"),u=i("v8Uj"),l=i("/CJ3"),c=i("eyxJ"),h=i("wESz"),p=i("IlDx"),g=function(){return(g=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},f=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},m=function(t,i,r,n){return new(r||(r=e))((function(e,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(t){var i;t.done?e(t.value):(i=t.value,i instanceof r?i:new r((function(e){e(i)}))).then(s,a)}d((n=n.apply(t,i||[])).next())}))},v=function(e,t){var i,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_=function(){function t(e,t,i){this.pluginEa=e,this.filterFactory=t,this.sharedService=i,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._onSearchChange=new Slick.Event,this._eventHandler=new Slick.EventHandler}return Object.defineProperty(t.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFilterFirstRender",{get:function(){return this._isFilterFirstRender},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSearchChange",{get:function(){return this._onSearchChange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_gridOptions",{get:function(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_dataView",{get:function(){return this._grid&&this._grid.getData?this._grid.getData():{}},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._grid=e,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])},t.prototype.dispose=function(){this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.disposeColumnFilters(),this._onSearchChange=null},t.prototype.disposeColumnFilters=function(){this.resetColumnFilters(),Array.isArray(this._filtersMetadata)&&this._filtersMetadata.forEach((function(e){e&&e.destroy&&e.destroy(!0)}))},t.prototype.resetColumnFilters=function(){if("object"==typeof this._columnFilters)for(var e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e]},t.prototype.bindBackendOnFilter=function(e){var t=this;this._filtersMetadata=[],this._eventHandler.subscribe(e.onHeaderRowCellRendered,(function(e,i){i.column.id===t._firstColumnIdRendered&&(t._isFilterFirstRender=!1),t.addFilterTemplateToHeaderRow(i,t._isFilterFirstRender),""===t._firstColumnIdRendered&&(t._firstColumnIdRendered=i.column.id)})),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,this.onBackendFilterChange.bind(this))},t.prototype.bindLocalOnFilter=function(e){var t=this;this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,(function(e,i){(t._gridOptions&&t._gridOptions.enableTreeData||!1)&&(t._tmpPreFilteredData=t.preFilterTreeData(t._dataView.getItems(),t._columnFilters)),null!==i.columnId&&t._dataView.refresh(),i&&!i.clearFilterTriggered&&t.emitFilterChanged(u.c.local)})),this._eventHandler.subscribe(e.onHeaderRowCellRendered,(function(e,i){t.addFilterTemplateToHeaderRow(i)}))},t.prototype.clearFilterByColumnId=function(e,t){var i,r=Object.keys(this._columnFilters);Array.isArray(r)&&(i=r.find((function(e){return e===t})));var n=this._filtersMetadata.find((function(e){return e.columnDef.id===t}));n&&n.clear&&n.clear(!0);var o=u.c.local;(this._gridOptions&&this._gridOptions.backendServiceApi||!1)&&(o=u.c.remote,void 0!==i&&this.onBackendFilterChange(e,{grid:this._grid,columnFilters:this._columnFilters})),this.emitFilterChanged(o)},t.prototype.clearFilters=function(t){var i=this;void 0===t&&(t=!0),this._filtersMetadata.forEach((function(e){e&&e.clear&&e.clear(!1)})),this.resetColumnFilters(),this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate());var r=this._gridOptions&&this._gridOptions.backendServiceApi;if(r&&t){var n={clearFilterTriggered:!0,shouldTriggerQuery:t,grid:this._grid,columnFilters:this._columnFilters},o=r.service.processOnFilterChanged(void 0,n);if(o instanceof e&&o.then)console.warn('[Aurelia-Slickgrid] please note that the "processOnFilterChanged" from your Backend Service, should now return a string instead of a Promise.\n          Returning a Promise will be deprecated in the future.'),o.then((function(e){var t=i._gridOptions&&i._gridOptions.pagination&&i._gridOptions.pagination.totalItems||0;Object(l.a)(r,e,n,new Date,t,i.emitFilterChanged.bind(i))}));else{var s=o,a=this._gridOptions&&this._gridOptions.pagination&&this._gridOptions.pagination.totalItems||0;Object(l.a)(r,s,n,new Date,a,this.emitFilterChanged.bind(this))}}t&&this.pluginEa.publish("filterService:filterCleared",!0)},t.prototype.customLocalFilter=function(e,t){var i,r=t&&t.dataView,n=t&&t.grid,o=this._gridOptions&&this._gridOptions.enableTreeData||!1,s=t&&t.columnFilters||{};if(o&&this._gridOptions&&this._gridOptions.treeDataOptions){var d=(i=this._gridOptions.treeDataOptions).collapsedPropName||"__collapsed",u=i.parentPropName||"__parentId",l=this._gridOptions.datasetIdPropertyName||"id";if(null!==e[u])for(var c=this._dataView.getItemById(e[u]);c;){if(c[d])return!1;c=this._dataView.getItemById(c[u])}if(Array.isArray(this._tmpPreFilteredData))return this._tmpPreFilteredData.includes(e[l])}else if("object"==typeof s)for(var h=0,p=Object.keys(s);h<p.length;h++){var g=p[h],f=s[g],m=this.getFilterConditionOptionsOrBoolean(e,f,g,n,r);if("boolean"==typeof m)return m;if(!a.a.executeMappedCondition(m))return!1}return!0},t.prototype.getFilterConditionOptionsOrBoolean=function(e,t,i,r,n){var s=r.getColumnIndex(i),a=r.getColumns()[s];if(!a&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(s=this.sharedService.allColumns.findIndex((function(e){return e.field===i})),a=this.sharedService.allColumns[s]),!a)return!0;if(this._gridOptions.enableRowDetailView){var d=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";e[d+"isPadding"]&&e[d+"parent"]&&(e=e[d+"parent"])}var l=a.dataKey,h=a.filter&&a.filter.queryField||a.queryFieldFilter||a.queryField||a.field||"";"function"==typeof a.queryFieldNameGetterFn&&(h=a.queryFieldNameGetterFn(e));var p=a.filter&&a.filter.type||a.type||u.e.string,g=a.filterSearchType?a.filterSearchType:null,f=e[h];h&&h.indexOf(".")>=0&&(f=Object(c.o)(e,h));var m=t&&t.searchTerms?o.extend(!0,[],t.searchTerms):[],v=Array.isArray(m)&&1===m.length?m[0]:"",_=null;p!==u.e.object&&(_=(v=""+v).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/));var y=t.operator||(_?_[1]:""),b=_?_[2]:"",S=_?_[3]:"*z"===y?"*":"";if(m&&m.length>1?v=m.join(","):"string"==typeof v&&(v=v.replace("'","''"),"*"!==y&&"a*"!==y&&"*z"!==y&&"*"!==S||(y="*"===y||"*z"===y?u.j.endsWith:u.j.startsWith)),""===b&&(!m||Array.isArray(m)&&(0===m.length||1===m.length&&y===m[0])))return!0;if(Array.isArray(_)&&_.length>=1&&Array.isArray(m)&&1===m.length&&(m[0]=b),m&&Array.isArray(m)&&p!==u.e.object)for(var O=0,w=m.length;O<w;O++)m[O]=(void 0===m[O]||null===m[O]?"":m[O])+"";if(a&&a.params&&a.params.useFormatterOuputToFilter){var C=this._gridOptions.datasetIdPropertyName||"id",E=n&&"function"==typeof n.getIdxById?n.getIdxById(e[C]):0;f=a&&"function"==typeof a.formatter?a.formatter(E,s,f,a,e,this._grid):""}return"number"==typeof f&&(f=f.toString()),{dataKey:l,fieldType:p,searchTerms:m,cellValue:f,operator:y,cellValueLastChar:S,filterSearchType:g}},t.prototype.preFilterTreeData=function(e,t){var i=this._gridOptions&&this._gridOptions.treeDataOptions,r=i&&i.parentPropName||"__parentId",n=this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id",o={},s=[];if(Array.isArray(e)){for(var d=0;d<e.length;d++)o[e[d][n]]=e[d],delete o[e[d][n]].__used;for(d=0;d<e.length;d++){for(var u=e[d],l=!0,c=0,h=Object.keys(t);c<h.length;c++){var p=h[c],g=t[p],f=this.getFilterConditionOptionsOrBoolean(u,g,p,this._grid,this._dataView);if(f)if("boolean"==typeof f?f:a.a.executeMappedCondition(f))continue;l=!1}if(l){var m=s.length;s.splice(m,0,u[n]);for(var v=o[u[r]]||!1;v;)v.__used||s.splice(m,0,v[n]),o[v[n]].__used=!0,v=o[v[r]]||!1}}}return s},t.prototype.getColumnFilters=function(){return this._columnFilters},t.prototype.getFiltersMetadata=function(){return this._filtersMetadata},t.prototype.getCurrentLocalFilters=function(){var e=[];if(this._columnFilters)for(var t=0,i=Object.keys(this._columnFilters);t<i.length;t++){var r=i[t],n=this._columnFilters[r],o={columnId:r||""};n&&n.searchTerms&&(o.searchTerms=n.searchTerms),n.operator&&(o.operator=n.operator),Array.isArray(o.searchTerms)&&o.searchTerms.length>0&&""!==o.searchTerms[0]&&e.push(o)}return e},t.prototype.emitFilterChanged=function(e){if(e===u.c.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){var t=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentFilters&&(t=i.getCurrentFilters()),this.pluginEa.publish("filterService:filterChanged",t)}else e===u.c.local&&this.pluginEa.publish("filterService:filterChanged",this.getCurrentLocalFilters())},t.prototype.onBackendFilterChange=function(e,t){return m(this,void 0,void 0,(function(){var i,n,o,s,a,d,c,h,p=this;return v(this,(function(g){switch(g.label){case 0:if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');if(!(i=this._gridOptions.backendServiceApi)||!i.process||!i.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');return n=new Date,i.preProcess&&i.preProcess(),o=0,s=t&&t.clearFilterTriggered,a=e&&e.type,d=e&&e.keyCode,s||d===u.i.ENTER||"input"!==a&&"keyup"!==a&&"keydown"!==a||(o=i.hasOwnProperty("filterTypingDebounce")?i.filterTypingDebounce:500),t&&t.shouldTriggerQuery?o>0?(clearTimeout(r),r=setTimeout((function(){return m(p,void 0,void 0,(function(){var r,o;return v(this,(function(s){switch(s.label){case 0:return[4,i.service.processOnFilterChanged(e,t)];case 1:return r=s.sent(),o=this._gridOptions&&this._gridOptions.pagination&&this._gridOptions.pagination.totalItems||0,Object(l.a)(i,r,t,n,o,this.emitFilterChanged.bind(this)),[2]}}))}))}),o),[3,3]):[3,1]:[3,3];case 1:return[4,i.service.processOnFilterChanged(e,t)];case 2:c=g.sent(),h=this._gridOptions&&this._gridOptions.pagination&&this._gridOptions.pagination.totalItems||0,Object(l.a)(i,c,t,n,h,this.emitFilterChanged.bind(this)),g.label=3;case 3:return[2]}}))}))},t.prototype.populateColumnFilterSearchTermPresets=function(e){return Array.isArray(e)&&e.length>0&&(this._columnDefinitions.forEach((function(t){t.filter&&t.filter.searchTerms&&delete t.filter.searchTerms;var i=e.find((function(e){return e.columnId===t.id}));i&&i.searchTerms&&Array.isArray(i.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=i.operator||t.filter.operator||"",t.filter.searchTerms=i.searchTerms)})),this.refreshTreeDataFilters()),this._columnDefinitions},t.prototype.refreshTreeDataFilters=function(){this._dataView&&this._dataView.getItems&&this._gridOptions&&this._gridOptions.enableTreeData&&(this._tmpPreFilteredData=this.preFilterTreeData(this._dataView.getItems(),this._columnFilters),this._dataView.refresh())},t.prototype.disableFilterFunctionality=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=!this._gridOptions.enableFiltering;i!==e&&(t&&e&&this.clearFilters(),this.disableAllFilteringCommands(e),this._grid.setOptions({enableFiltering:i},!1,!0),this._grid.setHeaderRowVisibility(i),this._gridOptions.enableFiltering=!e,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))},t.prototype.toggleFilterFunctionality=function(e){void 0===e&&(e=!0);var t=this._gridOptions.enableFiltering;this.disableFilterFunctionality(t,e)},t.prototype.toggleHeaderFilterRow=function(){var e=this._gridOptions&&this._gridOptions.showHeaderRow||!1;e=!e,this._grid.setHeaderRowVisibility(e),!0===e&&this._grid.setColumns(this.sharedService.columnDefinitions)},t.prototype.setSortColumnIcons=function(e){this._grid&&Array.isArray(e)&&this._grid.setSortColumns(e)},t.prototype.updateFilters=function(e,t,i,r){var n=this;if(void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===r&&(r=!1),!this._filtersMetadata||0===this._filtersMetadata.length||!this._gridOptions||!this._gridOptions.enableFiltering)throw new Error('[Aurelia-Slickgrid] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(e)){this.clearFilters(!1),e.forEach((function(e){var t=n._filtersMetadata.find((function(t){return e.columnId===t.columnDef.id}));if(e&&t){var i=e.operator||t.defaultOperator;n.updateColumnFilters(e.searchTerms,t.columnDef,i),t.setValues(e.searchTerms,i),r&&n.callbackSearchEvent(null,{columnDef:t.columnDef,operator:i,searchTerms:e.searchTerms,shouldTriggerQuery:!0})}}));var o=this._gridOptions&&this._gridOptions.backendServiceApi;if(this._dataView.refresh(),o){var s=o&&o.service;s&&s.updateFilters&&(s.updateFilters(e,!0),i&&Object(l.d)(this._gridOptions))}if(t){var a=o?u.c.remote:u.c.local;this.emitFilterChanged(a)}}},t.prototype.addFilterTemplateToHeaderRow=function(e,t){void 0===t&&(t=!0);var i=e.column,r=i&&i.id||"";if(i&&"selector"!==r&&i.filterable){var n=void 0,o=void 0,s=this.filterFactory.createFilter(i.filter);o=i&&i.filter&&i.filter.operator||s&&s.operator,this._columnFilters[i.id]?(n=this._columnFilters[i.id].searchTerms||void 0,o=this._columnFilters[i.id].operator||void 0):i.filter&&(n=i.filter.searchTerms||void 0,this.updateColumnFilters(n,i,o));var a={grid:this._grid,operator:o,searchTerms:n,columnDef:i,callback:this.callbackSearchEvent.bind(this)};if(s){s.init(a,t);var d=this._filtersMetadata.findIndex((function(e){return s.columnDef.id===e.columnDef.id}));-1===d?this._filtersMetadata.push(s):this._filtersMetadata[d]=s,n&&s.setValues&&s.setValues(n)}}},t.prototype.callbackSearchEvent=function(e,t){if(t){var i=e&&e.target?e.target.value:void 0,r=t.searchTerms&&Array.isArray(t.searchTerms)?t.searchTerms:i?[i]:void 0,n=t.columnDef||null,a=n&&n.id||"",d=t.operator||void 0,l=r&&Array.isArray(r),c=l&&r&&r.length,h=g({},this._columnFilters);if(n&&a)if(!l||0===c||1===c&&Array.isArray(r)&&""===r[0])delete this._columnFilters[a];else{var p=""+a,f={columnId:p,columnDef:n,searchTerms:r};d&&(f.operator=d),this._columnFilters[p]=f}var m=e&&"function"!=typeof e.isPropagationStopped?o.extend({},new Slick.EventData,e):e,v=e&&e.key,_=e&&e.keyCode;!this._onSearchChange||"Enter"!==v&&_!==u.i.ENTER&&s(h,this._columnFilters)||this._onSearchChange.notify({clearFilterTriggered:t.clearFilterTriggered,shouldTriggerQuery:t.shouldTriggerQuery,columnId:a,columnDef:n,columnFilters:this._columnFilters,operator:d,searchTerms:r,grid:this._grid},m)}},t.prototype.disableAllFilteringCommands=function(e){void 0===e&&(e=!0);var t=this._grid.getColumns();return t.forEach((function(t){t&&t.header&&t.header.menu&&t.header.menu.items.forEach((function(t){t&&"string"!=typeof t&&("clear-filter"===t.command&&(t.hidden=e))}))})),this._gridOptions&&this._gridOptions.gridMenu&&this._gridOptions.gridMenu.customItems&&this._gridOptions.gridMenu.customItems.forEach((function(t){if(t&&"string"!=typeof t){var i=t.command;"clear-filter"!==i&&"toggle-filter"!==i||(t.hidden=e)}})),t},t.prototype.updateColumnFilters=function(e,t,i){e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i})},t=f([Object(n.q)(!0),Object(n.o)(p.a,d.a,h.a)],t)}()}).call(this,i("CW7D"))},t7Lt:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("Gc69"),n=function(){this.options=r.a}},v8Uj:function(e,t,i){"use strict";var r,n,o,s,a,d,u,l,c,h,p,g;i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return c})),i.d(t,"j",(function(){return h})),i.d(t,"k",(function(){return p})),i.d(t,"l",(function(){return g})),function(e){e[e.camelCase=0]="camelCase",e[e.pascalCase=1]="pascalCase",e[e.snakeCase=2]="snakeCase",e[e.kebabCase=3]="kebabCase"}(r||(r={})),function(e){e.colon=":",e.comma=",",e.equalSign="=",e.pipe="|",e.semicolon=";",e.space=" ",e.tab="\t",e.doubleColon="::",e.doublePipe="||",e.doubleSemicolon=";;"}(n||(n={})),function(e){e.local="local",e.remote="remote"}(o||(o={})),function(e){e.autoTooltip="autoTooltip",e.cellExternalCopyManager="cellExternalCopyManager",e.cellMenu="cellMenu",e.checkboxSelector="checkboxSelector",e.columnPicker="columnPicker",e.contextMenu="contextMenu",e.draggableGrouping="draggableGrouping",e.groupItemMetaProvider="groupItemMetaProvider",e.gridMenu="gridMenu",e.headerButton="headerButton",e.headerMenu="headerMenu",e.noname="noname",e.rowDetailView="rowDetailView",e.rowMoveManager="rowMoveManager",e.rowSelection="rowSelection"}(s||(s={})),function(e){e.unknown="unknown",e.string="string",e.boolean="boolean",e.integer="integer",e.float="float",e.number="number",e.date="date",e.dateIso="dateIso",e.dateUtc="dateUtc",e.dateTime="dateTime",e.dateTimeIso="dateTimeIso",e.dateTimeIsoAmPm="dateTimeIsoAmPm",e.dateTimeIsoAM_PM="dateTimeIsoAM_PM",e.dateTimeShortIso="dateTimeShortIso",e.dateEuro="dateEuro",e.dateEuroShort="dateEuroShort",e.dateTimeShortEuro="dateTimeShortEuro",e.dateTimeEuro="dateTimeEuro",e.dateTimeEuroAmPm="dateTimeEuroAmPm",e.dateTimeEuroAM_PM="dateTimeEuroAM_PM",e.dateTimeEuroShort="dateTimeEuroShort",e.dateTimeEuroShortAmPm="dateTimeEuroShortAmPm",e.dateTimeEuroShortAM_PM="dateTimeEuroShortAM_PM",e.dateUs="dateUs",e.dateUsShort="dateUsShort",e.dateTimeShortUs="dateTimeShortUs",e.dateTimeUs="dateTimeUs",e.dateTimeUsAmPm="dateTimeUsAmPm",e.dateTimeUsAM_PM="dateTimeUsAM_PM",e.dateTimeUsShort="dateTimeUsShort",e.dateTimeUsShortAmPm="dateTimeUsShortAmPm",e.dateTimeUsShortAM_PM="dateTimeUsShortAM_PM",e.object="object",e.password="password",e.text="text",e.readonly="readonly"}(a||(a={})),function(e){e.csv="csv",e.txt="txt",e.xls="xls",e.xlsx="xlsx"}(d||(d={})),function(e){e.merge="merge",e.chain="chain"}(u||(u={})),function(e){e.columns="columns",e.filter="filter",e.pagination="pagination",e.rowSelection="rowSelection",e.sorter="sorter"}(l||(l={})),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.DELETE=46]="DELETE",e[e.DOWN=40]="DOWN",e[e.END=35]="END",e[e.ENTER=13]="ENTER",e[e.ESCAPE=27]="ESCAPE",e[e.HOME=36]="HOME",e[e.INSERT=45]="INSERT",e[e.LEFT=37]="LEFT",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.PAGE_UP=33]="PAGE_UP",e[e.RIGHT=39]="RIGHT",e[e.TAB=9]="TAB",e[e.UP=38]="UP",e[e.SPACE=32]="SPACE"}(c||(c={})),function(e){e.empty="",e.contains="Contains",e.notContains="Not_Contains",e.lessThan="LT",e.lessThanOrEqual="LE",e.greaterThan="GT",e.greaterThanOrEqual="GE",e.notEqual="NE",e.equal="EQ",e.endsWith="EndsWith",e.rangeInclusive="RangeInclusive",e.rangeExclusive="RangeExclusive",e.startsWith="StartsWith",e.in="IN",e.notIn="NOT_IN",e.inContains="IN_CONTAINS",e.notInContains="NOT_IN_CONTAINS"}(h||(h={})),function(e){e.asc="asc",e.ASC="ASC",e.desc="desc",e.DESC="DESC"}(p||(p={})),function(e){e[e.asc=1]="asc",e[e.desc=-1]="desc",e[e.neutral=0]="neutral"}(g||(g={}))},wESz:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var r=i("aurelia-framework"),n=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},o=function(){function e(){this._hideHeaderRowAfterPageLoad=!1}return Object.defineProperty(e.prototype,"allColumns",{get:function(){return this._allColumns},set:function(e){this._allColumns=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnDefinitions",{get:function(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPagination",{get:function(){return this._currentPagination},set:function(e){this._currentPagination=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._dataView=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frozenVisibleColumnId",{get:function(){return this._frozenVisibleColumnId},set:function(e){this._frozenVisibleColumnId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._grid},set:function(e){this._grid=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridOptions",{get:function(){return this._gridOptions||this._grid&&this._grid.getOptions&&this._grid.getOptions()||{}},set:function(e){this._gridOptions=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupItemMetadataProvider",{get:function(){return this._groupItemMetadataProvider},set:function(e){this._groupItemMetadataProvider=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideHeaderRowAfterPageLoad",{get:function(){return this._hideHeaderRowAfterPageLoad},set:function(e){this._hideHeaderRowAfterPageLoad=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this._visibleColumns},set:function(e){this._visibleColumns=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hierarchicalDataset",{get:function(){return this._hierarchicalDataset},set:function(e){this._hierarchicalDataset=e},enumerable:!1,configurable:!0}),e=n([Object(r.q)(!0)],e)}()},wI58:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i("aurelia-framework"),n=i("aurelia-i18n"),o=i("v8Uj"),s=i("LHoW"),a=i("eyxJ"),d=function(e,t,i,r){var n,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},u=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)r[n]=o[s];return r},l=function(){function e(e){this.i18n=e}return e.prototype.filterCollection=function(e,t,i){void 0===i&&(i=o.g.chain);var r=[];if(Array.isArray(t)){r=i===o.g.merge?[]:u(e);for(var n=0,s=t;n<s.length;n++){var d=s[n];if(i===o.g.merge){var l=this.singleFilterCollection(e,d);r=Object(a.J)(u(r,l))}else r=this.singleFilterCollection(r,d)}}else r=this.singleFilterCollection(e,t);return r},e.prototype.singleFilterCollection=function(e,t){var i=[];if(t){var r=t.property,n=t.operator||o.j.equal,s=void 0===t.value?"":t.value;switch(n){case o.j.equal:i=r?e.filter((function(e){return e[r]===s})):e.filter((function(e){return e===s}));break;case o.j.contains:i=r?e.filter((function(e){return-1!==e[r].toString().indexOf(s.toString())})):e.filter((function(e){return null!=e&&-1!==e.toString().indexOf(s.toString())}));break;case o.j.notContains:i=r?e.filter((function(e){return-1===e[r].toString().indexOf(s.toString())})):e.filter((function(e){return null!=e&&-1===e.toString().indexOf(s.toString())}));break;case o.j.notEqual:default:i=r?e.filter((function(e){return e[r]!==s})):e.filter((function(e){return e!==s}))}}return i},e.prototype.sortCollection=function(e,t,i,r){var n=this;if(r&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');var a=[];if(i)if(Array.isArray(i))a=t.sort((function(t,a){for(var d=0,u=i.length;d<u;d++){var l=i[d];if(l&&l.property){var c=l.sortDesc?o.l.desc:o.l.asc,h=l.property,p=l.fieldType||o.e.string,g=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(t[h]||" "):t[h],f=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(a[h]||" "):a[h],m=Object(s.a)(p,g,f,c,e);if(m!==o.l.neutral)return m}}return o.l.neutral}));else if(i&&i.property){var d=i.property,u=i.sortDesc?o.l.desc:o.l.asc,l=i.fieldType||o.e.string;a=t.sort((function(t,i){var a=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(t[d]||" "):t[d],c=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(i[d]||" "):i[d],h=Object(s.a)(l,a,c,u,e);return h!==o.l.neutral?h:o.l.neutral}))}else if(i&&!i.property){var c=i.sortDesc?o.l.desc:o.l.asc,h=i.fieldType||o.e.string;a=t.sort((function(t,i){var a=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(t||" "):t,d=r?n.i18n&&n.i18n.tr&&n.i18n.getLocale&&n.i18n.getLocale()&&n.i18n.tr(i||" "):i,u=Object(s.a)(h,a,d,c,e);return u!==o.l.neutral?u:o.l.neutral}))}return a},e=d([Object(r.q)(!0),Object(r.o)(r.g.of(n.I18N))],e)}()}}]);
//# sourceMappingURL=vendors~7416e184.883d717f92105a4e9cac.bundle.map