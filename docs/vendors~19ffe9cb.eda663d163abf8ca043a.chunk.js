(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{IlDx:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){}},"aurelia-slickgrid/custom-elements/aurelia-slickgrid":function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"AureliaSlickgridCustomElement",(function(){return y}));var n=i("+2Rf"),r=(i("W1Kk"),i("7TqN"),i("8vwt"),i("fXKB"),i("cKLe"),i("Oj9s"),i("aurelia-framework")),o=i("aurelia-event-aggregator"),a=i("70NS"),s=i("aurelia-i18n"),l=i("dbac"),u=i("Gc69"),c=i("v8Uj"),h=i("H9V8"),d=i("/CJ3"),p=i("Cff2"),f=i("wESz"),m=i("IlDx"),g=function(){return(g=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},v=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},y=function(){function e(t,e,i,n,r,o,a,s,l,u,c,h,d,p,f,m,g,v,y,b){this.bindingEngine=t,this.container=e,this.elm=i,this.globalEa=n,this.pluginEa=r,this.excelExportService=o,this.exportService=a,this.extensionService=s,this.extensionUtility=l,this.filterService=u,this.gridEventService=c,this.gridService=h,this.gridStateService=d,this.groupingAndColspanService=p,this.i18n=f,this.paginationService=m,this.resizerService=g,this.sharedService=v,this.sortService=y,this.treeDataService=b,this._columnDefinitions=[],this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this._isGridInitialized=!1,this._isDatasetInitialized=!1,this._isPaginationInitialized=!1,this._isLocalGrid=!0,this.showCustomFooter=!1,this.showPagination=!1,this.serviceList=[],this.subscriptions=[],this.columnDefinitions=[],this.serviceList=[a,s,u,c,h,d,p,m,g,y,b]}return Object.defineProperty(e.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),e.prototype.attached=function(){this.initialization(),this._isGridInitialized=!0},e.prototype.initialization=function(){var t=this;if(this.dispatchCustomEvent("asg-on-before-grid-create"),this.globalEa.publish("onBeforeGridCreate",!0),this._dataset=this._dataset||this.dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this.paginationOptions=this.gridOptions&&this.gridOptions.pagination,this.locales=this.gridOptions&&this.gridOptions.locales||l.a.locales,this.backendServiceApi=this.gridOptions&&this.gridOptions.backendServiceApi,this._isLocalGrid=!this.backendServiceApi,this.createBackendApiInternalPostProcessCallback(this.gridOptions),this.customDataView||(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping?(this.extensionUtility.loadExtensionDynamically(c.ExtensionName.groupItemMetaProvider),this.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,this.dataview=new Slick.Data.DataView({groupItemMetadataProvider:this.groupItemMetadataProvider})):this.dataview=new Slick.Data.DataView,this.globalEa.publish("onDataviewCreated",this.dataview),this.dispatchCustomEvent("asg-on-dataview-created",this.dataview)),this._columnDefinitions=this.swapInternalEditorToSlickGridFactoryEditor(this._columnDefinitions),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.grid=new Slick.Grid("#"+this.gridId,this.customDataView||this.dataview,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this.dataview,this.sharedService.grid=this.grid,this.extensionService.bindDifferentExtensions(),this.bindDifferentHooks(this.grid,this.gridOptions,this.dataview),this.grid.init(),!this.customDataView&&this.dataview&&this.dataview.beginUpdate&&this.dataview.setItems&&this.dataview.endUpdate){if(this.dataview.beginUpdate(),this.dataview.setItems(this._dataset,this.gridOptions.datasetIdPropertyName),this.dataview.endUpdate(),this.grid&&this.grid.getSelectionModel()&&this.gridOptions&&this.gridOptions.dataView&&this.gridOptions.dataView.hasOwnProperty("syncGridSelection")){var e=!1;this.gridOptions.backendServiceApi&&this.gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(e=this.gridOptions.dataView.syncGridSelectionWithBackendService);var i=this.gridOptions.dataView.syncGridSelection;if("boolean"==typeof i){var n=i;this._isLocalGrid||(n=i&&e),this.dataview.syncGridSelection(this.grid,n)}else"object"==typeof i&&this.dataview.syncGridSelection(this.grid,i.preserveHidden,i.preserveHiddenOnSelectionChange)}this._dataset.length>0&&(this._isDatasetInitialized||!this.gridOptions.enableCheckboxSelector&&!this.gridOptions.enableRowSelection||this.loadRowSelectionPresetWhenExists(),this.loadPresetsWhenDatasetInitialized(),this._isDatasetInitialized=!0)}this._hideHeaderRowAfterPageLoad&&(this.showHeaderRow(!1),this.sharedService.hideHeaderRowAfterPageLoad=this._hideHeaderRowAfterPageLoad),this.globalEa.publish("onGridCreated",this.grid),this.dispatchCustomEvent("asg-on-grid-created",this.grid),this.customDataView||this.executeAfterDataviewCreated(this.grid,this.gridOptions,this.dataview),this.bindResizeHook(this.grid,this.gridOptions),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this.groupingAndColspanService.init(this.grid,this.dataview),this.gridService.init(this.grid,this.dataview),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.gridOptions.enableExport&&this.exportService.init(this.grid,this.dataview),this.gridOptions.enableExcelExport&&this.excelExportService.init(this.grid,this.dataview),this.gridOptions.enableTreeData&&this.treeDataService.init(this.grid),this.gridOptions&&this.gridOptions.backendServiceApi&&this.bindBackendCallbackFunctions(this.gridOptions),this.gridStateService.init(this.grid,this.dataview);for(var r={dataView:this.dataview,slickGrid:this.grid,dispose:this.dispose.bind(this),backendService:this.gridOptions&&this.gridOptions.backendServiceApi&&this.gridOptions.backendServiceApi.service,excelExportService:this.excelExportService,exportService:this.exportService,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingAndColspanService,extensionService:this.extensionService,paginationService:this.paginationService,pluginService:this.extensionService,resizerService:this.resizerService,sortService:this.sortService,treeDataService:this.treeDataService},o=function(e){e&&e.name&&e.alias&&a.subscriptions.push(a.pluginEa.subscribe(e.name,(function(i){return t.dispatchCustomEvent(e.alias,i)})))},a=this,s=0,u=l.a.exposedEvents;s<u.length;s++){o(u[s])}this.optionallyShowCustomFooterWithMetrics(),this.dispatchCustomEvent("asg-on-aurelia-grid-created",r)},e.prototype.detached=function(t){void 0===t&&(t=!1),this.globalEa.publish("onBeforeGridDestroy",this.grid),this.dispatchCustomEvent("asg-on-before-grid-destroy",this.grid),this.dataview=void 0,this._eventHandler.unsubscribeAll(),this.grid.destroy(),t&&this.destroyGridContainerElm(),this.globalEa.publish("onAfterGridDestroyed",!0),this.dispatchCustomEvent("asg-on-after-grid-destroyed",this.grid),this.serviceList.forEach((function(t){t&&t.dispose&&t.dispose()})),this.serviceList=[],this.subscriptions=Object(h.A)(this.subscriptions)},e.prototype.destroyGridContainerElm=function(){var t=this.gridOptions&&this.gridOptions.gridContainerId||"grid1";n(t).empty()},e.prototype.dispose=function(t){void 0===t&&(t=!1),this.detached(t)},e.prototype.bind=function(){if(this._fixedHeight=this.gridHeight?+this.gridHeight:null,this._fixedWidth=this.gridWidth?+this.gridWidth:null,this.gridOptions=g(g({},u.a),this.gridOptions),this._columnDefinitions=this.columnDefinitions,!this._fixedHeight&&!this.gridOptions.enableAutoResize)throw new Error('[Aurelia-Slickgrid] requires a "grid-height" or the "enableAutoResize" grid option to be enabled.Without that the grid will seem empty while in fact it just does not have any height define.');this.subscriptions.push(this.bindingEngine.collectionObserver(this.columnDefinitions).subscribe(this.columnDefinitionsChanged.bind(this)))},e.prototype.columnDefinitionsChanged=function(){this._columnDefinitions=this.columnDefinitions,this._isGridInitialized&&this.updateColumnDefinitionsList(this.columnDefinitions)},e.prototype.commitEdit=function(t){var e=this;if(this.grid.getOptions().autoCommitEdit){var i=this.grid.getActiveCellNode();setTimeout((function(){i&&i.contains(t)&&e.grid.getEditorLock().isActive()&&e.grid.getEditorLock().commitCurrentEdit()}))}},e.prototype.datasetChanged=function(t,e){this._dataset=t,this.refreshGridData(t),this.gridOptions.autoFitColumnsOnFirstLoad&&(!e||e.length<1)&&this.grid.autosizeColumns()},e.prototype.datasetHierarchicalChanged=function(t){this.sharedService.hierarchicalDataset=t,this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.processTreeDataInitialSort&&this.gridOptions&&this.gridOptions.enableTreeData&&(this.dataview.setItems([],this.gridOptions.datasetIdPropertyName),this.sortService.processTreeDataInitialSort())},e.prototype.createBackendApiInternalPostProcessCallback=function(t){var e=this,i=t&&t.backendServiceApi;if(i&&i.service){var n=i.service;(n instanceof h.g||"function"==typeof n.getDatasetName)&&(i.internalPostProcess=function(t){e._dataset=[];var r=i&&n&&"function"==typeof n.getDatasetName?n.getDatasetName():"";if(t&&t.data&&t.data[r]){e._dataset=t.data[r].hasOwnProperty("nodes")?t.data[r].nodes:t.data[r];var o=t.data[r].hasOwnProperty("totalCount")?t.data[r].totalCount:t.data[r].length;e.refreshGridData(e._dataset,o||0)}})}},e.prototype.bindDifferentHooks=function(t,e,i){var n=this;if(e.enableTranslate&&(this.translateColumnHeaderTitleKeys(),this.translateColumnGroupKeys(),this.translateCustomFooterTexts()),this.subscriptions.push(this.globalEa.subscribe("i18n:locale:changed",(function(){e.enableTranslate&&(n.extensionService.translateCellMenu(),n.extensionService.translateColumnHeaders(),n.extensionService.translateColumnPicker(),n.extensionService.translateContextMenu(),n.extensionService.translateGridMenu(),n.extensionService.translateHeaderMenu(),n.translateCustomFooterTexts(),n.translateColumnHeaderTitleKeys(),n.translateColumnGroupKeys(),e.createPreHeaderPanel&&!e.enableDraggableGrouping&&n.groupingAndColspanService.translateGroupingAndColSpan())}))),this.customDataView||(e.enableSorting&&(e.backendServiceApi&&!e.backendServiceApi.useLocalSorting?this.sortService.bindBackendOnSort(t):this.sortService.bindLocalOnSort(t)),e.enableFiltering&&(this.filterService.init(t),e.backendServiceApi&&!e.backendServiceApi.useLocalFiltering?this.filterService.bindBackendOnFilter(t):this.filterService.bindLocalOnFilter(t)),this.loadPresetsWhenDatasetInitialized()),e.backendServiceApi){var r=e.backendServiceApi;r&&r.service&&r.service.init&&r.service.init(r.options,e.pagination,this.grid)}var o=function(e){t.hasOwnProperty(e)&&e.startsWith("on")&&a._eventHandler.subscribe(t[e],(function(t,i){return n.dispatchCustomEvent("sg-"+Object(h.bb)(e),{eventData:t,args:i})}))},a=this;for(var s in t)o(s);var l=function(t){i.hasOwnProperty(t)&&t.startsWith("on")&&u._eventHandler.subscribe(i[t],(function(e,i){return n.dispatchCustomEvent("sg-"+Object(h.bb)(t),{eventData:e,args:i})}))},u=this;for(var s in i)l(s);if(this.gridEventService.bindOnCellChange(t,i),this.gridEventService.bindOnClick(t,i),i&&t){if(this._eventHandler.subscribe(i.onRowCountChanged,(function(e,i){t.invalidate(),n.metrics={startTime:new Date,endTime:new Date,itemCount:i&&i.current||0,totalItemCount:Array.isArray(n._dataset)?n._dataset.length:0}})),this.gridOptions&&this.gridOptions.enableTreeData&&(!this.gridOptions.treeDataOptions||!this.gridOptions.treeDataOptions.columnId))throw new Error('[Aurelia-Slickgrid] When enabling tree data, you must also provide the "treeDataOption" property in your Grid Options with "childrenPropName" or "parentPropName" (depending if your array is hierarchical or flat) for the Tree Data to work properly');this._eventHandler.subscribe(i.onRowsChanged,(function(i,r){if(n.gridOptions&&n.gridOptions.enableTreeData){var o=n.dataview.getItems();Array.isArray(o)&&o.length>0&&!n._isDatasetInitialized&&(n.sharedService.hierarchicalDataset=n.treeDataSortComparer(o))}e&&e.enableFiltering&&!e.enableRowDetailView&&r&&r.rows&&Array.isArray(r.rows)&&(r.rows.forEach((function(e){return t.updateRow(e)})),t.render())}))}e&&e.colspanCallback&&i&&i.getItem&&i.getItemMetadata&&(i.getItemMetadata=function(t){var n=null;return e.colspanCallback&&e.colspanCallback&&(n=e.colspanCallback(i.getItem(t))),n})},e.prototype.bindBackendCallbackFunctions=function(e){var i=this,n=e.backendServiceApi,r=n&&n.service,o=r&&r.options||{},a=!!o&&(!o||!o.hasOwnProperty("executeProcessCommandOnInit")||o.executeProcessCommandOnInit);if(r){if(e&&e.presets){if(r.updateFilters&&Array.isArray(e.presets.filters)&&e.presets.filters.length>0&&r.updateFilters(e.presets.filters,!0),r.updateSorters&&Array.isArray(e.presets.sorters)&&e.presets.sorters.length>0&&r.updateSorters(void 0,e.presets.sorters),r.updatePagination&&e.presets.pagination){var s=e.presets.pagination,l=s.pageNumber,u=s.pageSize;r.updatePagination(l,u)}}else{var c=this.filterService.getColumnFilters();c&&r.updateFilters&&r.updateFilters(c,!1)}if(n&&r&&(n.onInit||a)){var h="function"==typeof r.buildQuery?r.buildQuery():"",p=a?n.process&&n.process(h)||null:n.onInit&&n.onInit(h)||null;setTimeout((function(){var e=new Date;if(n.preProcess&&n.preProcess(),p instanceof t&&p.then){var r=i.gridOptions&&i.gridOptions.pagination&&i.gridOptions.pagination.totalItems||0;p.then((function(t){return Object(d.b)(e,t,n,r)})).catch((function(t){return Object(d.c)(t,n)}))}}))}}},e.prototype.bindResizeHook=function(t,e){t&&e.autoFitColumnsOnFirstLoad&&e.enableAutoSizeColumns&&"function"==typeof t.autosizeColumns&&this.grid.autosizeColumns(),this._fixedHeight||this._fixedWidth?this.resizerService.init(t,{height:this._fixedHeight,width:this._fixedWidth}):this.resizerService.init(t),t&&e&&e.enableAutoResize&&(this.resizerService.bindAutoResizeDataGrid(),e.autoFitColumnsOnFirstLoad&&e.enableAutoSizeColumns&&"function"==typeof t.autosizeColumns&&t.autosizeColumns())},e.prototype.executeAfterDataviewCreated=function(t,e,i){e.enableSorting&&e.presets&&Array.isArray(e.presets.sorters)&&e.presets.sorters.length>0&&this.sortService.loadGridSorters(e.presets.sorters)},e.prototype.mergeGridOptions=function(t){t.gridId=this.gridId,t.gridContainerId="slickGridContainer-"+this.gridId,t.enablePagination=!(!t.backendServiceApi||void 0!==t.enablePagination)||t.enablePagination||!1;var e=n.extend(!0,{},u.a,t);return e&&e.pagination&&(t.enablePagination||t.backendServiceApi)&&t.pagination&&Array.isArray(t.pagination.pageSizes)&&(e.pagination.pageSizes=t.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=!1===e.showHeaderRow,e.enableFiltering&&!e.showHeaderRow&&(e.showHeaderRow=e.enableFiltering),!e.enableFiltering&&e.enablePagination&&this._isLocalGrid&&(e.enableFiltering=!0,e.showHeaderRow=!1,this._hideHeaderRowAfterPageLoad=!0,this.sharedService.hideHeaderRowAfterPageLoad=!0),e},e.prototype.paginationChanged=function(t){this.gridStateService&&this.gridStateService.needToPreserveRowSelection()||!1||!this.gridOptions.enableRowSelection&&!this.gridOptions.enableCheckboxSelector||this.grid.setSelectedRows([]);var e=t.pageNumber,i=t.pageSize;this.sharedService&&void 0!==i&&void 0!==e&&(this.sharedService.currentPagination={pageNumber:e,pageSize:i}),this.pluginEa.publish("gridStateService:changed",{change:{newValues:{pageNumber:e,pageSize:i},type:c.GridStateType.pagination},gridState:this.gridStateService.getCurrentGridState()})},e.prototype.refreshGridData=function(t,e){if(this.gridOptions&&this.gridOptions.enablePagination&&this._isLocalGrid&&(this.showPagination=!0,this.loadLocalGridPagination(t)),Array.isArray(t)&&this.grid&&this.dataview&&"function"==typeof this.dataview.setItems){if(this.dataview.setItems(t,this.gridOptions.datasetIdPropertyName),this.gridOptions.backendServiceApi||this.dataview.reSort(),t.length>0&&(!this._isDatasetInitialized&&this.gridOptions.enableCheckboxSelector&&this.loadRowSelectionPresetWhenExists(),this.loadPresetsWhenDatasetInitialized(),this._isDatasetInitialized=!0,t.length>0&&this.gridOptions.treeDataOptions&&(this.sharedService.hierarchicalDataset=this.treeDataSortComparer(t))),t&&this.grid.invalidate(),this.showPagination=!(!this.gridOptions||!(this.gridOptions.enablePagination||this.gridOptions.backendServiceApi&&void 0===this.gridOptions.enablePagination)),this.gridOptions&&this.gridOptions.backendServiceApi&&this.gridOptions.pagination&&this.paginationOptions){var i=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this.paginationOptions),n=void 0!==e?e:this.gridOptions&&this.gridOptions.pagination&&this.gridOptions.pagination.totalItems;void 0!==n&&n!==this.totalItems&&(this.totalItems=+n),this._isPaginationInitialized?this.paginationService.totalItems=this.totalItems:this.initializePaginationService(i)}if(this.grid&&this.gridOptions.enableAutoResize){var r=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizerService.resizeGrid(r||10)}}},e.prototype.showHeaderRow=function(t){return void 0===t&&(t=!0),this.grid.setHeaderRowVisibility(t,!1),!0===t&&this._isGridInitialized&&this.grid.setColumns(this.columnDefinitions),t},e.prototype.setPaginationOptionsWhenPresetDefined=function(t,e){return t.presets&&t.presets.pagination&&t.pagination&&(e.pageSize=t.presets.pagination.pageSize,e.pageNumber=t.presets.pagination.pageNumber),e},e.prototype.updateColumnDefinitionsList=function(t){t&&(t=this.swapInternalEditorToSlickGridFactoryEditor(t),this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,t):this.extensionService.renderColumnHeaders(t,!0),this.gridOptions&&this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns())},e.prototype.dispatchCustomEvent=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0);var r={bubbles:i,cancelable:n};return e&&(r.detail=e),this.elm.dispatchEvent(a.b.createCustomEvent(t,r))},e.prototype.initializePaginationService=function(t){var e=this;this.gridOptions&&(this.paginationData={gridOptions:this.gridOptions,paginationService:this.paginationService},this.paginationService.totalItems=this.totalItems,this.paginationService.init(this.grid,this.dataview,t,this.backendServiceApi),this.subscriptions.push(this.pluginEa.subscribe("paginationService:onPaginationChanged",(function(t){return e.paginationChanged(t)})),this.pluginEa.subscribe("paginationService:onPaginationVisibilityChanged",(function(t){e.showPagination=t&&t.visible||!1,e.gridOptions&&e.gridOptions.backendServiceApi&&Object(d.d)()}))),this._isPaginationInitialized=!0)},e.prototype.loadEditorCollectionAsync=function(t){var e=this,i=t&&t.editor&&t.editor.collectionAsync;i&&i.then((function(i){Array.isArray(i)?e.updateEditorCollection(t,i):i instanceof Response&&"function"==typeof i.json?i.bodyUsed?console.warn("[Aurelia-SlickGrid] The response body passed to collectionAsync was already read.Either pass the dataset from the Response or clone the response first using response.clone()"):i.json().then((function(i){return e.updateEditorCollection(t,i)})):i&&i.content&&e.updateEditorCollection(t,i.content)}))},e.prototype.loadPresetsWhenDatasetInitialized=function(){if(this.gridOptions&&!this.customDataView&&(this.gridOptions.presets&&Array.isArray(this.gridOptions.presets.filters)&&this.gridOptions.presets.filters.length>0&&this.filterService.populateColumnFilterSearchTermPresets(this.gridOptions.presets.filters),this.gridOptions.presets&&Array.isArray(this.gridOptions.presets.columns)&&this.gridOptions.presets.columns.length>0)){var t=this.gridStateService.getAssociatedGridColumns(this.grid,this.gridOptions.presets.columns);if(t&&Array.isArray(t)&&t.length>0){if(this.gridOptions.enableCheckboxSelector){var e=Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0?this._columnDefinitions[0]:null;e&&"_checkbox_selector"===e.id&&"_checkbox_selector"!==t[0].id&&t.unshift(e)}this.grid.setColumns(t)}}},e.prototype.loadLocalGridPagination=function(t){if(this.gridOptions&&this.paginationOptions){if(this.totalItems=Array.isArray(t)?t.length:0,this.paginationOptions&&this.dataview&&this.dataview.getPagingInfo){var e=this.dataview.getPagingInfo()||{};e.hasOwnProperty("totalRows")&&this.paginationOptions.totalItems!==e.totalRows&&(this.totalItems=e.totalRows)}this.paginationOptions.totalItems=this.totalItems;var i=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this.paginationOptions);this.initializePaginationService(i)}},e.prototype.loadRowSelectionPresetWhenExists=function(){var t=this,e=this.gridOptions&&this.gridOptions.presets,i=this.grid&&this.grid.getSelectionModel();if(this.gridOptions&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&i&&e&&e.rowSelection&&(Array.isArray(e.rowSelection.gridRowIndexes)||Array.isArray(e.rowSelection.dataContextIds))){var n=e.rowSelection.dataContextIds,r=e.rowSelection.gridRowIndexes;Array.isArray(n)&&n.length>0?r=this.dataview.mapIdsToRows(n)||[]:Array.isArray(r)&&r.length>0&&(n=this.dataview.mapRowsToIds(r)||[]),this.gridStateService.selectedRowDataContextIds=n,(this._isLocalGrid&&!this.gridOptions.enablePagination||!this._isLocalGrid)&&setTimeout((function(){return t.grid.setSelectedRows(r)}))}},e.prototype.optionallyShowCustomFooterWithMetrics=function(){if(this.gridOptions){if(this.gridOptions.enableTranslate)this.translateCustomFooterTexts();else if(this.gridOptions.customFooterOptions){var t=this.gridOptions.customFooterOptions;t.metricTexts=t.metricTexts||{},t.metricTexts.lastUpdate=t.metricTexts.lastUpdate||this.locales&&this.locales.TEXT_LAST_UPDATE||"TEXT_LAST_UPDATE",t.metricTexts.items=t.metricTexts.items||this.locales&&this.locales.TEXT_ITEMS||"TEXT_ITEMS",t.metricTexts.of=t.metricTexts.of||this.locales&&this.locales.TEXT_OF||"TEXT_OF"}this.gridOptions.enablePagination||this._isPaginationInitialized||(this.showCustomFooter=!!this.gridOptions.hasOwnProperty("showCustomFooter")&&this.gridOptions.showCustomFooter,this.customFooterOptions=this.gridOptions.customFooterOptions||{})}},e.prototype.treeDataSortComparer=function(t){var e=this.gridOptions&&this.gridOptions.datasetIdPropertyName||"id",i=this.gridOptions&&this.gridOptions.treeDataOptions||{columnId:""},n=g(g({},i),{identifierPropName:i.identifierPropName||e});return Object(h.x)(t,n)},e.prototype.swapInternalEditorToSlickGridFactoryEditor=function(t){var e=this;return t.map((function(t){return t.editor&&t.editor.collectionAsync&&e.loadEditorCollectionAsync(t),g(g({},t),{editor:t.editor&&r.e.of(t.editor.model).get(e.container),internalColumnEditor:g({},t.editor)})}))},e.prototype.translateCustomFooterTexts=function(){if(this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()){var t=this.gridOptions&&this.gridOptions.customFooterOptions||{};t.metricTexts=t.metricTexts||{};for(var e=0,i=Object.keys(t.metricTexts);e<i.length;e++){var n=i[e];if(n.lastIndexOf("Key")>0){var r=n.substring(0,n.lastIndexOf("Key"));t.metricTexts[r]=this.i18n.tr(t.metricTexts[n]||" ")}}}},e.prototype.translateColumnHeaderTitleKeys=function(){this.extensionUtility.translateItems(this.sharedService.allColumns,"headerKey","name"),this.extensionUtility.translateItems(this.sharedService.allColumns,"nameKey","name")},e.prototype.translateColumnGroupKeys=function(){this.extensionUtility.translateItems(this.sharedService.allColumns,"columnGroupKey","columnGroup")},e.prototype.updateEditorCollection=function(t,e){t.editor.collection=e;var i=this.grid.getColumns();Array.isArray(i)&&(i.find((function(e){return e.id===t.id})).internalColumnEditor=t.editor)},v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"columnDefinitions",void 0),v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"element",void 0),v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"dataview",void 0),v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"grid",void 0),v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"paginationOptions",void 0),v([Object(r.l)({defaultBindingMode:r.m.twoWay})],e.prototype,"totalItems",void 0),v([Object(r.l)()],e.prototype,"customDataView",void 0),v([Object(r.l)()],e.prototype,"dataset",void 0),v([Object(r.l)()],e.prototype,"datasetHierarchical",void 0),v([Object(r.l)()],e.prototype,"gridId",void 0),v([Object(r.l)()],e.prototype,"gridOptions",void 0),v([Object(r.l)()],e.prototype,"gridHeight",void 0),v([Object(r.l)()],e.prototype,"gridWidth",void 0),v([Object(r.l)()],e.prototype,"pickerOptions",void 0),e=v([Object(r.o)(r.b,r.c,Element,o.a,r.f.of(o.a).as(m.a),h.c,h.d,h.e,p.a,h.f,h.h,h.j,h.k,h.l,s.I18N,h.n,h.o,f.a,h.q,h.r)],e)}()}.call(this,i("B/eG").default)},"aurelia-slickgrid/custom-elements/aurelia-slickgrid.html":function(t,e){t.exports='<template>\r\n  <div id="slickGridContainer-${gridId}" class="gridPane" css="width: ${gridWidth}px">\r\n    <div id.bind="gridId" class="slickgrid-container" style="width: 100%" css="height: ${gridHeight}px"\r\n         focusout.delegate="commitEdit($event.target)">\r\n    </div>\r\n\r\n    \x3c!-- Pagination section under the grid --\x3e\r\n    <slick-pagination id="slickPagingContainer-${gridId}" if.bind="showPagination"\r\n                      grid-options.bind="gridOptions"\r\n                      pagination-service.bind="paginationService">\r\n    </slick-pagination>\r\n\r\n    \x3c!-- Custom Footer section under the grid --\x3e\r\n    <div if.bind="showCustomFooter && customFooterOptions" class="slick-custom-footer row" style="width: 100%;"\r\n         css="height: ${customFooterOptions.footerHeight || 20}px">\r\n      <div class="left-footer ${customFooterOptions.leftContainerClass}">\r\n        ${customFooterOptions.leftFooterText}\r\n      </div>\r\n\r\n      <div class="right-footer metrics ${customFooterOptions.rightContainerClass}"\r\n           if.bind="metrics && !customFooterOptions.hideMetrics">\r\n        <span if.bind="!customFooterOptions.hideLastUpdateTimestamp">\r\n          <span>${customFooterOptions.metricTexts.lastUpdate}</span>\r\n\r\n          ${metrics.endTime | asgDateFormat: customFooterOptions.dateFormat}\r\n          <span class="separator">${customFooterOptions.metricSeparator}</span>\r\n        </span>\r\n\r\n        ${metrics.itemCount}\r\n        <span if.bind="!customFooterOptions.hideTotalItemCount">${customFooterOptions.metricTexts.of}\r\n          ${metrics.totalItemCount}\r\n        </span>\r\n        ${customFooterOptions.metricTexts.items}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},"aurelia-slickgrid/custom-elements/slick-pagination":function(t,e,i){"use strict";i.r(e),i.d(e,"SlickPaginationCustomElement",(function(){return u}));var n=i("aurelia-framework"),r=i("aurelia-event-aggregator"),o=i("aurelia-i18n"),a=i("eyxJ"),s=i("dbac"),l=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},u=function(){function t(t,e){this.globalEa=t,this.i18n=e,this._enableTranslate=!1,this._subscriptions=[],this.textItemsPerPage="items per page",this.textItems="items",this.textOf="of",this.textPage="Page"}return Object.defineProperty(t.prototype,"availablePageSizes",{get:function(){return this.paginationService.availablePageSizes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataFrom",{get:function(){return this.paginationService.dataFrom},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataTo",{get:function(){return this.paginationService.dataTo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeftPaginationDisabled",{get:function(){return 1===this.pageNumber||0===this.totalItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRightPaginationDisabled",{get:function(){return this.pageNumber===this.pageCount||0===this.totalItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemsPerPage",{get:function(){return this.paginationService.itemsPerPage},set:function(t){this.paginationService.changeItemPerPage(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.paginationService.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNumber",{get:function(){return this.paginationService.pageNumber},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalItems",{get:function(){return this.paginationService.totalItems},enumerable:!1,configurable:!0}),t.prototype.bind=function(t){var e=this;if(this._gridOptions=this.gridOptions||t&&t.gridOptions||{},this._enableTranslate=this._gridOptions&&this._gridOptions.enableTranslate||!1,this._locales=this._gridOptions&&this._gridOptions.locales||s.a.locales,this._enableTranslate&&(!this.i18n||!this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');this.translatePaginationTexts(this._locales),this._enableTranslate&&this.globalEa&&this.globalEa.subscribe&&this._subscriptions.push(this.globalEa.subscribe("i18n:locale:changed",(function(){return e.translatePaginationTexts(e._locales)})))},t.prototype.detached=function(){this.dispose()},t.prototype.changeToFirstPage=function(t){this.isLeftPaginationDisabled||this.paginationService.goToFirstPage(t)},t.prototype.changeToLastPage=function(t){this.isRightPaginationDisabled||this.paginationService.goToLastPage(t)},t.prototype.changeToNextPage=function(t){this.isRightPaginationDisabled||this.paginationService.goToNextPage(t)},t.prototype.changeToPreviousPage=function(t){this.isLeftPaginationDisabled||this.paginationService.goToPreviousPage(t)},t.prototype.changeToCurrentPage=function(t){var e=1;t&&t.target&&t.target.value&&(e=+t.target.value),this.paginationService.goToPageNumber(e,t)},t.prototype.dispose=function(){this.paginationService.dispose(),this._subscriptions=Object(a.i)(this._subscriptions)},t.prototype.translatePaginationTexts=function(t){if(this._enableTranslate&&this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()){var e=Object(a.o)(this._gridOptions);this.textItemsPerPage=this.i18n.tr(e+"ITEMS_PER_PAGE"),this.textItems=this.i18n.tr(e+"ITEMS"),this.textOf=this.i18n.tr(e+"OF"),this.textPage=this.i18n.tr(e+"PAGE")}else t&&(this.textItemsPerPage=t.TEXT_ITEMS_PER_PAGE||"TEXT_ITEMS_PER_PAGE",this.textItems=t.TEXT_ITEMS||"TEXT_ITEMS",this.textOf=t.TEXT_OF||"TEXT_OF",this.textPage=t.TEXT_PAGE||"TEXT_PAGE")},l([Object(n.l)()],t.prototype,"paginationService",void 0),l([Object(n.l)()],t.prototype,"gridOptions",void 0),t=l([Object(n.o)(r.a,n.g.of(o.I18N))],t)}()},"aurelia-slickgrid/custom-elements/slick-pagination.html":function(t,e){t.exports='<template>\r\n  <div id="pager" style="width:100%;">\r\n    <div class="slick-pagination">\r\n      <div class="slick-pagination-nav">\r\n        <nav aria-label="Page navigation">\r\n          <ul class="pagination">\r\n            <li class="page-item" class.bind="isLeftPaginationDisabled ? \'disabled\' : \'\'">\r\n              <a class="page-link icon-seek-first fa fa-angle-double-left" href="" aria-label="First"\r\n                click.delegate="changeToFirstPage($event)">\r\n              </a>\r\n            </li>\r\n            <li class="page-item" class.bind="isLeftPaginationDisabled ? \'disabled\' : \'\'">\r\n              <a class="page-link icon-seek-prev fa fa-angle-left" href="" aria-label="Previous"\r\n                click.delegate="changeToPreviousPage($event)">\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <div class="slick-page-number">\r\n          <span>${textPage}</span>\r\n          <input type="text" class="form-control" data-test="page-number-input"\r\n            value.bind="pageNumber | asgNumber" size="1"\r\n            readonly.bind="totalItems === 0"\r\n            change.delegate="changeToCurrentPage($event)">\r\n          <span>${textOf}</span>\r\n          <span data-test="page-count"> ${pageCount}</span>\r\n        </div>\r\n\r\n        <nav aria-label="Page navigation">\r\n          <ul class="pagination">\r\n            <li class="page-item"\r\n              class.bind="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\r\n              <a class="page-link icon-seek-next fa fa-angle-right" href="" aria-label="Next"\r\n                click.delegate="changeToNextPage($event)">\r\n              </a>\r\n            </li>\r\n            <li class="page-item"\r\n              class.bind="(pageNumber === pageCount || totalItems === 0) ? \'disabled\' : \'\'">\r\n              <a class="page-link icon-seek-end fa fa-angle-double-right" href="" aria-label="Last"\r\n                click.delegate="changeToLastPage($event)">\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <span class="slick-pagination-settings">\r\n        <select id="items-per-page-label" value.bind="itemsPerPage | asgNumber">\r\n          <option value="${pageSize}" repeat.for="pageSize of availablePageSizes" model.bind="pageSize">\r\n            ${pageSize}</option>\r\n        </select>\r\n        <span>${textItemsPerPage}</span>,\r\n        <span class="slick-pagination-count">\r\n          <span if.bind="totalItems">\r\n            <span class="page-info-from-to">\r\n              <span data-test="item-from">${dataFrom}</span>-<span data-test="item-to">${dataTo}</span>\r\n              ${textOf}\r\n            </span>\r\n          </span>\r\n          <span class="page-info-total-items">\r\n            <span data-test="total-items">${totalItems}</span> ${textItems}\r\n          </span>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n'},dbac:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){function t(){}return t.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_FROZEN_COLUMNS:"Clear Frozen Columns",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_EQUALS:"Equals",TEXT_ENDS_WITH:"Ends With",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_PAGE:"Page",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_X_OF_Y_SELECTED:"# of % selected"},t.VALIDATION_REQUIRED_FIELD="Field is required",t.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",t.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",t.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",t.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",t.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}",t.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",t.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}",t.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",t.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",t.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}",t.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",t.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}",t.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",t.exposedEvents=[{name:"excelExportService:onBeforeExportToExcel",alias:"asg-on-before-export-to-excel"},{name:"excelExportService:onAfterExportToExcel",alias:"asg-on-after-export-to-excel"},{name:"exportService:onBeforeExportToFile",alias:"asg-on-before-export-to-file"},{name:"exportService:onAfterExportToFile",alias:"asg-on-after-export-to-file"},{name:"gridStateService:changed",alias:"asg-on-grid-state-changed"},{name:"gridService:onItemAdded",alias:"asg-on-item-added"},{name:"gridService:onItemDeleted",alias:"asg-on-item-deleted"},{name:"gridService:onItemUpdated",alias:"asg-on-item-updated"},{name:"gridService:onItemUpserted",alias:"asg-on-item-upserted"},{name:"resizerService:onBeforeResize",alias:"asg-on-before-resize"},{name:"resizerService:onAfterResize",alias:"asg-on-after-resize"}],t}()},ncLB:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={Avg:function(){function t(t){this._count=0,this._field=t}return t.prototype.init=function(){this._count=0,this._nonNullCount=0,this._sum=0},t.prototype.accumulate=function(t){var e=t&&t.hasOwnProperty(this._field)?t[this._field]:null;this._count++,null==e||""===e||isNaN(e)||(this._nonNullCount++,this._sum+=parseFloat(e))},t.prototype.storeResult=function(t){t&&void 0!==t.avg||(t.avg={}),0!==this._nonNullCount&&(t.avg[this._field]=this._sum/this._nonNullCount)},t}(),Min:function(){function t(t){this._field=t}return t.prototype.init=function(){this._min=null},t.prototype.accumulate=function(t){var e=t&&t.hasOwnProperty(this._field)?t[this._field]:null;null==e||""===e||isNaN(e)||(null===this._min||void 0===this._min||e<this._min)&&(this._min=parseFloat(e))},t.prototype.storeResult=function(t){t&&void 0!==t.min||(t.min={}),t.min[this._field]=this._min},t}(),Max:function(){function t(t){this._field=t}return t.prototype.init=function(){this._max=null},t.prototype.accumulate=function(t){var e=t&&t.hasOwnProperty(this._field)?t[this._field]:null;null==e||""===e||isNaN(e)||(null===this._max||void 0===this._max||e>this._max)&&(this._max=parseFloat(e))},t.prototype.storeResult=function(t){t&&void 0!==t.max||(t.max={}),t.max[this._field]=this._max},t}(),Sum:function(){function t(t){this._sum=0,this._field=t}return t.prototype.init=function(){this._sum=0},t.prototype.accumulate=function(t){var e=t&&t.hasOwnProperty(this._field)?t[this._field]:null;null==e||""===e||isNaN(e)||(this._sum+=parseFloat(e))},t.prototype.storeResult=function(t){t&&void 0!==t.sum||(t.sum={}),t.sum[this._field]=this._sum},t}()}},zcqm:function(t,e,i){"use strict";i.d(e,"a",(function(){return $}));var n=i("v8Uj"),r=i("eyxJ"),o=i("dbac");function a(t,e){var i=e.required,n=e.errorMessage;return e.validator?e.validator(t,e.editorArgs):i&&""===t?{valid:!1,msg:n||o.a.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}}var s=i("+2Rf"),l=function(){return(l=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(){function t(t){if(this.args=t,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"autoCompleteOptions",{get:function(){return this._autoCompleteOptions||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorCollection",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.collection||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementCollection",{get:function(){return this._elementCollection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customStructure",{get:function(){return this.columnEditor&&this.columnEditor.customStructure},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this.columnEditor&&this.columnEditor.editorOptions||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$editorElm},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value";var t=this.columnEditor.collection||[];this.renderDomElement(t)},t.prototype.destroy=function(){this._$editorElm.off("keydown.nav").remove()},t.prototype.focus=function(){this._$editorElm.focus().select()},t.prototype.getValue=function(){return this._$editorElm.val()},t.prototype.setValue=function(t){this._$editorElm.val(t)},t.prototype.applyValue=function(t,e){var i=this,n=e,o=this.columnDef&&this.columnDef.field;if(void 0!==o){Array.isArray(this.editorCollection)&&this.editorCollection.length>0&&(n=Object(r.k)(this.editorCollection,(function(t){return t&&"object"==typeof e&&t.hasOwnProperty(i.labelName)?(t.hasOwnProperty(i.labelName)&&t[i.labelName].toString())===(e.hasOwnProperty(i.labelName)&&e[i.labelName].toString()):t&&"string"==typeof e&&t.hasOwnProperty(i.labelName)?(t.hasOwnProperty(i.labelName)&&t[i.labelName].toString())===e:t&&t.toString()===e})));var a=o.indexOf(".")>0,s=this.validate(n);n=s&&s.valid?n:"",a?Object(r.A)(t,o,n):t[o]=n}},t.prototype.isValueChanged=function(){var t=this._$editorElm.val(),e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==n.KeyCode.ENTER)||!(""===t&&(null===this._defaultTextValue||void 0===this._defaultTextValue))&&t!==this._defaultTextValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this._currentValue=n,this._defaultTextValue="string"==typeof n?n:n[this.labelName],this._$editorElm.val(this._defaultTextValue),this._$editorElm.select()}}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t;if(this.editorOptions.forceUserInput){var e=this.editorOptions&&this.editorOptions.hasOwnProperty("minLength")?this.editorOptions.minLength:3;this._currentValue=this._$editorElm.val().length>e?this._$editorElm.val():this._currentValue}return this.customStructure&&this._currentValue&&this._currentValue.hasOwnProperty(this.labelName)?this._currentValue[this.labelName]:this._currentValue&&this._currentValue.label?this.columnDef&&this.columnDef.type===n.FieldType.object?((t={})[this.labelName]=this._currentValue.label,t[this.valueName]=this._currentValue.value,t):this._currentValue.label:this._currentValue},t.prototype.validate=function(t){return a(void 0!==t?t:this._$editorElm&&this._$editorElm.val&&this._$editorElm.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,required:this.columnEditor.required,validator:this.validator})},t.prototype.onSelect=function(t,e){if(e&&e.item){this._currentValue=e&&e.item;var i="string"==typeof e.item?e.item:e.item.label;if(this.setValue(i),this.hasAutoCommitEdit){var n=this.validate();n&&n.valid&&this.grid.getEditorLock().commitCurrentEdit()}}return!1},t.prototype.renderDomElement=function(t){var e=this;if(!Array.isArray(t))throw new Error('The "collection" passed to the Autocomplete Editor is not a valid array.');var i=this.columnDef&&this.columnDef.id,r=this.columnEditor&&this.columnEditor.placeholder||"",o=this.columnEditor&&this.columnEditor.title||"";this._$editorElm=s('<input type="text" role="presentation" autocomplete="off" class="autocomplete editor-text editor-'+i+'" placeholder="'+r+'" title="'+o+'" />').appendTo(this.args.container).on("keydown.nav",(function(t){e._lastInputEvent=t,t.keyCode!==n.KeyCode.LEFT&&t.keyCode!==n.KeyCode.RIGHT||t.stopImmediatePropagation()}));var a=this.columnEditor.editorOptions,u=t;if(Array.isArray(u)&&this.customStructure&&(u=u.map((function(t){return{label:t[e.labelName],value:t[e.valueName]}}))),this._elementCollection=u,a)a.select=function(t,i){return e.onSelect(t,i)},this._autoCompleteOptions=l({},a),this._$editorElm.autocomplete(a);else{var c={source:u,minLength:0,select:function(t,i){return e.onSelect(t,i)}};this._autoCompleteOptions=l(l({},c),this.columnEditor.editorOptions),this._$editorElm.autocomplete(this._autoCompleteOptions)}setTimeout((function(){return e.focus()}),50)},t}(),c=function(){function t(t){if(this.args=t,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.args.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.title||"";this._$input=s('<input type="checkbox" value="true" class="editor-checkbox editor-'+e+'" title="'+i+'" />'),this._$input.appendTo(this.args.container),this.focus(),this.hasAutoCommitEdit&&this._$input.click((function(){return t.save()}))},t.prototype.destroy=function(){this._$input.remove()},t.prototype.focus=function(){this._$input.focus()},t.prototype.getValue=function(){return this._$input.prop("checked")},t.prototype.setValue=function(t){var e=!!t;this._$input.prop("checked",e)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):t[i]=a}},t.prototype.isValueChanged=function(){return this.serializeValue()!==this.originalValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this.originalValue=n,this.originalValue?this._$input.prop("checked",!0):this._$input.prop("checked",!1)}}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&this.hasAutoCommitEdit&&this.grid.getEditorLock().commitCurrentEdit()},t.prototype.serializeValue=function(){return this._$input.prop("checked")},t.prototype.validate=function(t){var e=this.columnEditor.required,i=void 0!==t?t:this._$input&&this._$input.prop&&this._$input.prop("checked"),n=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):e&&!i?{valid:!1,msg:n||o.a.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t}(),h=i("aurelia-framework"),d=i("aurelia-i18n"),p=i("zwY0"),f=i("sjEL"),m=function(){return(m=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},g=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},v=function(){function t(t,e){if(this.i18n=t,this.args=e,!e)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=e.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorOptions",{get:function(){return this.columnEditor.editorOptions||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickerOptions",{get:function(){return this._pickerMergedOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;if(this.args&&this.columnDef){var e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",o=this.columnEditor&&this.columnEditor.title||"",a=this.args.grid.getOptions()||{};this.defaultDate=this.args.item?this.args.item[this.columnDef.field]:null;var l=Object(r.s)(this.columnDef.type||n.FieldType.dateUtc),u=Object(r.s)(this.columnDef.outputType||this.columnDef.type||n.FieldType.dateUtc),c=this.i18n&&this.i18n.getLocale&&this.i18n.getLocale()||a.locale||"en";c.length>2&&(c=c.substring(0,2));var h={defaultDate:this.defaultDate,altInput:!0,altFormat:u,dateFormat:l,closeOnSelect:!1,locale:"en"!==c?this.loadFlatpickrLocale(c):"en",onChange:function(){return t.save()},errorHandler:function(){}};this._pickerMergedOptions=m(m({},h),this.editorOptions);var d=".editor-text.editor-"+e+".flatpickr";this._pickerMergedOptions.altInput&&(this._pickerMergedOptions.altInputClass="flatpickr-alt-input editor-text"),this._$input=s('<input type="text" data-defaultDate="'+this.defaultDate+'" class="'+d.replace(/\./g," ")+'" placeholder="'+i+'" title="'+o+'" />'),this._$input.appendTo(this.args.container),this.flatInstance=p&&this._$input[0]&&"function"==typeof this._$input[0].flatpickr?this._$input[0].flatpickr(this._pickerMergedOptions):null,this._$inputWithData=this._pickerMergedOptions&&this._pickerMergedOptions.altInput?s(d+".flatpickr-alt-input"):this._$input}},t.prototype.destroy=function(){this.hide(),this._$input.remove(),this._$inputWithData&&"function"==typeof this._$inputWithData.remove&&this._$inputWithData.remove(),this.flatInstance&&"function"==typeof this.flatInstance.destroy&&this.flatInstance.destroy()},t.prototype.focus=function(){this._$input.focus(),this._$inputWithData&&"function"==typeof this._$inputWithData.focus&&this._$inputWithData.focus().select()},t.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},t.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},t.prototype.getValue=function(){return this._$input.val()},t.prototype.setValue=function(t){this.flatInstance.setDate(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var o=Object(r.t)(this.columnDef&&(this.columnDef.outputType||this.columnDef.type)||n.FieldType.dateUtc),a=Object(r.t)(this.columnDef&&(this.columnDef.saveOutputType||this.columnDef.outputType||this.columnDef.type)||n.FieldType.dateUtc),s=i.indexOf(".")>0,l=this.validate(e),u=l&&l.valid?f(e,o).format(a):"";s?Object(r.A)(t,i,u):t[i]=u}},t.prototype.isValueChanged=function(){var t=this._$input.val(),e=Object(r.t)(this.columnDef&&this.columnDef.type||n.FieldType.dateIso),i=Object(r.t)(this.columnDef&&(this.columnDef.outputType||this.columnDef.type)||n.FieldType.dateUtc),o=t?f(t,e,!1).format(i):"",a=this.originalDate?f(this.originalDate,e,!1).format(i):"";return"Invalid date"!==o&&"Invalid date"!==a&&(!(""===o&&""===a)&&o!==a)},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this.originalDate=n,this.flatInstance.setDate(n),this.show(),this.focus()}}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t=this._$input.val();if(!t)return"";var e=Object(r.t)(this.columnDef&&this.columnDef.type||n.FieldType.dateIso),i=Object(r.t)(this.columnDef&&(this.columnDef.outputType||this.columnDef.type)||n.FieldType.dateIso);return f(t,e,!1).format(i)},t.prototype.validate=function(t){var e=this.columnEditor.required,i=void 0!==t?t:this._$input&&this._$input.val&&this._$input.val(),n=this.columnEditor.errorMessage;return this.validator?this.validator(i,this.args):e&&""===i?{valid:!1,msg:n||o.a.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t.prototype.loadFlatpickrLocale=function(t){var e="en";if("en"!==t){var n=i("WqZd")("./"+t+".js").default;e=n&&n[t]?n[t]:"en"}return e},t=g([Object(h.o)(h.g.of(d.I18N))],t)}();function y(t,e){var i=isNaN(t)?null:parseFloat(t),n=e.decimal||0,r=e.required,a=e.minValue,s=e.maxValue,l=e.operatorConditionalType||"inclusive",u=e.errorMessage,c={"{{minValue}}":a,"{{maxValue}}":s,"{{minDecimal}}":0,"{{maxDecimal}}":n},h=!0,d="";if("function"==typeof e.validator)return e.validator(t,e.editorArgs);if(r&&""===t)h=!1,d=u||o.a.VALIDATION_REQUIRED_FIELD;else if(""!==t&&(isNaN(t)||0===n&&!/^[-+]?(\d*(\.)?(\d)*)$/.test(t)))h=!1,d=u||o.a.VALIDATION_EDITOR_VALID_NUMBER;else if(void 0!==a&&void 0!==s&&null!==i&&("exclusive"===l&&(i<=a||i>=s)||"inclusive"===l&&(i<a||i>s)))h=!1,d=u||o.a.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,(function(t){return c[t]}));else if(void 0!==a&&null!==i&&("exclusive"===l&&i<=a||"inclusive"===l&&i<a)){h=!1;var p="inclusive"===l?o.a.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE:o.a.VALIDATION_EDITOR_NUMBER_MIN;d=u||p.replace(/{{minValue}}/gi,(function(t){return c[t]}))}else if(void 0!==s&&null!==i&&("exclusive"===l&&i>=s||"inclusive"===l&&i>s)){h=!1;p="inclusive"===l?o.a.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE:o.a.VALIDATION_EDITOR_NUMBER_MAX;d=u||p.replace(/{{maxValue}}/gi,(function(t){return c[t]}))}else n>0&&!new RegExp("^[-+]?(\\d*(\\.)?(\\d){0,"+n+"})$").test(t)&&(h=!1,d=u||o.a.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi,(function(t){return c[t]})));return{valid:h,msg:d}}function b(t,e){var i=isNaN(t)?null:parseInt(t,10);null!==i&&isNaN(i)&&(i=null);var n=e.errorMessage,r=e.required,a=e.minValue,s=e.maxValue,l=e.operatorConditionalType||"inclusive",u={"{{minValue}}":a,"{{maxValue}}":s},c=!0,h="";if(e.validator)return e.validator(t,e.editorArgs);if(r&&""===t)c=!1,h=n||o.a.VALIDATION_REQUIRED_FIELD;else if(""===t||!isNaN(t)&&/^[+-]?\d+$/.test(t)){if(void 0!==a&&void 0!==s&&null!==i&&("exclusive"===l&&(i<=a||i>=s)||"inclusive"===l&&(i<a||i>s)))c=!1,h=n||o.a.VALIDATION_EDITOR_INTEGER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,(function(t){return u[t]}));else if(void 0!==a&&null!==i&&("exclusive"===l&&i<=a||"inclusive"===l&&null!==i&&i<a)){c=!1;var d="inclusive"===l?o.a.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE:o.a.VALIDATION_EDITOR_INTEGER_MIN;h=n||d.replace(/{{minValue}}/gi,(function(t){return u[t]}))}else if(void 0!==s&&null!==i&&("exclusive"===l&&i>=s||"inclusive"===l&&null!==i&&i>s)){c=!1;d="inclusive"===l?o.a.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE:o.a.VALIDATION_EDITOR_INTEGER_MAX;h=n||d.replace(/{{maxValue}}/gi,(function(t){return u[t]}))}}else c=!1,h=n||o.a.VALIDATION_EDITOR_VALID_INTEGER;return{valid:c,msg:h}}var E,O=function(){return(O=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},_=function(){function t(t){var e=this;if(this.args=t,this._isValueSaveCalled=!1,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.gridOptions=this.grid.getOptions()||{},this.init(),this._eventHandler=new Slick.EventHandler,this._eventHandler.subscribe(this.grid.onValidationError,(function(){return e._isValueSaveCalled=!0}))}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return{leftInput:this._leftInput,rightInput:this._rightInput}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorParams",{get:function(){return this.columnEditor.params||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventHandler",{get:function(){return this._eventHandler},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueSaveCalled",{get:function(){return this._isValueSaveCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;if(!(this.editorParams&&this.editorParams.leftInput&&this.editorParams.leftInput.field&&this.editorParams.rightInput&&this.editorParams.rightInput.field))throw new Error("[Aurelia-Slickgrid] Please make sure that your Combo Input Editor has params defined with \"leftInput\" and \"rightInput\" (example: { editor: { model: Editors.comboInput, params: { leftInput: { field: 'firstName' }, { rightSide: { field: 'lastName' } }}}");this._leftFieldName=this.editorParams&&this.editorParams.leftInput&&this.editorParams.leftInput.field,this._rightFieldName=this.editorParams&&this.editorParams.rightInput&&this.editorParams.rightInput.field,this._leftInput=this.createInput("leftInput"),this._rightInput=this.createInput("rightInput");var e=this.args.container;e&&"function"==typeof e.appendChild&&(e.appendChild(this._leftInput),e.appendChild(this._rightInput)),this._leftInput.onkeydown=this.handleKeyDown.bind(this),this._rightInput.onkeydown=this.handleKeyDown.bind(this),this.hasAutoCommitEdit&&(this._leftInput.addEventListener("focusout",(function(e){return t.handleFocusOut(e,"leftInput")})),this._rightInput.addEventListener("focusout",(function(e){return t.handleFocusOut(e,"rightInput")}))),setTimeout((function(){return t._leftInput.select()}),50)},t.prototype.handleFocusOut=function(t,e){-1===(t.relatedTarget&&t.relatedTarget.className||"").indexOf("dual-editor")&&"focusout-right"!==this._lastEventType&&("rightInput"===e||"leftInput"===e&&"focusout-left"!==this._lastEventType)&&this.save();var i="leftInput"===e?"left":"right";this._lastEventType=(t&&t.type)+"-"+i},t.prototype.handleKeyDown=function(t){this._lastInputKeyEvent=t,t.keyCode!==n.KeyCode.LEFT&&t.keyCode!==n.KeyCode.RIGHT&&t.keyCode!==n.KeyCode.TAB||t.stopImmediatePropagation()},t.prototype.destroy=function(){var t=this;this._eventHandler.unsubscribeAll();var e=this.columnDef&&this.columnDef.id,i=document.querySelectorAll(".dual-editor-text.editor-"+e);i.length>0&&i.forEach((function(e){return e.removeEventListener("focusout",t.handleFocusOut.bind(t))}))},t.prototype.createInput=function(t){var e=this.editorParams[t],i=this.columnDef&&this.columnDef.id,n=this.gridOptions.datasetIdPropertyName||"id",r=this.args&&this.args.item&&this.args.item[n]||0,o=e.type||"text";"float"!==o&&"integer"!==o||(o="number");var a=document.createElement("input");return a.id="item-"+r+"-"+t,a.className="dual-editor-text editor-"+i+" "+t.replace(/input/gi,""),"readonly"===o&&(a.readOnly=!0,o="text"),a.type=o||"text",a.setAttribute("role","presentation"),a.autocomplete="off",a.placeholder=e.placeholder||"",a.title=e.title||"","number"===o&&(a.step=this.getInputDecimalSteps(t)),a},t.prototype.focus=function(){},t.prototype.getValues=function(){var t={},e=this._leftInput.value,i=this._rightInput.value,n=this.editorParams.leftInput&&("float"===this.editorParams.leftInput.type||"integer"===this.editorParams.leftInput.type),o=this.editorParams.rightInput&&("float"===this.editorParams.rightInput.type||"integer"===this.editorParams.rightInput.type),a=""!==e&&n?+this._leftInput.value:e||"",s=""!==i&&o?+this._rightInput.value:i||"";return Object(r.A)(t,this._leftFieldName,a),Object(r.A)(t,this._rightFieldName,s),t},t.prototype.setValues=function(t){Array.isArray(t)&&2===t.length&&(this._leftInput.value=""+t[0],this._rightInput.value=""+t[1])},t.prototype.applyValue=function(t,e){this.applyValueByPosition(t,e,"leftInput"),this.applyValueByPosition(t,e,"rightInput")},t.prototype.applyValueByPosition=function(t,e,i){var n="leftInput"===i?this._leftFieldName:this._rightFieldName;if(void 0!==n){var o=n&&n.indexOf(".")>0,a=n;if(o){var s=n.split(/\.(.*)/);a=s.length>1?s[1]:s}var l=o?Object(r.m)(e,a):e[n],u=this.validate({position:i,inputValue:l});if(o){var c=Object(r.m)(e,a),h=u&&u.valid?c:"";Object(r.A)(t,n,h)}else n&&(t[n]=u&&u.valid?e[n]:"")}},t.prototype.isValueChanged=function(){var t=this._leftInput.value,e=this._rightInput.value,i=this.editorParams&&this.editorParams.leftInput,r=this.editorParams&&this.editorParams.rightInput,o=this._lastInputKeyEvent&&this._lastInputKeyEvent.keyCode;if((i&&i.alwaysSaveOnEnterKey||r&&r.alwaysSaveOnEnterKey)&&o===n.KeyCode.ENTER)return!0;var a=!(""===t&&(null===this.originalLeftValue||void 0===this.originalLeftValue))&&t!==this.originalLeftValue,s=!(""===e&&(null===this.originalRightValue||void 0===this.originalRightValue))&&e!==this.originalRightValue;return a||s},t.prototype.loadValue=function(t){this.loadValueByPosition(t,"leftInput"),this.loadValueByPosition(t,"rightInput"),this._leftInput.select()},t.prototype.loadValueByPosition=function(t,e){var i="leftInput"===e?this._leftFieldName:this._rightFieldName,n="leftInput"===e?"originalLeftValue":"originalRightValue",o="leftInput"===e?"_leftInput":"_rightInput",a=i&&i.indexOf(".")>0;if(t&&void 0!==i&&this.columnDef&&(t.hasOwnProperty(i)||a)){var s=a?Object(r.m)(t,i):t.hasOwnProperty(i)?t[i]:"";if(this[n]=s,"float"===this.editorParams[e].type){var l=this.getDecimalPlaces(e);null!==l&&(this[n]||0===this[n])&&(+this[n]).toFixed&&(this[n]=(+this[n]).toFixed(l))}if(this[o]){var u=this[n];this[o].value=""+u}}},t.prototype.save=function(){var t=this.validate(),e=t&&t.valid||!1;this._isValueSaveCalled||(this.hasAutoCommitEdit&&e?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges(),this._isValueSaveCalled=!0)},t.prototype.serializeValue=function(){var t={},e=this.serializeValueByPosition("leftInput"),i=this.serializeValueByPosition("rightInput");return Object(r.A)(t,this._leftFieldName,e),Object(r.A)(t,this._rightFieldName,i),t},t.prototype.serializeValueByPosition=function(t){var e="leftInput"===t?this._leftInput.value:this._rightInput.value;if(""===e||isNaN(+e))return e;var i=parseFloat(e),n=this.getDecimalPlaces(t);return null!==n&&(i||0===i)&&i.toFixed&&(i=parseFloat(i.toFixed(n))),i},t.prototype.getDecimalPlaces=function(t){var e="leftInput"===t?"leftInput":"rightInput",i=this.editorParams[e],n=i&&i.decimal;return void 0===n?0:n},t.prototype.getInputDecimalSteps=function(t){for(var e=this.getDecimalPlaces(t),i="",n=1;n<e;n++)i+="0";return e>0?"0."+i+"1":"1"},t.prototype.validate=function(t){if(t){var e=this.validateByPosition(t.position,t.inputValue);if(!e.valid)return"leftInput"===t.position?this._leftInput.select():this._rightInput.select(),e}else{var i=this.validateByPosition("leftInput"),n=this.validateByPosition("rightInput");if(!i.valid)return this._leftInput.select(),i;if(!n.valid)return this._rightInput.select(),n}return{valid:!0,msg:""}},t.prototype.validateByPosition=function(t,e){var i=this.editorParams[t],n="";if(e)n=e;else{var r="leftInput"===t?this._leftInput:this._rightInput;n=r&&r.value}var o=this.validator;n="function"==typeof o?this.getValues():n;var s={editorArgs:this.args,errorMessage:i.errorMessage,required:i.required,validator:"function"==typeof o?o:i.validator};switch(i.type){case"float":return y(n,O(O({},s),{decimal:this.getDecimalPlaces(t),minValue:i.minValue,maxValue:i.maxValue,operatorConditionalType:i.operatorConditionalType}));case"integer":return b(n,O(O({},s),{minValue:i.minValue,maxValue:i.maxValue,operatorConditionalType:i.operatorConditionalType}));case"text":case"password":default:return a(n,s)}},t}(),S=function(){function t(t){if(this.args=t,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid&&this.grid.getOptions&&this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this._$input=s('<input type="number" role="presentation" autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" step="'+this.getInputDecimalSteps()+'" />').appendTo(this.args.container).on("keydown.nav",(function(e){t._lastInputEvent=e,e.keyCode!==n.KeyCode.LEFT&&e.keyCode!==n.KeyCode.RIGHT||e.stopImmediatePropagation()})),this.hasAutoCommitEdit&&this._$input.on("focusout",(function(){return t.save()})),setTimeout((function(){return t.focus()}),50)},t.prototype.destroy=function(){this._$input&&this._$input.off("keydown.nav").remove()},t.prototype.focus=function(){this._$input.focus()},t.prototype.getDecimalPlaces=function(){var t=this.columnEditor.params&&this.columnEditor.params.hasOwnProperty("decimalPlaces")?this.columnEditor.params.decimalPlaces:void 0;return void 0===t&&(t=0),t||0===t?t:null},t.prototype.getInputDecimalSteps=function(){for(var t=this.getDecimalPlaces(),e="",i=1;i<t;i++)e+="0";return t>0?"0."+e+"1":"1"},t.prototype.getValue=function(){return this._$input.val()||""},t.prototype.setValue=function(t){this._$input.val(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):t[i]=a}},t.prototype.isValueChanged=function(){var t=this._$input.val(),e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==n.KeyCode.ENTER)||!(""===t&&(null===this.originalValue||void 0===this.originalValue))&&t!==this.originalValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this.originalValue=n;var o=this.getDecimalPlaces();null!==o&&(this.originalValue||0===this.originalValue)&&(+this.originalValue).toFixed&&(this.originalValue=(+this.originalValue).toFixed(o)),this._$input.val(this.originalValue),this._$input.select()}}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t=this._$input.val();if(""===t||isNaN(t))return t;var e=parseFloat(t),i=this.getDecimalPlaces();return null!==i&&(e||0===e)&&e.toFixed&&(e=parseFloat(e.toFixed(i))),e},t.prototype.validate=function(t){return y(void 0!==t?t:this._$input&&this._$input.val&&this._$input.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,decimal:this.getDecimalPlaces(),minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,operatorConditionalType:this.columnEditor.operatorConditionalType,required:this.columnEditor.required,validator:this.validator})},t}(),I=function(){function t(t){if(this.args=t,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid&&this.grid.getOptions&&this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this._$input=s('<input type="number" role="presentation" autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" />').appendTo(this.args.container).on("keydown.nav",(function(e){t._lastInputEvent=e,e.keyCode!==n.KeyCode.LEFT&&e.keyCode!==n.KeyCode.RIGHT||e.stopImmediatePropagation()})),this.hasAutoCommitEdit&&this._$input.on("focusout",(function(){return t.save()})),setTimeout((function(){return t.focus()}),50)},t.prototype.destroy=function(){this._$input.off("keydown.nav focusout").remove()},t.prototype.focus=function(){this._$input.focus()},t.prototype.getValue=function(){return this._$input.val()||""},t.prototype.setValue=function(t){this._$input.val(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):t[i]=a}},t.prototype.isValueChanged=function(){var t=this._$input.val(),e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==n.KeyCode.ENTER)||!(""===t&&(null===this.originalValue||void 0===this.originalValue))&&t!==this.originalValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this.originalValue=isNaN(n)||null==n?n:""+n,this._$input.val(this.originalValue),this._$input.select()}}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t=this._$input.val();if(""===t||isNaN(t))return t;var e=isNaN(t)?t:parseInt(t,10);return isNaN(e)?t:e},t.prototype.validate=function(t){return b(void 0!==t?t:this.getValue(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,operatorConditionalType:this.columnEditor.operatorConditionalType,required:this.columnEditor.required,validator:this.validator})},t}(),D=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},T=function(){function t(t,e){if(this.i18n=t,this.args=e,!e)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=e.grid,this.gridOptions=e.grid&&e.grid.getOptions(),this._locales=this.gridOptions&&this.gridOptions.locales||o.a.locales,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$textarea},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e="",i="";if(this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()){var n=Object(r.o)(this.gridOptions);e=this.i18n.tr(n+"CANCEL"),i=this.i18n.tr(n+"SAVE")}else e=this._locales&&this._locales.TEXT_CANCEL,i=this._locales&&this._locales.TEXT_SAVE;var o=this.columnDef&&this.columnDef.id,a=this.columnEditor&&this.columnEditor.placeholder||"",l=this.columnEditor&&this.columnEditor.title||"",u=s("body");this._$wrapper=s('<div class="slick-large-editor-text editor-'+o+'" />').appendTo(u),this._$textarea=s('<textarea hidefocus rows="5" placeholder="'+a+'" title="'+l+'">').appendTo(this._$wrapper),s('<div class="editor-footer">\n          <button class="btn btn-save btn-primary btn-xs">'+i+'</button>\n          <button class="btn btn-cancel btn-default btn-xs">'+e+"</button>\n      </div>").appendTo(this._$wrapper),this._$wrapper.find(".btn-save").on("click",(function(){return t.save()})),this._$wrapper.find(".btn-cancel").on("click",(function(){return t.cancel()})),this._$textarea.on("keydown",this.handleKeyDown.bind(this)),this.position(this.args&&this.args.position),this._$textarea.focus().select()},t.prototype.cancel=function(){this._$textarea.val(this.defaultValue),this.args&&this.args.cancelChanges&&this.args.cancelChanges()},t.prototype.hide=function(){this._$wrapper.hide()},t.prototype.show=function(){this._$wrapper.show()},t.prototype.destroy=function(){this._$wrapper.remove()},t.prototype.focus=function(){this._$textarea.focus()},t.prototype.getValue=function(){return this._$textarea.val()},t.prototype.setValue=function(t){this._$textarea.val(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):t[i]=a}},t.prototype.isValueChanged=function(){var t=this._$textarea.val();return!(""===t&&(null===this.defaultValue||void 0===this.defaultValue))&&t!==this.defaultValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field;if(void 0!==e){var i=e.indexOf(".")>0;if(t&&void 0!==e&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t[e];this.defaultValue=n,this._$textarea.val(this.defaultValue),this._$textarea[0].defaultValue=this.defaultValue,this._$textarea.select()}}},t.prototype.position=function(t){var e=Object(r.n)(this.args.container);this._$wrapper.css("top",e.top||t.top||0).css("left",e.left||t.left||0)},t.prototype.save=function(){var t=this.validate(),e=t&&t.valid||!1;this.hasAutoCommitEdit&&e?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()},t.prototype.serializeValue=function(){return this._$textarea.val()},t.prototype.validate=function(t){return a(void 0!==t?t:this._$textarea&&this._$textarea.val&&this._$textarea.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,required:this.columnEditor.required,validator:this.validator})},t.prototype.handleKeyDown=function(t){var e=t.keyCode||t.code;e===n.KeyCode.ENTER&&t.ctrlKey?this.save():e===n.KeyCode.ESCAPE?(t.preventDefault(),this.cancel()):e===n.KeyCode.TAB&&t.shiftKey?(t.preventDefault(),this.args&&this.grid&&this.grid.navigatePrev()):e===n.KeyCode.TAB&&(t.preventDefault(),this.args&&this.grid&&this.grid.navigateNext())},t=D([Object(h.o)(h.g.of(d.I18N))],t)}(),P=i("H9V8"),C=i("wMS7"),w=function(){return(w=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},A=function(){function t(t,e,i,n,a){var s=this;if(void 0===a&&(a=!0),this.bindingEngine=t,this.collectionService=e,this.i18n=i,this.args=n,this.isMultipleSelect=a,this._subscriptions=[],this._destroying=!1,!n)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=n.grid,this.gridOptions=this.grid.getOptions()||{},this._locales=this.gridOptions.locales||o.a.locales;var l=this.columnDef&&this.columnDef.id;this.elementName="editor-"+l;var u={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,name:this.elementName,single:!0,textTemplate:function(t){return s.columnEditor&&s.columnEditor.enableRenderHtml||!1?t.text():t.html()},onClose:function(){return s.save()}};if(a)if(u.single=!1,u.addTitle=!0,u.okButton=!0,u.selectAllDelimiter=["",""],this.i18n&&this.i18n.tr&&this.i18n.getLocale&&this.i18n.getLocale()){var c=Object(r.o)(this.gridOptions);u.countSelected=this.i18n.tr(c+"X_OF_Y_SELECTED"),u.allSelected=this.i18n.tr(c+"ALL_SELECTED"),u.selectAllText=this.i18n.tr(c+"SELECT_ALL"),u.okButtonText=this.i18n.tr(c+"OK")}else u.countSelected=this._locales&&this._locales.TEXT_X_OF_Y_SELECTED,u.allSelected=this._locales&&this._locales.TEXT_ALL_SELECTED,u.selectAllText=this._locales&&this._locales.TEXT_SELECT_ALL,u.okButtonText=this._locales&&this._locales.TEXT_OK;this.defaultOptions=u,this.init()}return Object.defineProperty(t.prototype,"collection",{get:function(){return this.columnEditor&&this.columnEditor.collection||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionOptions",{get:function(){return this.columnEditor&&this.columnEditor.collectionOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this.$editorElm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customStructure",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor&&this.columnDef.internalColumnEditor.customStructure},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentValues",{get:function(){var t=this,e=this.$editorElm.val();if(this.collection.every((function(t){return"string"==typeof t})))return this.collection.filter((function(t){return-1!==e.indexOf(t.toString())}));var i=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",n=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1;return this.collection.filter((function(i){return-1!==e.indexOf(i.hasOwnProperty(t.valueName)&&i[t.valueName].toString())})).map((function(e){var r=e[t.valueName],o=e[t.labelPrefixName]||"",a=e[t.labelSuffixName]||"";return(t.columnDef&&t.columnDef.field||"").indexOf(".")>0&&"object"==typeof e?e:(o=t.enableTranslateLabel&&o&&"string"==typeof o?t.i18n.tr(o||" "):o,a=t.enableTranslateLabel&&a&&"string"==typeof a?t.i18n.tr(a||" "):a,n?[o,r,a].filter((function(t){return t})).join(i):r)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentValue",{get:function(){var t=this,e=this.$editorElm.val(),i=this.columnDef&&this.columnDef.field;if(void 0!==i){if(this.collection.every((function(t){return"string"==typeof t})))return Object(P.F)(this.collection,(function(t){return t.toString()===e}));var n=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",r=this.collectionOptions&&this.collectionOptions.includePrefixSuffixToSelectedValues||!1,o=Object(P.F)(this.collection,(function(i){return i.hasOwnProperty(t.valueName)&&i[t.valueName].toString()===e}));if(i.indexOf(".")>0&&"object"==typeof o)return o;if(o&&o.hasOwnProperty(this.valueName)){var a=o[this.valueName];if(r){var s=o[this.labelPrefixName]||"",l=o[this.labelSuffixName]||"";return[s=this.enableTranslateLabel&&s&&"string"==typeof s?this.i18n.tr(s||" "):s,a,l=this.enableTranslateLabel&&l&&"string"==typeof l?this.i18n.tr(l||" "):l].filter((function(t){return t})).join(n)}return a}}return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(!this.columnDef||!this.columnDef.internalColumnEditor||!this.columnDef.internalColumnEditor.collection&&!this.columnDef.internalColumnEditor.collectionAsync)throw new Error("[Aurelia-Slickgrid] You need to pass a \"collection\" (or \"collectionAsync\") inside Column Definition Editor for the MultipleSelect/SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }");if(this.enableTranslateLabel=this.columnEditor&&this.columnEditor.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.i18n||"function"!=typeof this.i18n.tr))throw new Error('[Aurelia-Slickgrid] requires "I18N" to be installed and configured when the grid option "enableTranslate" is enabled.');this.renderDomElement(this.collection)},t.prototype.getValue=function(){return this.isMultipleSelect?this.currentValues:this.currentValue},t.prototype.setValue=function(t){this.isMultipleSelect&&Array.isArray(t)?this.loadMultipleValues(t):this.loadSingleValue(t)},t.prototype.hide=function(){this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("close")},t.prototype.show=function(){this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("open")},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field,o=this.columnDef&&this.columnDef.type,a=e;if(void 0!==i){o!==n.FieldType.number&&o!==n.FieldType.integer&&o!==n.FieldType.boolean||(a=parseFloat(e)),this.isMultipleSelect&&"string"==typeof e&&e.indexOf(",")>=0&&(a=e.split(","));var s=void 0!==i&&i.indexOf(".")>0,l=this.validate(a);if(a=l&&l.valid?a:"",s){var u=this.columnEditor&&this.columnEditor.complexObjectPath||i||"";Object(r.A)(t,u,a)}else void 0!==i&&(t[i]=a)}},t.prototype.destroy=function(){if(this._destroying=!0,this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect){this.$editorElm.multipleSelect("destroy");var t=this.elementName.toString().replace(".","\\.");s("[name="+t+"].ms-drop").remove()}this.$editorElm&&"function"==typeof this.$editorElm.remove&&this.$editorElm.remove(),this._subscriptions=Object(P.A)(this._subscriptions)},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field,i=void 0!==e&&e.indexOf(".")>0;if(t&&this.columnDef&&void 0!==e&&(t.hasOwnProperty(e)||i)){var n=this.columnEditor&&this.columnEditor.complexObjectPath||e,o=i?Object(r.m)(t,n):t.hasOwnProperty(e)&&t[e],a=i&&o.hasOwnProperty(this.valueName)?o[this.valueName]:o;this.isMultipleSelect&&Array.isArray(a)?this.loadMultipleValues(a):this.loadSingleValue(a),this.refresh()}},t.prototype.loadMultipleValues=function(t){if(Array.isArray(t)){this.originalValue=t.map((function(t){return t}));var e=t.map((function(t){return t.toString()}));this.$editorElm.find("option").each((function(t,i){i.selected=-1!==e.indexOf(i.value)}))}},t.prototype.loadSingleValue=function(t){this.originalValue="number"==typeof t?""+t:t,this.$editorElm.val(t),this.$editorElm.find("option").each((function(e,i){var n=t&&t.toString&&t.toString();i.selected=n===i.value}))},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&!this._destroying&&this.hasAutoCommitEdit&&this.grid.getEditorLock().commitCurrentEdit()},t.prototype.serializeValue=function(){return this.isMultipleSelect?this.currentValues:this.currentValue},t.prototype.focus=function(){this.$editorElm&&this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("focus")},t.prototype.isValueChanged=function(){return this.isMultipleSelect?!Object(r.c)(this.$editorElm.val(),this.originalValue):this.$editorElm.val()!==this.originalValue},t.prototype.validate=function(t){var e=this.columnEditor&&this.columnEditor.required,i=void 0!==t?t:this.$editorElm&&this.$editorElm.val&&this.$editorElm.val(),n=this.columnEditor&&this.columnEditor.errorMessage;if(this.validator){var r=void 0!==t?t:this.isMultipleSelect?this.currentValues:this.currentValue;return this.validator(r,this.args)}return e&&(""===i||Array.isArray(i)&&0===i.length)?{valid:!1,msg:n||o.a.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}},t.prototype.filterCollection=function(t){var e=t;if(this.columnEditor&&this.columnEditor.collectionFilterBy){var i=this.columnEditor.collectionFilterBy,n=this.columnEditor.collectionOptions&&this.columnEditor.collectionOptions.filterResultAfterEachPass||null;e=this.collectionService.filterCollection(e,i,n)}return e},t.prototype.sortCollection=function(t){var e=t;if(this.columnDef&&this.columnEditor&&this.columnEditor.collectionSortBy){var i=this.columnEditor.collectionSortBy;e=this.collectionService.sortCollection(this.columnDef,e,i,this.enableTranslateLabel)}return e},t.prototype.renderDomElement=function(t){if(!Array.isArray(t)&&this.collectionOptions&&(this.collectionOptions.collectionInsideObjectProperty||this.collectionOptions.collectionInObjectProperty)){var e=this.collectionOptions.collectionInsideObjectProperty||this.collectionOptions.collectionInObjectProperty;t=Object(r.m)(t,e)}if(!Array.isArray(t))throw new Error('The "collection" passed to the Select Editor is not a valid array.');this.collectionOptions&&this.collectionOptions.addBlankEntry&&t.unshift(this.createBlankEntry());var i=t;i=this.filterCollection(i),i=this.sortCollection(i);var n=this.buildTemplateHtmlString(i);this.createDomElement(n)},t.prototype.buildTemplateHtmlString=function(t){var e=this,i="",n=this.columnDef&&this.columnDef.id||"",o=this.collectionOptions&&this.collectionOptions.separatorBetweenTextLabels||"",a=this.columnEditor&&this.columnEditor.enableRenderHtml||!1,s=this.gridOptions&&this.gridOptions.sanitizeHtmlOptions||{};return t.every((function(t){return"string"==typeof t}))?t.forEach((function(t){i+='<option value="'+t+'" label="'+t+'">'+t+"</option>"})):t.forEach((function(t){if(!t||void 0===t[e.labelName]&&void 0===t.labelKey)throw new Error("[select-editor] A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])");var n=t.labelKey||t[e.labelName],l=(t.labelKey||e.enableTranslateLabel)&&n?e.i18n.tr(n||" "):n,u=t[e.labelPrefixName]||"",c=t[e.labelSuffixName]||"",h=t[e.optionLabel]||"";h=h.toString().replace(/\"/g,"'"),u=e.enableTranslateLabel&&u&&"string"==typeof u?e.i18n.tr(u||" "):u,c=e.enableTranslateLabel&&c&&"string"==typeof c?e.i18n.tr(c||" "):c,h=e.enableTranslateLabel&&h&&"string"==typeof h?e.i18n.tr(h||" "):h;var d=[u,l,c].filter((function(t){return void 0!==t&&""!==t})).join(o);if(a){var p=(C.sanitize(d,s)||"").toString();d=Object(r.p)(p)}i+='<option value="'+t[e.valueName]+'" label="'+h+'">'+d+"</option>"})),'<select id="'+this.elementName+'" class="ms-filter search-filter editor-'+n+'" '+(this.isMultipleSelect?'multiple="multiple"':"")+">"+i+"</select>"},t.prototype.createBlankEntry=function(){var t,e=((t={})[this.labelName]="",t[this.valueName]="",t);return this.labelPrefixName&&(e[this.labelPrefixName]=""),this.labelSuffixName&&(e[this.labelSuffixName]=""),e},t.prototype.createDomElement=function(t){var e=this;this.$editorElm=s(t),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container);var i=this.columnEditor&&this.columnEditor.placeholder||"";if(this.defaultOptions.placeholder=i||"","function"==typeof this.$editorElm.multipleSelect){var n=this.columnEditor?this.columnEditor.elementOptions:{},r=this.columnDef&&this.columnDef.internalColumnEditor?this.columnDef.internalColumnEditor.editorOptions:{};this.editorElmOptions=w(w(w({},this.defaultOptions),n),r),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout((function(){return e.show()}))}},t.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},t}(),x=(E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),V=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},N=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r,!0)||this;return o.bindingEngine=e,o.collectionService=i,o.i18n=n,o.args=r,o}return x(e,t),e=V([Object(h.o)(h.b,P.b,d.I18N)],e)}(A),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),R=function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},j=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r,!1)||this;return o.bindingEngine=e,o.collectionService=i,o.i18n=n,o.args=r,o}return L(e,t),e=R([Object(h.o)(h.b,P.b,d.I18N)],e)}(A),$={autoComplete:u,checkbox:c,date:v,dualInput:_,float:S,integer:I,longText:T,multipleSelect:N,singleSelect:j,slider:function(){function t(t){if(this.args=t,this._elementRangeInputId="",this._elementRangeOutputId="",!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid&&this.grid.getOptions&&this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorParams",{get:function(){return this.columnEditor.params||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e=this.args&&this.args.container;if(e&&this.columnDef){var i=this.args&&this.args.item&&this.args.item.id;this._elementRangeInputId="rangeInput_"+this.columnDef.field+"_"+i,this._elementRangeOutputId="rangeOutput_"+this.columnDef.field+"_"+i;var n=this.buildTemplateHtmlString();this._$editorElm=s(n),this._$input=this._$editorElm.children("input"),this.$sliderNumber=this._$editorElm.children("div.input-group-addon.input-group-append").children(),this.focus(),this._$editorElm.appendTo(e).on("mouseup",(function(){return t.save()})),this.editorParams.hideSliderNumber||this._$editorElm.on("input change",(function(e){t._lastInputEvent=e;var i=e&&e.target&&e.target.value||"";if(i&&document){var n=document.getElementsByClassName(t._elementRangeOutputId||"");n&&n.length>0&&n[0].innerHTML&&(n[0].innerHTML=i)}}))}},t.prototype.cancel=function(){this._$input.val(this.originalValue),this.args.cancelChanges()},t.prototype.destroy=function(){this._$editorElm.off("input change mouseup").remove()},t.prototype.focus=function(){this._$editorElm.focus()},t.prototype.getValue=function(){return this._$input.val()||""},t.prototype.setValue=function(t){this._$input.val(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):t&&(t[i]=a)}},t.prototype.isValueChanged=function(){var t=this._$input.val();return!(""===t&&void 0===this.originalValue)&&+t!==this.originalValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field,i=e&&e.indexOf(".")>0;if(t&&e&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t.hasOwnProperty(e)&&t[e];""!==n&&null!=n||(n=this.defaultValue),this.originalValue=+n,this._$input.val(n),this.$sliderNumber.html(n)}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.args.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){var t=this._$input.val();return""!==t?parseInt(t,10):this.originalValue},t.prototype.validate=function(t){return function(t,e){var i=e.required,n=e.minValue,r=e.maxValue,a=e.errorMessage,s={"{{minValue}}":n,"{{maxValue}}":r};return e.validator?e.validator(t,e.editorArgs):i&&""===t?{valid:!1,msg:a||o.a.VALIDATION_REQUIRED_FIELD}:void 0!==n&&void 0!==r&&null!==t&&(t<n||t>r)?{valid:!1,msg:a||o.a.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,(function(t){return s[t]}))}:{valid:!0,msg:null}}(void 0!==t?t:this._$input&&this._$input.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,required:this.columnEditor.required,validator:this.validator})},t.prototype.buildTemplateHtmlString=function(){var t=this.columnDef&&this.columnDef.id,e=this.columnEditor&&this.columnEditor.title||"",i=this.columnEditor.hasOwnProperty("minValue")?this.columnEditor.minValue:0,n=this.columnEditor.hasOwnProperty("maxValue")?this.columnEditor.maxValue:100,r=this.editorParams.hasOwnProperty("sliderStartValue")?this.editorParams.sliderStartValue:i,o=this.columnEditor.hasOwnProperty("valueStep")?this.columnEditor.valueStep:1;return this.defaultValue=r,this.editorParams.hideSliderNumber?'\n      <div class="slider-container slider-editor">\n        <input type="range" name="'+this._elementRangeInputId+'" title="'+e+'"\n          defaultValue="'+r+'" value="'+r+'"\n          min="'+i+'" max="'+n+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+t+" range "+this._elementRangeInputId+'" />\n      </div>':'\n      <div class="input-group slider-container slider-editor">\n        <input type="range" name="'+this._elementRangeInputId+'" title="'+e+'"\n          defaultValue="'+r+'" value="'+r+'"\n          min="'+i+'" max="'+n+'" step="'+o+'"\n          class="form-control slider-editor-input editor-'+t+" range "+this._elementRangeInputId+'" />\n        <div class="input-group-addon input-group-append slider-value"><span class="input-group-text '+this._elementRangeOutputId+'">'+r+"</span></div>\n      </div>"},t}(),text:function(){function t(t){if(this.args=t,!t)throw new Error("[Aurelia-Slickgrid] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=t.grid,this.init()}return Object.defineProperty(t.prototype,"columnDef",{get:function(){return this.args&&this.args.column},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnEditor",{get:function(){return this.columnDef&&this.columnDef.internalColumnEditor||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editorDomElement",{get:function(){return this._$input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAutoCommitEdit",{get:function(){return this.grid.getOptions().autoCommitEdit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return this.columnEditor&&this.columnEditor.validator||this.columnDef&&this.columnDef.validator},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this,e=this.columnDef&&this.columnDef.id,i=this.columnEditor&&this.columnEditor.placeholder||"",r=this.columnEditor&&this.columnEditor.title||"";this._$input=s('<input type="text" role="presentation"  autocomplete="off" class="editor-text editor-'+e+'" placeholder="'+i+'" title="'+r+'" />').appendTo(this.args.container).on("keydown.nav",(function(e){t._lastInputEvent=e,e.keyCode!==n.KeyCode.LEFT&&e.keyCode!==n.KeyCode.RIGHT||e.stopImmediatePropagation()})),this.hasAutoCommitEdit&&this._$input.on("focusout",(function(){return t.save()})),setTimeout((function(){return t.focus()}),50)},t.prototype.destroy=function(){this._$input.off("keydown.nav focusout").remove()},t.prototype.focus=function(){this._$input.focus()},t.prototype.getValue=function(){return this._$input.val()},t.prototype.setValue=function(t){this._$input.val(t)},t.prototype.applyValue=function(t,e){var i=this.columnDef&&this.columnDef.field;if(void 0!==i){var n=i&&i.indexOf(".")>0,o=this.validate(e),a=o&&o.valid?e:"";n?Object(r.A)(t,i,a):i&&(t[i]=a)}},t.prototype.isValueChanged=function(){var t=this._$input.val(),e=this._lastInputEvent&&this._lastInputEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||e!==n.KeyCode.ENTER)||!(""===t&&(null===this.originalValue||void 0===this.originalValue))&&t!==this.originalValue},t.prototype.loadValue=function(t){var e=this.columnDef&&this.columnDef.field,i=e&&e.indexOf(".")>0;if(t&&void 0!==e&&this.columnDef&&(t.hasOwnProperty(e)||i)){var n=i?Object(r.m)(t,e):t.hasOwnProperty(e)&&t[e]||"";this.originalValue=n,this._$input.val(this.originalValue),this._$input.select()}},t.prototype.save=function(){var t=this.validate();t&&t.valid&&this.isValueChanged()&&(this.hasAutoCommitEdit?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges())},t.prototype.serializeValue=function(){return this._$input.val()},t.prototype.validate=function(t){return a(void 0!==t?t:this._$input&&this._$input.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,required:this.columnEditor.required,validator:this.validator})},t}()}}}]);
//# sourceMappingURL=vendors~19ffe9cb.eda663d163abf8ca043a.bundle.map