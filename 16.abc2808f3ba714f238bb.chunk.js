"use strict";(self.webpackChunkaurelia_slickgrid_locale_demo_bs5=self.webpackChunkaurelia_slickgrid_locale_demo_bs5||[]).push([[16],{8016:(e,t,i)=>{i.r(t),i.d(t,{Example15:()=>b});var a={};i.r(a),i.d(a,{bindables:()=>d,default:()=>o,dependencies:()=>s,name:()=>n,register:()=>u,template:()=>l});var r=i(5394);const n="example15",l='<h2>\n  ${title}\n  <span class="float-end">\n    <a style="font-size: 18px"\n        target="_blank"\n        href="https://github.com/ghiscoding/aurelia-slickgrid/blob/master/packages/demo/src/examples/slickgrid/example15.ts">\n      <span class="mdi mdi-link-variant"></span> code\n    </a>\n  </span>\n</h2>\n<div class="subtitle" innerhtml.bind="subTitle"></div>\n\n<button class="btn btn-outline-secondary btn-sm btn-icon" data-test="reset-button"\n        click.trigger="clearGridStateFromLocalStorage()">\n  <i class="mdi mdi-close"></i>\n  Clear Grid State from Local Storage &amp; Reset Grid\n</button>\n\n<aurelia-slickgrid grid-id="grid15"\n                    column-definitions.bind="columnDefinitions"\n                    grid-options.bind="gridOptions"\n                    dataset.bind="dataset"\n                    on-aurelia-grid-created.trigger="aureliaGridReady($event.detail)"\n                    on-grid-state-changed.trigger="gridStateChanged($event.detail)"\n                    >\n</aurelia-slickgrid>\n',o=l,s=[],d=[];let c;function u(e){c||(c=r.K94.define({name:n,template:l,dependencies:s,bindables:d})),e.register(c)}var m=i(3651),h=i(8211);function g(e,t){return Math.floor(Math.random()*(t-e+1)+e)}i(6757);const p="gridState";class b{constructor(){this.title="Example 15: Grid State & Presets using Local Storage",this.subTitle='\n  Grid State & Preset (<a href="https://ghiscoding.gitbook.io/aurelia-slickgrid/grid-functionalities/grid-state-preset" target="_blank">Wiki docs</a>)\n  <br/>\n  <ul class="small">\n    <li>Uses Local Storage to persist the Grid State and uses Grid Options "presets" to put the grid back to it\'s previous state</li>\n    <ul>\n       <li>to demo this, simply change any columns (position reorder, visibility, size, filter, sort), then refresh your browser with (F5)</li>\n    </ul>\n    <li>Local Storage is just one option, you can use whichever is more convenient for you (Local Storage, Session Storage, DB, ...)</li>\n  </ul>\n',this.columnDefinitions=[],this.dataset=[];const e=JSON.parse(localStorage[p]||null);this.defineGrid(e)}attached(){this.dataset=this.getData(500)}detaching(){this.saveCurrentGridState()}aureliaGridReady(e){this.aureliaGrid=e}clearGridStateFromLocalStorage(){this.aureliaGrid.gridService.resetGrid(this.columnDefinitions),this.aureliaGrid.paginationService.changeItemPerPage(25),setTimeout((()=>localStorage[p]=null))}defineGrid(e){const t=[];for(let e=0;e<500;e++)t.push({value:e,label:e});this.columnDefinitions=[{id:"title",name:"Title",field:"title",filterable:!0,sortable:!0,type:h.PUO.string,minWidth:45,width:100,filter:{model:h.CuW.compoundInput}},{id:"description",name:"Description",field:"description",filterable:!0,sortable:!0,minWidth:80,width:100,type:h.PUO.string,filter:{model:h.CuW.input,filterShortcuts:[{title:"Blank Values",searchTerms:["< A"],iconCssClass:"mdi mdi-filter-minus-outline"},{title:"Non-Blank Values",searchTerms:["> A"],iconCssClass:"mdi mdi-filter-plus-outline"}]}},{id:"duration",name:"Duration (days)",field:"duration",sortable:!0,type:h.PUO.number,exportCsvForceToKeepAsString:!0,minWidth:55,width:100,filterable:!0,filter:{collection:t,model:h.CuW.multipleSelect,filterOptions:{maxHeight:250,width:175}}},{id:"complete",name:"% Complete",field:"percentComplete",minWidth:70,type:h.PUO.number,sortable:!0,width:100,formatter:h._tQ.percentCompleteBar,filterable:!0,filter:{model:h.CuW.slider,operator:">"}},{id:"start",name:"Start",field:"start",formatter:h._tQ.dateIso,sortable:!0,minWidth:75,exportWithFormatter:!0,width:100,type:h.PUO.date,filterable:!0,filter:{model:h.CuW.compoundDate,filterShortcuts:[{title:"Past",searchTerms:[(0,m.GP)(new Date,"YYYY-MM-DD")],operator:"<",iconCssClass:"mdi mdi-calendar"},{title:"Future",searchTerms:[(0,m.GP)(new Date,"YYYY-MM-DD")],operator:">",iconCssClass:"mdi mdi-calendar-clock"}]}},{id:"completed",field:"completed",minWidth:85,maxWidth:85,formatter:h._tQ.checkmarkMaterial,width:100,type:h.PUO.boolean,sortable:!0,filterable:!0,filter:{collection:[{value:"",label:""},{value:!0,label:"True"},{value:!1,label:"False"}],model:h.CuW.singleSelect}}],this.gridOptions={autoResize:{container:"#demo-container",rightPadding:10},enableCheckboxSelector:!0,enableFiltering:!0,columnPicker:{hideForceFitButton:!0},gridMenu:{hideForceFitButton:!0,hideClearFrozenColumnsCommand:!1},headerMenu:{hideFreezeColumnsCommand:!1},enablePagination:!0,pagination:{pageSizes:[5,10,15,20,25,30,40,50,75,100],pageSize:25}},e&&(this.gridOptions.presets=e)}getData(e){const t=(new Date).getFullYear(),i=[];for(let a=0;a<e;a++){const e=Math.round(100*Math.random()),r=g(t-15,t+8),n=g(10,25),l=g(1,12),o=l<10?`0${l}`:l,s=g(10,28),d=g(0,100),c=g(10,23),u=g(10,59);i[a]={id:a,title:"Task "+a,description:a%5?"desc "+a:null,duration:e,percentComplete:d,percentCompleteNumber:d,start:new Date(r,l,s),usDateShort:`${l}/${s}/${n}`,utcDate:`${r}-${o}-${s}T${c}:${u}:${u}Z`,completed:a%3==0}}return i}gridStateChanged(e){console.log("Client sample, Grid State changed:: ",e),localStorage[p]=JSON.stringify(e.gridState)}saveCurrentGridState(){const e=this.aureliaGrid.gridStateService.getCurrentGridState();console.log("Client sample, current Grid State:: ",e),localStorage[p]=JSON.stringify(e)}useDefaultPresets(){return{columns:[{columnId:"description",width:170},{columnId:"title",width:55},{columnId:"duration"},{columnId:"complete"},{columnId:"start"},{columnId:"usDateShort"},{columnId:"utcDate"}],filters:[{columnId:"duration",searchTerms:[2,22,44]},{columnId:"usDateShort",operator:"<",searchTerms:["4/20/25"]}],sorters:[{columnId:"duration",direction:"DESC"},{columnId:"complete",direction:"ASC"}]}}}r.K94.define(a,b)}}]);