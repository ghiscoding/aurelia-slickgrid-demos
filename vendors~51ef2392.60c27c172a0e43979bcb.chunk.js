(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4SFh":function(e,t,i){"use strict";var r=i("rci4");i.d(t,"e",(function(){return r.a}));var n=i("yWDt");i.d(t,"g",(function(){return n.a}));var s=i("9u1P");i.d(t,"f",(function(){return s.sortByFieldType}));var o=i("SZ68");i.d(t,"a",(function(){return o.a}));var a=i("89dS");i.d(t,"d",(function(){return a.a}));var l=i("5l98");i.d(t,"b",(function(){return l.a})),i.d(t,"c",(function(){return l.b}))},"5l98":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l}));var r=i("Ljcy"),n=i("KKeK"),s=i("sjEL");const o=i.n(s).a||s;function a(e,t,i,r,n,s,a){var l,d;let u=0;const c=null!==(d=null!==(l=null==r?void 0:r.valueCouldBeUndefined)&&void 0!==l?l:null==n?void 0:n.cellValueCouldBeUndefined)&&void 0!==d&&d,h=o(e,s,a),g=o(t,s,a);return u=null===e||""===e||c&&void 0===e||!h.isValid()?-1:null===t||""===t||c&&void 0===t||!g.isValid()?1:h.valueOf()<g.valueOf()?-1:1,i*u}function l(e){const t=e===n.a.date?o.ISO_8601:Object(r.mapMomentDateFormatWithFieldType)(e);return(e,i,r,n,s)=>t===o.ISO_8601?a(e,i,r,n,s,t,!1):a(e,i,r,n,s,t,!0)}},"89dS":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const r=(e,t,i,r,n)=>{var s,o;const a=null!==(o=null!==(s=null==r?void 0:r.valueCouldBeUndefined)&&void 0!==s?s:null==n?void 0:n.cellValueCouldBeUndefined)&&void 0!==o&&o,l=isNaN(e)||""===e||null===e||a&&void 0===e?-99e10:parseFloat(e),d=isNaN(t)||""===t||null===t||a&&void 0===t?-99e10:parseFloat(t);return i*(l===d?0:l>d?1:-1)}},"9u1P":function(e,t,i){"use strict";i.r(t),i.d(t,"sortByFieldType",(function(){return o}));var r=i("NcUD"),n=i("4SFh"),s=i("5l98");function o(e,t,i,o,a,l){let d=0;switch(e){case r.FieldType.float:case r.FieldType.integer:case r.FieldType.number:d=n.a.numeric(t,i,o,a,l);break;case r.FieldType.date:case r.FieldType.dateIso:case r.FieldType.dateUtc:case r.FieldType.dateTime:case r.FieldType.dateTimeIso:case r.FieldType.dateTimeIsoAmPm:case r.FieldType.dateTimeIsoAM_PM:case r.FieldType.dateTimeShortIso:case r.FieldType.dateEuro:case r.FieldType.dateEuroShort:case r.FieldType.dateTimeShortEuro:case r.FieldType.dateTimeEuro:case r.FieldType.dateTimeEuroAmPm:case r.FieldType.dateTimeEuroAM_PM:case r.FieldType.dateTimeEuroShort:case r.FieldType.dateTimeEuroShortAmPm:case r.FieldType.dateTimeEuroShortAM_PM:case r.FieldType.dateUs:case r.FieldType.dateUsShort:case r.FieldType.dateTimeShortUs:case r.FieldType.dateTimeUs:case r.FieldType.dateTimeUsAmPm:case r.FieldType.dateTimeUsAM_PM:case r.FieldType.dateTimeUsShort:case r.FieldType.dateTimeUsShortAmPm:case r.FieldType.dateTimeUsShortAM_PM:d=Object(s.b)(e).call(this,t,i,o,a,l);break;case r.FieldType.object:d=n.a.objectString(t,i,o,a,l);break;case r.FieldType.string:case r.FieldType.text:case r.FieldType.password:case r.FieldType.readonly:default:d=n.a.string(t,i,o,a,l)}return d}},EZlM:function(e,t,i){"use strict";function r(e,t){["pop","push","reverse","shift","unshift","splice","sort"].forEach(i=>{e[i]=(...r)=>{const n=Array.prototype[i].apply(e,r);return t.apply(e,[e,r]),n}})}function n(e,t,i){let r=e[t];Object.defineProperty(e,t,{configurable:!0,get:()=>r,set(n){r=n,i.apply(e,[n,e[t]])}})}i.r(t),i.d(t,"collectionObserver",(function(){return r})),i.d(t,"propertyObserver",(function(){return n}))},FBVB:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class r{constructor(){this._boundedEvents=[]}bind(e,t,i,r){const n=Array.isArray(t)?t:[t];for(const t of n)e.addEventListener(t,i,r),this._boundedEvents.push({element:e,eventName:t,listener:i})}unbindAll(){for(;this._boundedEvents.length>0;){const e=this._boundedEvents.pop(),{element:t,eventName:i,listener:r}=e;(null==t?void 0:t.removeEventListener)&&t.removeEventListener(i,r)}}}},"GAj/":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return n}));var r=i("V5Q0");class n{constructor(e,t,i,r){this.pubSubService=e,this.sharedService=t,this.backendUtilities=i,this.rxjs=r,this._eventHandler=new Slick.EventHandler,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._itemsPerPage=0,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._availablePageSizes=[],this._subscriptions=[]}get dataView(){var e;return(null===(e=this.grid)||void 0===e?void 0:e.getData)&&this.grid.getData()}set paginationOptions(e){this._paginationOptions=e}get paginationOptions(){return this._paginationOptions}get availablePageSizes(){return this._availablePageSizes}get dataFrom(){return this._dataFrom}get dataTo(){return this._dataTo}get itemsPerPage(){return this._itemsPerPage}get pageCount(){return this._pageCount}get pageNumber(){return this._pageNumber}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this._initialized&&this.refreshPagination()}addRxJsResource(e){this.rxjs=e}init(e,t,i){if(this._availablePageSizes=t.pageSizes,this.grid=e,this._backendServiceApi=i,this._paginationOptions=t,this._isLocalGrid=!i,this._pageNumber=t.pageNumber||1,i&&(!i.service||!i.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');if(this._isLocalGrid&&this.dataView){const e=this.dataView.onPagingInfoChanged;this._eventHandler.subscribe(e,(e,t)=>{this._totalItems!==t.totalRows&&this.updateTotalItems(t.totalRows)}),setTimeout(()=>{this.dataView&&(this.dataView.setRefreshHints({isFilterUnchanged:!0}),this.dataView.setPagingOptions({pageSize:this.paginationOptions.pageSize,pageNum:this._pageNumber-1}))})}this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",()=>this.resetPagination())),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>this.resetPagination())),this.dataView&&(this._subscriptions.push(this.pubSubService.subscribe("onItemAdded",e=>{this.processOnItemAddedOrRemoved(e,!0)})),this._subscriptions.push(this.pubSubService.subscribe("onItemDeleted",e=>this.processOnItemAddedOrRemoved(e,!1)))),this.refreshPagination(!1,!1,!0),this._initialized=!0}dispose(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}getCurrentPagination(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}}getFullPagination(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}}getCurrentPageNumber(){return this._pageNumber}getCurrentItemPerPage(){return this._itemsPerPage}changeItemPerPage(e,t){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/e),this._itemsPerPage=e,this.processOnPageChanged(this._pageNumber,t)}goToFirstPage(e){return this._pageNumber=1,this.processOnPageChanged(this._pageNumber,e)}goToLastPage(e){return this._pageNumber=this._pageCount||1,this.processOnPageChanged(this._pageNumber||1,e)}goToNextPage(t){return this._pageNumber<this._pageCount?(this._pageNumber++,this.processOnPageChanged(this._pageNumber,t)):new e(e=>e(!1))}goToPageNumber(t,i){const r=this._pageNumber;return t<1?this._pageNumber=1:t>this._pageCount?this._pageNumber=this._pageCount:this._pageNumber=t,this._pageNumber!==r?this.processOnPageChanged(this._pageNumber,i):new e(e=>e(!1))}goToPreviousPage(t){return this._pageNumber>1?(this._pageNumber--,this.processOnPageChanged(this._pageNumber,t)):new e(e=>e(!1))}refreshPagination(e=!1,t=!0,i=!1){var n,s,o;const a={...this.getFullPagination()};if(this._paginationOptions){const t=this._paginationOptions;this._itemsPerPage||(this._isLocalGrid?this._itemsPerPage=t.pageSize:this._itemsPerPage=+((null===(o=null===(s=null===(n=this._backendServiceApi)||void 0===n?void 0:n.options)||void 0===s?void 0:s.paginationOptions)||void 0===o?void 0:o.first)?this._backendServiceApi.options.paginationOptions.first:t.pageSize)),(e||this._totalItems!==t.totalItems)&&(e?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&t.pageNumber&&t.pageNumber>1&&(this._pageNumber=t.pageNumber||1),1===this._pageNumber&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=t.pageSizes,!this._totalItems&&t.totalItems&&(this._totalItems=t.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage),this.sharedService.currentPagination=this.getCurrentPagination(),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),t&&!Object(r.dequal)(a,this.getFullPagination())&&this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),i&&!Object(r.dequal)(a,this.getFullPagination())&&this.pubSubService.publish("onPaginationPresetsInitialized",this.getFullPagination())}resetPagination(e=!0){var t,i;this._isLocalGrid&&this.dataView&&(null===(i=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)||void 0===i?void 0:i.enablePagination)&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this.refreshPagination(!0,e)}togglePaginationVisibility(e){var t;if(this.grid&&(null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)){const t=void 0!==e?e:!this.sharedService.gridOptions.enablePagination;if(t&&this.goToFirstPage(),this._isLocalGrid&&this.dataView){const t=e?this._itemsPerPage:0;this.dataView.setPagingOptions({pageSize:t,pageNum:0})}this.sharedService.gridOptions.enablePagination=t,this.pubSubService.publish("onPaginationVisibilityChanged",{visible:t})}}processOnPageChanged(t,i){return new e((r,n)=>{var s,o,a;if(this.recalculateFromToIndexes(),this._isLocalGrid&&this.dataView)this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:t-1}),this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),r(this.getFullPagination());else{const l=+this._itemsPerPage,d=new Date;if((null===(s=this._backendServiceApi)||void 0===s?void 0:s.preProcess)&&this._backendServiceApi.preProcess(),null===(o=this._backendServiceApi)||void 0===o?void 0:o.process){const s=this._backendServiceApi.service.processOnPaginationChanged(i,{newPage:t,pageSize:l}),o=this._backendServiceApi.process(s);o instanceof e?o.then(e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.executeBackendProcessesCallback(d,e,this._backendServiceApi,this._totalItems),r(this.getFullPagination())}).catch(e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.onBackendError(e,this._backendServiceApi),n(o)}):(null===(a=this.rxjs)||void 0===a?void 0:a.isObservable(o))&&this._subscriptions.push(o.subscribe(e=>{var t;r(null===(t=this.backendUtilities)||void 0===t?void 0:t.executeBackendProcessesCallback(d,e,this._backendServiceApi,this._totalItems))},e=>{var t;null===(t=this.backendUtilities)||void 0===t||t.onBackendError(e,this._backendServiceApi),n(o)})),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}})}recalculateFromToIndexes(){0===this._totalItems?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._pageNumber=this._totalItems>0&&0===this._pageNumber?1:this._pageNumber,(this._dataTo>this._totalItems||this._totalItems<this._itemsPerPage)&&(this._dataTo=this._totalItems)}updateTotalItems(e,t=!1){this._totalItems=e,this._paginationOptions&&(this._paginationOptions.totalItems=e,this.refreshPagination(!1,t))}processOnItemAddedOrRemoved(e,t=!0){if(null!==e){const i=this._dataTo,r=Array.isArray(e)?e.length:1,n=t?+r:-r;this._totalItems+=n,this.recalculateFromToIndexes(),this._dataTo=i+n,this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}}}).call(this,i("CW7D"))},GLew:function(e,t,i){"use strict";(function(e,r){i.d(t,"a",(function(){return a}));var n=i("NcUD"),s=i("Ljcy"),o=i("zTBH");class a{constructor(e){this.pubSubService=e,this._intervalRetryDelay=200,this._isStopResizeIntervalRequested=!1,this._hasResizedByContentAtLeastOnce=!1,this._totalColumnsWidthByContent=0,this._resizePaused=!1,this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}get gridOptions(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getOptions)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get dataView(){var e;return null===(e=this._grid)||void 0===e?void 0:e.getData()}get gridUid(){var e,t;return null!==(t=null===(e=this._grid)||void 0===e?void 0:e.getUID())&&void 0!==t?t:""}get intervalRetryDelay(){return this._intervalRetryDelay}set intervalRetryDelay(e){this._intervalRetryDelay=e}get resizeByContentOptions(){var e,t;return null!==(t=null===(e=this.gridOptions)||void 0===e?void 0:e.resizeByContentOptions)&&void 0!==t?t:{}}dispose(){var t;null===(t=this._eventHandler)||void 0===t||t.unsubscribeAll(),this._intervalId&&clearInterval(this._intervalId),e(window).off("resize.grid."+this.gridUid)}init(t,i){var r,n,s,o,a,l,d,u;if(!t||!this.gridOptions||!i)throw new Error('\n      [Slickgrid-Universal] Resizer Service requires a valid Grid object and DOM Element Container to be provided.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');this._grid=t,this._gridParentContainerElm=i;const c=(null===(r=this.gridOptions)||void 0===r?void 0:r.gridHeight)||(null===(n=this.gridOptions)||void 0===n?void 0:n.gridWidth)?{height:null===(s=this.gridOptions)||void 0===s?void 0:s.gridHeight,width:null===(o=this.gridOptions)||void 0===o?void 0:o.gridWidth}:void 0;this._autoResizeOptions=null!==(l=null===(a=this.gridOptions)||void 0===a?void 0:a.autoResize)&&void 0!==l?l:{container:"grid1",bottomPadding:0},(null==c?void 0:c.width)&&(null==i?void 0:i.style)&&(i.style.width="string"==typeof c.width?c.width:c.width+"px");const h=null===(d=null==t?void 0:t.getContainerNode)||void 0===d?void 0:d.call(t);if(this._gridDomElm=e(h),this._pageContainerElm=e(this._autoResizeOptions.container),this._gridContainerElm=e(i),c&&(this._fixedHeight=c.height,this._fixedWidth=c.width),this.gridOptions&&this.bindAutoResizeDataGrid(),this.gridOptions.autoResize&&this.pubSubService.subscribe("onFullResizeByContentRequested",()=>this.resizeColumnsByCellContent(!0)),null===(u=this.gridOptions)||void 0===u?void 0:u.enableColumnResizeOnDoubleClick){this.pubSubService.subscribe("onHeaderMenuColumnResizeByContent",e=>{this.handleSingleColumnResizeByContent(e.columnId)});const e=this._grid.onColumnsResizeDblClick;this._eventHandler.subscribe(e,(e,t)=>{this.handleSingleColumnResizeByContent(t.triggeredByColumn)})}}bindAutoResizeDataGrid(t){if(void 0===this._gridDomElm||void 0===this._gridDomElm.offset())return null;this.resizeGrid().then(()=>this.resizeGridWhenStylingIsBrokenUntilCorrected()).catch(e=>console.log("Error:",e)),e(window).on("resize.grid."+this.gridUid,this.handleResizeGrid.bind(this,t))}handleResizeGrid(e){this.pubSubService.publish("onGridBeforeResize"),this._resizePaused||(this.resizeGrid(0,e),this.resizeGrid(0,e))}calculateGridNewDimensions(e){var t,i,r,n,s,o;const a=null!==(t=null==e?void 0:e.autoResize)&&void 0!==t?t:{};if(!window||void 0===this._pageContainerElm||void 0===this._gridDomElm.offset())return null;let l=void 0!==(null==a?void 0:a.bottomPadding)?a.bottomPadding:20;if(l&&e.enablePagination&&(l+=35),l&&e.showCustomFooter){const e=null!==(n=null===(r=null===(i=this.gridOptions)||void 0===i?void 0:i.customFooterOptions)||void 0===r?void 0:r.footerHeight)&&void 0!==n?n:25;l+=parseInt(""+e,10)}let d=0,u=0;if("container"===a.calculateAvailableSizeBy)d=this._pageContainerElm.height()||0;else{d=window.innerHeight||0;const e=this._gridDomElm.offset();u=void 0!==e?e.top:0}const c=d-u-l,h=this._pageContainerElm.width()||window.innerWidth||0,g=null==a?void 0:a.maxHeight,p=null!==(s=null==a?void 0:a.minHeight)&&void 0!==s?s:180,m=null==a?void 0:a.maxWidth,v=null!==(o=null==a?void 0:a.minWidth)&&void 0!==o?o:300;let f=c,b=(null==a?void 0:a.rightPadding)?h-a.rightPadding:h;return f<p&&(f=p),g&&f>g&&(f=g),b<v&&(b=v),m&&b>m&&(b=m),{height:this._fixedHeight||f,width:this._fixedWidth||b}}getLastResizeDimensions(){return this._lastDimensions}pauseResizer(e){this._resizePaused=e}resizeGrid(e,t){return new r(i=>{(e=e||0)>0?(clearTimeout(this._timer),this._timer=setTimeout(()=>i(this.resizeGridCallback(t)),e)):i(this.resizeGridCallback(t))})}resizeGridCallback(e){var t,i;const r=this.resizeGridWithDimensions(e);return this.pubSubService.publish("onGridAfterResize",r),!this.gridOptions.enableAutoResizeColumnsByCellContent||(null===(t=this._lastDimensions)||void 0===t?void 0:t.width)&&(null==r?void 0:r.width)===(null===(i=this._lastDimensions)||void 0===i?void 0:i.width)||this.resizeColumnsByCellContent(!1),this._lastDimensions=r,r}resizeGridWithDimensions(t){var i,r,n;const s=this.calculateGridNewDimensions(this.gridOptions);if((t||s)&&this._gridDomElm.length>0){const o=(null==t?void 0:t.height)?t.height:null==s?void 0:s.height,a=(null==t?void 0:t.width)?t.width:null==s?void 0:s.width;this.gridOptions.autoHeight||(this._gridDomElm.height(o),this._gridContainerElm.height(o)),this._gridDomElm.width(a),this._gridContainerElm.width(a),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&this._grid&&this._grid.resizeCanvas&&this._grid.resizeCanvas(),(null===(i=this.gridOptions)||void 0===i?void 0:i.enableAutoSizeColumns)&&this._grid.autosizeColumns?this.gridUid&&e("."+this.gridUid).length>0&&this._grid.autosizeColumns():!this.gridOptions.enableAutoResizeColumnsByCellContent||(null===(r=this._lastDimensions)||void 0===r?void 0:r.width)&&a===(null===(n=this._lastDimensions)||void 0===n?void 0:n.width)||this.resizeColumnsByCellContent(!1),this._lastDimensions={height:o||0,width:a||0}}return this._lastDimensions}requestStopOfAutoFixResizeGrid(e=!0){this._isStopResizeIntervalRequested=e}resizeColumnsByCellContent(e=!1){var t,i,r,n,s,o,a;const l=this._grid.getColumns(),d=this.dataView.getItems(),u={};let c=!1,h=0;if(!Array.isArray(d)||0===d.length||this._hasResizedByContentAtLeastOnce&&(null===(t=this.gridOptions)||void 0===t?void 0:t.resizeByContentOnlyOnFirstLoad)&&!e)return;if(this.pubSubService.publish("onBeforeResizeByContent"),0===this._totalColumnsWidthByContent||e){for(const e of l)u[e.id]=null!==(r=null!==(i=e.originalWidth)&&void 0!==i?i:e.minWidth)&&void 0!==r?r:0;h=this.calculateCellWidthByReadingDataset(l,u,this.resizeByContentOptions.maxItemToInspectCellContentWidth);let e=0;for(const t of l){const i=null!==(s=null!==(n=t.resizeAlwaysRecalculateWidth)&&void 0!==n?n:this.resizeByContentOptions.alwaysRecalculateColumnWidth)&&void 0!==s&&s;t.originalWidth&&!i?t.width=t.originalWidth:void 0!==u[t.id]&&(t.rerenderOnResize&&(c=!0),this.applyNewCalculatedColumnWidthByReference(t,u[t.id])),e+=t.width||0,this._totalColumnsWidthByContent=e}}this._grid.setColumns(l),this._hasResizedByContentAtLeastOnce=!0;const g={};for(const e of l)g[e.id]=e.width;const p=null!==(a=null===(o=this._gridParentContainerElm)||void 0===o?void 0:o.offsetWidth)&&void 0!==a?a:0;this._totalColumnsWidthByContent>p?this._grid.reRenderColumns(c):this._grid.autosizeColumns(),this.pubSubService.publish("onAfterResizeByContent",{readItemCount:h,calculateColumnWidths:g})}calculateCellWidthByReadingDataset(e,t,i=1e3,r){const n=Array.isArray(e)?e:[e],s=this.dataView.getItems();let o=0;for(const[e,a]of s.entries()){if(e>i)break;Array.isArray(n)&&"object"==typeof t&&n.forEach((i,n)=>{const s=this.calculateCellWidthByContent(a,i,e,null!=r?r:n,t[i.id]);void 0!==s&&(t[i.id]=s)}),o=e+1}return o}calculateCellWidthByContent(e,t,i,r,n){var a,l;const d=null!==(a=this.resizeByContentOptions.cellCharWidthInPx)&&void 0!==a?a:7;if(!t.originalWidth){const a=null!==(l=null==t?void 0:t.resizeCharWidthInPx)&&void 0!==l?l:d,u=Object(o.e)(null==t?void 0:t.formatter,i,r,t,e,this._grid),c=Object(s.sanitizeHtmlToText)(u),h=Math.ceil(c.length*a),g=t.resizeMaxWidthThreshold;t&&(void 0===n||h>n)&&(n=void 0!==g&&h>g?g:void 0!==t.maxWidth&&h>t.maxWidth?t.maxWidth:h)}return n}applyNewCalculatedColumnWidthByReference(e,t){var i,r,s,o,a,l,d;const u=null!==(i=this.resizeByContentOptions.cellPaddingWidthInPx)&&void 0!==i?i:6,c=null!==(r=this.resizeByContentOptions.formatterPaddingWidthInPx)&&void 0!==r?r:6,h=null!==(a=null!==(o=null===(s=null==e?void 0:e.filter)||void 0===s?void 0:s.type)&&void 0!==o?o:null==e?void 0:e.type)&&void 0!==a?a:n.FieldType.string;let g=t;const p=null!==(d=null!==(l=null==e?void 0:e.resizeCalcWidthRatio)&&void 0!==l?l:this.resizeByContentOptions.defaultRatioForStringType)&&void 0!==d?d:.9;g*="string"===h?p:1,g+=u,e.resizeExtraWidthPadding&&(g+=e.resizeExtraWidthPadding),e.editor&&this.gridOptions.editable&&(g+=c),void 0!==e.maxWidth&&g>e.maxWidth&&(g=e.maxWidth),void 0!==e.resizeMaxWidthThreshold&&g>e.resizeMaxWidthThreshold&&(g=e.resizeMaxWidthThreshold),g=Math.ceil(g),void 0!==e.originalWidth&&!0!==e.resizeAlwaysRecalculateWidth&&!0!==this.resizeByContentOptions.alwaysRecalculateColumnWidth||(e.width=this.readjustNewColumnWidthWhenOverLimit(e,g))}handleSingleColumnResizeByContent(e){var t,i,r;const n=this._grid.getColumns(),s=n.findIndex(t=>t.id===e);if(s>=0){const o=n[s],a={[e]:null!==(i=null!==(t=o.originalWidth)&&void 0!==t?t:o.minWidth)&&void 0!==i?i:0};o.originalWidth=void 0,this.calculateCellWidthByReadingDataset(o,a,this.resizeByContentOptions.maxItemToInspectSingleColumnWidthByContent,s),this.applyNewCalculatedColumnWidthByReference(o,a[e]),this._grid.reRenderColumns(null!==(r=null==o?void 0:o.rerenderOnResize)&&void 0!==r&&r)}}readjustNewColumnWidthWhenOverLimit(e,t){var i,r,n,s,o,a,l,d;const u=null!==(i=this.gridOptions.frozenColumn)&&void 0!==i?i:-1,c=null!==(r=this._grid.getColumns().findIndex(t=>t.id===e.id))&&void 0!==r?r:0;let h=t;if(u>=0&&c<=u){const i=Array.from(this._grid.getViewports());if(i){const r=null!==(s=null===(n=i.find(e=>e.classList.contains("slick-viewport-left")))||void 0===n?void 0:n.clientWidth)&&void 0!==s?s:0,u=null!==(a=null===(o=i.find(e=>e.classList.contains("slick-viewport-right")))||void 0===o?void 0:o.clientWidth)&&void 0!==a?a:0,c=r+u,g=r-(null!==(l=e.width)&&void 0!==l?l:0);if(g+t>c){h=r-g+u-(null!==(d=this.resizeByContentOptions.widthToRemoveFromExceededWidthReadjustment)&&void 0!==d?d:50)}}}return Math.ceil(h)}resizeGridWhenStylingIsBrokenUntilCorrected(){var e,t,i,r;const n=null!==(t=null===(e=this.gridOptions)||void 0===e?void 0:e.autoFixResizeTimeout)&&void 0!==t?t:18e3,o=null!==(r=null===(i=this.gridOptions)||void 0===i?void 0:i.autoFixResizeRequiredGoodCount)&&void 0!==r?r:5,a=document.querySelector(`.${this.gridUid} .slick-header`),l=document.querySelector(`.${this.gridUid} .slick-viewport`);let d=0,u=0;a&&l&&this.gridOptions.autoFixResizeWhenBrokenStyleDetected&&(this._intervalId=setInterval(async()=>{var e,t,i,r,c,h;const g=Object(s.getHtmlElementOffset)(a);let p=null!==(e=null==g?void 0:g.top)&&void 0!==e?e:0;this.gridOptions&&this.gridOptions.enableFiltering&&this.gridOptions.headerRowHeight&&(p+=this.gridOptions.headerRowHeight),this.gridOptions&&this.gridOptions.createPreHeaderPanel&&this.gridOptions.showPreHeaderPanel&&this.gridOptions.preHeaderPanelHeight&&(p+=this.gridOptions.preHeaderPanelHeight),p+=44;const m=Object(s.getHtmlElementOffset)(l),v=null!==(t=null==m?void 0:m.top)&&void 0!==t?t:0,f=Object(s.getHtmlElementOffset)(this._gridParentContainerElm);let b=0===(null==g?void 0:g.top)||p-v>2||0===(null==f?void 0:f.left)&&0===(null==f?void 0:f.top);this._isStopResizeIntervalRequested&&(b=!1,d=n);const S=!(null===(r=null===(i=document.querySelector("."+this.gridUid))||void 0===i?void 0:i.offsetParent)||void 0===r||!r);if(S&&(b||u<o)&&((null==f?void 0:f.left)>0||(null==f?void 0:f.top)>0)){await this.resizeGrid();!(null===(h=null===(c=document.querySelector("."+this.gridUid))||void 0===c?void 0:c.offsetParent)||void 0===h||!h)&&(b=!1,u++)}S&&!b&&(u>=o||d++>=n)&&clearInterval(this._intervalId)},this.intervalRetryDelay))}}}).call(this,i("EVdn"),i("CW7D"))},Ljcy:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"addToArrayWhenNotExists",(function(){return c})),i.d(t,"addWhiteSpaces",(function(){return h})),i.d(t,"arrayRemoveItemByIndex",(function(){return g})),i.d(t,"castObservableToPromise",(function(){return p})),i.d(t,"unflattenParentChildArrayToTree",(function(){return m})),i.d(t,"addTreeLevelByMutation",(function(){return v})),i.d(t,"flattenToParentChildArray",(function(){return f})),i.d(t,"deepCopy",(function(){return b})),i.d(t,"emptyElement",(function(){return S})),i.d(t,"emptyObject",(function(){return _})),i.d(t,"findItemInHierarchicalStructure",(function(){return C})),i.d(t,"findItemInTreeStructure",(function(){return y})),i.d(t,"htmlEncode",(function(){return w})),i.d(t,"htmlEntityDecode",(function(){return T})),i.d(t,"htmlEncodedStringWithPadding",(function(){return O})),i.d(t,"isNumber",(function(){return E})),i.d(t,"decimalFormatted",(function(){return P})),i.d(t,"destroyObjectDomElementProps",(function(){return x})),i.d(t,"formatNumber",(function(){return I})),i.d(t,"getDescendantProperty",(function(){return F})),i.d(t,"getTranslationPrefix",(function(){return D})),i.d(t,"mapMomentDateFormatWithFieldType",(function(){return A})),i.d(t,"mapFlatpickrDateFormatWithFieldType",(function(){return R})),i.d(t,"mapOperatorType",(function(){return k})),i.d(t,"mapOperatorToShorthandDesignation",(function(){return N})),i.d(t,"mapOperatorByFieldType",(function(){return M})),i.d(t,"objectWithoutKey",(function(){return B})),i.d(t,"parseBoolean",(function(){return G})),i.d(t,"parseUtcDate",(function(){return H})),i.d(t,"sanitizeHtmlToText",(function(){return V})),i.d(t,"sanitizeTextByAvailableSanitizer",(function(){return z})),i.d(t,"setDeepValue",(function(){return j})),i.d(t,"thousandSeparatorFormatted",(function(){return L})),i.d(t,"titleCase",(function(){return U})),i.d(t,"toCamelCase",(function(){return W})),i.d(t,"toKebabCase",(function(){return Y})),i.d(t,"findOrDefault",(function(){return q})),i.d(t,"getHtmlElementOffset",(function(){return K})),i.d(t,"toSnakeCase",(function(){return $})),i.d(t,"unsubscribeAll",(function(){return J})),i.d(t,"uniqueArray",(function(){return Q})),i.d(t,"uniqueObjectArray",(function(){return Z}));var r=i("4A9l"),n=i("wMS7"),s=i("sjEL"),o=i.n(s),a=i("P379"),l=i("NcUD");const d=n,u=o.a||s;function c(e,t,i="id"){let r=-1;r="object"==typeof t&&i in t?e.findIndex(e=>e[i]===t[i]):e.findIndex(e=>e===t),r<0&&e.push(t)}function h(e,t=" "){let i="";for(let r=0;r<e;r++)i+=t;return i}function g(e,t){return e.filter((e,i)=>t!==i)}function p(t,i,r=""){let n=i;if(i instanceof e)return i;if(t.isObservable(i)&&(n=t.firstValueFrom(i)),!(n instanceof e))throw new Error(`Something went wrong, Slickgrid-Universal ${r} is not able to convert the Observable into a Promise.`);return n}function m(e,t){var i,r,n,s,o;const l=null!==(i=null==t?void 0:t.identifierPropName)&&void 0!==i?i:"id",d=null!==(r=null==t?void 0:t.childrenPropName)&&void 0!==r?r:a.a.treeDataProperties.CHILDREN_PROP,u=null!==(n=null==t?void 0:t.parentPropName)&&void 0!==n?n:a.a.treeDataProperties.PARENT_PROP,c=null!==(s=null==t?void 0:t.levelPropName)&&void 0!==s?s:a.a.treeDataProperties.TREE_LEVEL_PROP,h=null!==(o=null==t?void 0:t.collapsedPropName)&&void 0!==o?o:a.a.treeDataProperties.COLLAPSED_PROP,g=[],p={};return(e||[]).forEach(e=>p[e[l]]=e),Object.keys(p).forEach(e=>{var i;const r=p[e];if(u in r&&null!==r[u]&&void 0!==r[u]&&""!==r[u]){if(r[u]in p){const e=p[r[u]];d in e||(e[d]=[]),e[d].push(r),void 0===e[h]&&(e[h]=null!==(i=null==t?void 0:t.initiallyCollapsed)&&void 0!==i&&i)}}else g.push(r)}),v(g,{childrenPropName:d,levelPropName:c},0),g}function v(e,t,i=0){var r;const n=null!==(r=null==t?void 0:t.childrenPropName)&&void 0!==r?r:a.a.treeDataProperties.CHILDREN_PROP;if(Array.isArray(e))for(const r of e)r&&(Array.isArray(r[n])&&r[n].length>0&&(i++,v(r[n],t,i),i--),r[t.levelPropName]=i)}function f(e,t){var i,n,s,o,l;const d=null!==(i=null==t?void 0:t.identifierPropName)&&void 0!==i?i:"id",u=null!==(n=null==t?void 0:t.childrenPropName)&&void 0!==n?n:a.a.treeDataProperties.CHILDREN_PROP,c=null!==(s=null==t?void 0:t.hasChildrenPropName)&&void 0!==s?s:a.a.treeDataProperties.HAS_CHILDREN_PROP,h=null!==(o=null==t?void 0:t.parentPropName)&&void 0!==o?o:a.a.treeDataProperties.PARENT_PROP,g=null!==(l=null==t?void 0:t.levelPropName)&&void 0!==l?l:a.a.treeDataProperties.TREE_LEVEL_PROP;(null==t?void 0:t.shouldAddTreeLevelNumber)&&v(e,{childrenPropName:u,levelPropName:g});return Object(r.a)(e,e=>e[u],(e,t)=>({[d]:e[d],[h]:void 0!==t?t[d]:null,[c]:!!e[u],...B(e,u)}))}function b(e){const t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"object"===t?(()=>{const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=b(e[i]));return t})():"array"===t?e.map(e=>b(e)):e}function S(e){if(null==e?void 0:e.firstChild)for(;e.firstChild;)e.lastChild&&e.removeChild(e.lastChild);return e}function _(e){for(const t in e)e.hasOwnProperty(t)&&delete e[t];return e=null,e={}}function C(e,t,i){return y(e,t,i)}function y(e,t,i){if(!i)throw new Error('findRecursive requires parameter "childrenPropertyName"');const r=e.find(t),n=e.filter(e=>i in e&&e[i]);if(r)return r;if(n.length){const e=[];return n.forEach(t=>{i in t&&e.push(...t[i])}),y(e,t,i)}}function w(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(e||"").toString().replace(/[&<>"']/g,e=>t[e])}function T(e){return e.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t))}function O(e,t){const i=e.length;let r=w(e);if(i<t)for(let e=i;e<t;e++)r+="&nbsp;";return r}function E(e,t=!1){return t?null!=e&&"string"!=typeof e&&!isNaN(e):null!=e&&""!==e&&!isNaN(+e)}function P(e,t,i,r=".",n=""){if(isNaN(+e))return e;const s=void 0===t?2:t,o=void 0===i?2:i;let a=String(Math.round(+e*Math.pow(10,o))/Math.pow(10,o));for(a.indexOf(".")<0&&s>0&&(a+=".");a.length-a.indexOf(".")<=s;)a+="0";const l=a.split(".");let d,u;d=n?l.length>=1?L(l[0],n):void 0:l.length>=1?l[0]:a,l.length>1&&(u=l[1]);let c="";return void 0!==d&&void 0!==u?c=`${d}${r}${u}`:null!=d&&(c=d),c}function x(e){if(e)for(const t of Object.keys(e))Array.isArray(e[t])&&x(e[t]),e[t]instanceof HTMLElement&&(e[t]=null)}function I(e,t,i,r,n="",s="",o=".",a=""){if(isNaN(+e))return e;const l=Math.round(1e6*parseFloat(e))/1e6;if(l<0){const e=Math.abs(l);if(r){if(!isNaN(t)||!isNaN(i))return`(${n}${P(e,t,i,o,a)}${s})`;return`(${n}${L(""+e,a)}${s})`}if(!isNaN(t)||!isNaN(i))return`-${n}${P(e,t,i,o,a)}${s}`;return`-${n}${L(""+e,a)}${s}`}if(!isNaN(t)||!isNaN(i))return`${n}${P(e,t,i,o,a)}${s}`;return`${n}${L(""+e,a)}${s}`}function F(e,t){return e&&t?t.split(".").reduce((e,t)=>e&&e[t],e):e}function D(e){return e&&e.translationNamespace?e.translationNamespace+(e.translationNamespaceSeparator||""):""}function A(e){let t;switch(e){case l.FieldType.dateTime:case l.FieldType.dateTimeIso:t="YYYY-MM-DD HH:mm:ss";break;case l.FieldType.dateTimeIsoAmPm:t="YYYY-MM-DD hh:mm:ss a";break;case l.FieldType.dateTimeIsoAM_PM:t="YYYY-MM-DD hh:mm:ss A";break;case l.FieldType.dateTimeShortIso:t="YYYY-MM-DD HH:mm";break;case l.FieldType.dateEuro:t="DD/MM/YYYY";break;case l.FieldType.dateEuroShort:t="D/M/YY";break;case l.FieldType.dateTimeEuro:t="DD/MM/YYYY HH:mm:ss";break;case l.FieldType.dateTimeShortEuro:t="DD/MM/YYYY HH:mm";break;case l.FieldType.dateTimeEuroAmPm:t="DD/MM/YYYY hh:mm:ss a";break;case l.FieldType.dateTimeEuroAM_PM:t="DD/MM/YYYY hh:mm:ss A";break;case l.FieldType.dateTimeEuroShort:t="D/M/YY H:m:s";break;case l.FieldType.dateTimeEuroShortAmPm:t="D/M/YY h:m:s a";break;case l.FieldType.dateUs:t="MM/DD/YYYY";break;case l.FieldType.dateUsShort:t="M/D/YY";break;case l.FieldType.dateTimeUs:t="MM/DD/YYYY HH:mm:ss";break;case l.FieldType.dateTimeUsAmPm:t="MM/DD/YYYY hh:mm:ss a";break;case l.FieldType.dateTimeUsAM_PM:t="MM/DD/YYYY hh:mm:ss A";break;case l.FieldType.dateTimeUsShort:t="M/D/YY H:m:s";break;case l.FieldType.dateTimeUsShortAmPm:t="M/D/YY h:m:s a";break;case l.FieldType.dateTimeShortUs:t="MM/DD/YYYY HH:mm";break;case l.FieldType.dateUtc:t="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case l.FieldType.date:case l.FieldType.dateIso:default:t="YYYY-MM-DD"}return t}function R(e){let t;switch(e){case l.FieldType.dateTime:case l.FieldType.dateTimeIso:t="Y-m-d H:i:S";break;case l.FieldType.dateTimeShortIso:t="Y-m-d H:i";break;case l.FieldType.dateTimeIsoAmPm:case l.FieldType.dateTimeIsoAM_PM:t="Y-m-d h:i:S K";break;case l.FieldType.dateEuro:t="d/m/Y";break;case l.FieldType.dateEuroShort:t="d/m/y";break;case l.FieldType.dateTimeEuro:t="d/m/Y H:i:S";break;case l.FieldType.dateTimeShortEuro:t="d/m/y H:i";break;case l.FieldType.dateTimeEuroAmPm:t="d/m/Y h:i:S K";break;case l.FieldType.dateTimeEuroAM_PM:t="d/m/Y h:i:s K";break;case l.FieldType.dateTimeEuroShort:t="d/m/y H:i:s";break;case l.FieldType.dateTimeEuroShortAmPm:t="d/m/y h:i:s K";break;case l.FieldType.dateUs:t="m/d/Y";break;case l.FieldType.dateUsShort:t="m/d/y";break;case l.FieldType.dateTimeUs:t="m/d/Y H:i:S";break;case l.FieldType.dateTimeShortUs:t="m/d/y H:i";break;case l.FieldType.dateTimeUsAmPm:t="m/d/Y h:i:S K";break;case l.FieldType.dateTimeUsAM_PM:t="m/d/Y h:i:s K";break;case l.FieldType.dateTimeUsShort:t="m/d/y H:i:s";break;case l.FieldType.dateTimeUsShortAmPm:t="m/d/y h:i:s K";break;case l.FieldType.dateUtc:t="Z";break;case l.FieldType.date:case l.FieldType.dateIso:default:t="Y-m-d"}return t}function k(e){let t;switch(e){case"<":case"LT":t=l.OperatorType.lessThan;break;case"<=":case"LE":t=l.OperatorType.lessThanOrEqual;break;case">":case"GT":t=l.OperatorType.greaterThan;break;case">=":case"GE":t=l.OperatorType.greaterThanOrEqual;break;case"<>":case"!=":case"NE":t=l.OperatorType.notEqual;break;case"*":case"a*":case"StartsWith":t=l.OperatorType.startsWith;break;case"*z":case"EndsWith":t=l.OperatorType.endsWith;break;case"=":case"==":case"EQ":t=l.OperatorType.equal;break;case"IN":t=l.OperatorType.in;break;case"NIN":case"NOT_IN":t=l.OperatorType.notIn;break;case"Not_Contains":case"NOT_CONTAINS":t=l.OperatorType.notContains;break;case"Contains":case"CONTAINS":default:t=l.OperatorType.contains}return t}function N(e){let t="";switch(e){case l.OperatorType.greaterThan:case">":t=">";break;case l.OperatorType.greaterThanOrEqual:case">=":t=">=";break;case l.OperatorType.lessThan:case"<":t="<";break;case l.OperatorType.lessThanOrEqual:case"<=":t="<=";break;case l.OperatorType.notEqual:case"<>":t="<>";break;case l.OperatorType.equal:case"=":case"==":case"EQ":t="=";break;case l.OperatorType.startsWith:case"a*":case"*":t="a*";break;case l.OperatorType.endsWith:case"*z":t="*z";break;default:t=e}return t}function M(e){let t;switch(e){case l.FieldType.unknown:case l.FieldType.string:case l.FieldType.text:case l.FieldType.password:case l.FieldType.readonly:t=l.OperatorType.contains;break;case l.FieldType.float:case l.FieldType.number:case l.FieldType.date:case l.FieldType.dateIso:case l.FieldType.dateUtc:case l.FieldType.dateTime:case l.FieldType.dateTimeIso:case l.FieldType.dateTimeIsoAmPm:case l.FieldType.dateTimeIsoAM_PM:case l.FieldType.dateEuro:case l.FieldType.dateEuroShort:case l.FieldType.dateTimeEuro:case l.FieldType.dateTimeEuroAmPm:case l.FieldType.dateTimeEuroAM_PM:case l.FieldType.dateTimeEuroShort:case l.FieldType.dateTimeEuroShortAmPm:case l.FieldType.dateTimeEuroShortAM_PM:case l.FieldType.dateUs:case l.FieldType.dateUsShort:case l.FieldType.dateTimeUs:case l.FieldType.dateTimeUsAmPm:case l.FieldType.dateTimeUsAM_PM:case l.FieldType.dateTimeUsShort:case l.FieldType.dateTimeUsShortAmPm:case l.FieldType.dateTimeUsShortAM_PM:default:t=l.OperatorType.equal}return t}function B(e,t){return Object.keys(e).reduce((i,r)=>(r!==t&&(i[r]=e[r]),i),{})}function G(e){return/(true|1)/i.test(e+"")}function H(e,t){let i="";if("string"==typeof e&&/^[0-9\-\/]*$/.test(e)){const r=decodeURIComponent(e),n=u(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=t?n.utc().format():n.format())}return i}function V(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function z(e,t,i){let r=t;return e&&"function"==typeof e.sanitizer?r=e.sanitizer(t||""):"function"==typeof d.sanitize&&(r=(d.sanitize(t||"",i||{})||"").toString()),r}function j(e,t,i){if("string"==typeof t&&(t=t.split(".")),t.length>1){const r=t.shift();e&&void 0!==r&&j(e[r]="[object Object]"===Object.prototype.toString.call(e[r])?e[r]:{},t,i)}else e&&t[0]&&(e[t[0]]=i)}function L(e,t=","){if(null!=e){const i=""+e,r=i.split(".");return 2===r.length?`${r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)}.${r[1]}`:i.replace(/\B(?=(\d{3})+(?!\d))/g,t)}return e}function U(e,t=!1){return"string"==typeof e?t?e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):e.charAt(0).toUpperCase()+e.slice(1):e}function W(e){return"string"==typeof e?e.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,(e,t)=>/[\s+\-_\/]/.test(e)?"":0===t?e.toLowerCase():e.toUpperCase()):e}function Y(e){return"string"==typeof e?W(e).replace(/([A-Z])/g,"-$1").toLowerCase():e}function q(e,t,i={}){return Array.isArray(e)?e.find(t)||i:e}function K(e){var t;const i=null===(t=null==e?void 0:e.getBoundingClientRect)||void 0===t?void 0:t.call(e);let r=0,n=0;return i&&void 0!==i.top&&void 0!==i.left&&(r=i.top+window.pageYOffset,n=i.left+window.pageXOffset),{top:r,left:n}}function $(e){return"string"==typeof e?W(e).replace(/([A-Z])/g,"_$1").toLowerCase():e}function J(e){if(Array.isArray(e))for(;e.length>0;){const t=e.pop();(null==t?void 0:t.unsubscribe)&&t.unsubscribe()}return e}function Q(e){return Array.isArray(e)&&e.length>0?e.filter((t,i)=>e.indexOf(t)>=i):e}function Z(e,t="id"){if(Array.isArray(e)&&e.length>0){const i=[],r=new Map;for(const n of e)n&&!r.has(n[t])&&(r.set(n[t],!0),i.push({id:n[t],name:n.name}));return i}return e}}.call(this,i("CW7D"))},Oi2j:function(e,t,i){"use strict";i.d(t,"a",(function(){return r.BackendUtilityService})),i.d(t,"b",(function(){return n.a})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return d})),i.d(t,"z",(function(){return u})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return h})),i.d(t,"g",(function(){return g.a})),i.d(t,"i",(function(){return S})),i.d(t,"h",(function(){return _})),i.d(t,"j",(function(){return y})),i.d(t,"k",(function(){return w})),i.d(t,"m",(function(){return T.a})),i.d(t,"n",(function(){return O.a})),i.d(t,"o",(function(){return E})),i.d(t,"l",(function(){return P})),i.d(t,"r",(function(){return x})),i.d(t,"s",(function(){return I})),i.d(t,"p",(function(){return F})),i.d(t,"q",(function(){return D})),i.d(t,"t",(function(){return A})),i.d(t,"u",(function(){return k})),i.d(t,"v",(function(){return a.addToArrayWhenNotExists})),i.d(t,"x",(function(){return a.addWhiteSpaces})),i.d(t,"y",(function(){return a.arrayRemoveItemByIndex})),i.d(t,"A",(function(){return a.castObservableToPromise})),i.d(t,"ib",(function(){return a.unflattenParentChildArrayToTree})),i.d(t,"w",(function(){return a.addTreeLevelByMutation})),i.d(t,"J",(function(){return a.flattenToParentChildArray})),i.d(t,"C",(function(){return a.deepCopy})),i.d(t,"E",(function(){return a.emptyElement})),i.d(t,"F",(function(){return a.emptyObject})),i.d(t,"G",(function(){return a.findItemInHierarchicalStructure})),i.d(t,"H",(function(){return a.findItemInTreeStructure})),i.d(t,"O",(function(){return a.htmlEncode})),i.d(t,"Q",(function(){return a.htmlEntityDecode})),i.d(t,"P",(function(){return a.htmlEncodedStringWithPadding})),i.d(t,"R",(function(){return a.isNumber})),i.d(t,"B",(function(){return a.decimalFormatted})),i.d(t,"D",(function(){return a.destroyObjectDomElementProps})),i.d(t,"K",(function(){return a.formatNumber})),i.d(t,"L",(function(){return a.getDescendantProperty})),i.d(t,"N",(function(){return a.getTranslationPrefix})),i.d(t,"T",(function(){return a.mapMomentDateFormatWithFieldType})),i.d(t,"S",(function(){return a.mapFlatpickrDateFormatWithFieldType})),i.d(t,"W",(function(){return a.mapOperatorType})),i.d(t,"V",(function(){return a.mapOperatorToShorthandDesignation})),i.d(t,"U",(function(){return a.mapOperatorByFieldType})),i.d(t,"X",(function(){return a.objectWithoutKey})),i.d(t,"Y",(function(){return a.parseBoolean})),i.d(t,"Z",(function(){return a.parseUtcDate})),i.d(t,"ab",(function(){return a.sanitizeHtmlToText})),i.d(t,"bb",(function(){return a.sanitizeTextByAvailableSanitizer})),i.d(t,"cb",(function(){return a.setDeepValue})),i.d(t,"db",(function(){return a.thousandSeparatorFormatted})),i.d(t,"eb",(function(){return a.titleCase})),i.d(t,"fb",(function(){return a.toCamelCase})),i.d(t,"gb",(function(){return a.toKebabCase})),i.d(t,"I",(function(){return a.findOrDefault})),i.d(t,"M",(function(){return a.getHtmlElementOffset})),i.d(t,"hb",(function(){return a.toSnakeCase})),i.d(t,"lb",(function(){return a.unsubscribeAll})),i.d(t,"jb",(function(){return a.uniqueArray})),i.d(t,"kb",(function(){return a.uniqueObjectArray}));var r=i("VADH"),n=i("FBVB"),s=i("NcUD"),o=i("9u1P"),a=i("Ljcy");class l{constructor(e){this.translaterService=e}filterCollection(e,t,i=s.FilterMultiplePassType.chain){let r=[];if(Array.isArray(t)){r=i===s.FilterMultiplePassType.merge?[]:[...e];for(const n of t)if(i===s.FilterMultiplePassType.merge){const t=this.singleFilterCollection(e,n);r=Object(a.uniqueArray)([...r,...t])}else r=this.singleFilterCollection(r,n)}else r=this.singleFilterCollection(e,t);return r}singleFilterCollection(e,t){let i=[];if(t){const r=t.property,n=t.operator||s.OperatorType.equal,o=void 0===t.value?"":t.value;switch(n){case s.OperatorType.equal:i=r?e.filter(e=>e[r]===o):e.filter(e=>e===o);break;case s.OperatorType.contains:i=r?e.filter(e=>-1!==e[r].toString().indexOf(o.toString())):e.filter(e=>null!=e&&-1!==e.toString().indexOf(o.toString()));break;case s.OperatorType.notContains:i=r?e.filter(e=>-1===e[r].toString().indexOf(o.toString())):e.filter(e=>null!=e&&-1===e.toString().indexOf(o.toString()));break;case s.OperatorType.notEqual:default:i=r?e.filter(e=>e[r]!==o):e.filter(e=>e!==o)}}return i}sortCollection(e,t,i,r){var n,a,l,d;if(r&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let u=[];if(i)if(Array.isArray(i))u=t.sort((t,n)=>{var a,l,d,u;for(let c=0,h=i.length;c<h;c++){const h=i[c];if(null==h?void 0:h.property){const i=h.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,c=h.property,g=null!==(l=null!==(a=null==h?void 0:h.fieldType)&&void 0!==a?a:null==e?void 0:e.type)&&void 0!==l?l:s.FieldType.string,p=r?(null===(d=this.translaterService)||void 0===d?void 0:d.translate)&&this.translaterService.translate(t[c]||" "):t[c],m=r?(null===(u=this.translaterService)||void 0===u?void 0:u.translate)&&this.translaterService.translate(n[c]||" "):n[c],v=Object(o.sortByFieldType)(g,p,m,i,e);if(v!==s.SortDirectionNumber.neutral)return v}}return s.SortDirectionNumber.neutral});else if(null==i?void 0:i.property){const l=i.property,d=i.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,c=null!==(a=null!==(n=null==i?void 0:i.fieldType)&&void 0!==n?n:null==e?void 0:e.type)&&void 0!==a?a:s.FieldType.string;u=t.sort((t,i)=>{var n,a;const u=r?(null===(n=this.translaterService)||void 0===n?void 0:n.translate)&&this.translaterService.translate(t[l]||" "):t[l],h=r?(null===(a=this.translaterService)||void 0===a?void 0:a.translate)&&this.translaterService.translate(i[l]||" "):i[l],g=Object(o.sortByFieldType)(c,u,h,d,e);return g!==s.SortDirectionNumber.neutral?g:s.SortDirectionNumber.neutral})}else if(i&&!i.property){const n=i.sortDesc?s.SortDirectionNumber.desc:s.SortDirectionNumber.asc,a=null!==(d=null!==(l=null==i?void 0:i.fieldType)&&void 0!==l?l:null==e?void 0:e.type)&&void 0!==d?d:s.FieldType.string;u=t.sort((t,i)=>{var l,d;const u=r?(null===(l=this.translaterService)||void 0===l?void 0:l.translate)&&this.translaterService.translate(t||" "):t,c=r?(null===(d=this.translaterService)||void 0===d?void 0:d.translate)&&this.translaterService.translate(i||" "):i,h=Object(o.sortByFieldType)(a,u,c,n,e);return h!==s.SortDirectionNumber.neutral?h:s.SortDirectionNumber.neutral})}return u}}class d{get(e){throw new Error('ContainerService "get" method must be implemented')}registerInstance(e,t){throw new Error('ContainerService "registerInstance" method must be implemented')}}function u(e,t,i,r,n=!1,s,o){var l,d,u,c,h,g,p,m,v,f,b,S,_,C,y,w,T,O;const E=null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"",P=r.getOptions(),x=null!==(d="editor"===e?null==i?void 0:i.internalColumnEditor:null==i?void 0:i.filter)&&void 0!==d?d:{},I=null!==(u=null==x?void 0:x.collectionOptions)&&void 0!==u?u:{},F=null!==(c=null==I?void 0:I.separatorBetweenTextLabels)&&void 0!==c?c:"",D=null!==(h=null==x?void 0:x.enableTranslateLabel)&&void 0!==h&&h,A=null!==(g=null==P?void 0:P.enableTranslate)&&void 0!==g&&g,R=null!==(p=null==x?void 0:x.enableRenderHtml)&&void 0!==p&&p,k=null!==(m=null==P?void 0:P.sanitizeHtmlOptions)&&void 0!==m?m:{},N=null!==(f=null===(v=null==x?void 0:x.customStructure)||void 0===v?void 0:v.label)&&void 0!==f?f:"label",M=null!==(S=null===(b=null==x?void 0:x.customStructure)||void 0===b?void 0:b.labelPrefix)&&void 0!==S?S:"labelPrefix",B=null!==(C=null===(_=null==x?void 0:x.customStructure)||void 0===_?void 0:_.labelSuffix)&&void 0!==C?C:"labelSuffix",G=null!==(w=null===(y=null==x?void 0:x.customStructure)||void 0===y?void 0:y.optionLabel)&&void 0!==w?w:"value",H=null!==(O=null===(T=null==x?void 0:x.customStructure)||void 0===T?void 0:T.value)&&void 0!==O?O:"value",V=document.createElement("select");V.className="ms-filter search-filter";const z="filter"===e?["search-filter","filter-"+E]:["select-editor","editor-"+E];V.classList.add(...z),V.multiple=n;const j=document.createDocumentFragment();let L=!1;if(Array.isArray(t))if(t.every(e=>"string"==typeof e))for(const i of t){const t=document.createElement("option");"filter"===e&&Array.isArray(o)&&(t.selected=o.findIndex(e=>e===i)>=0),t.value=i,t.label=i,t.textContent=i,j.appendChild(t),(t.selected&&n||t.selected&&!n&&""!==i)&&(L=!0)}else t.forEach(t=>{if(!t||void 0===t[N]&&void 0===t.labelKey)throw new Error("[Slickgrid-Universal] Select Filter/Editor collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");const i=document.createElement("option"),r=t.labelKey||t[N],l=(t.labelKey||D&&s)&&r&&A?null==s?void 0:s.translate(r||" "):r;let d=t[M]||"",u=t[B]||"",c=t.hasOwnProperty(G)?t[G]:"";(null==c?void 0:c.toString)&&(c=c.toString().replace(/\"/g,"'")),d=D&&s&&d&&"string"==typeof d?s.translate(d||" "):d,u=D&&s&&u&&"string"==typeof u?s.translate(u||" "):u,c=D&&s&&c&&"string"==typeof c?s.translate(c||" "):c;let h=[d,"string"==typeof l||"number"==typeof l?l.toString():l,u].filter(e=>e).join(F);if(R){const e=Object(a.sanitizeTextByAvailableSanitizer)(P,h,k);h=Object(a.htmlEncode)(e),i.innerHTML=h}else i.textContent=h;let g=t[H];null==g&&(g=""),"filter"===e&&Array.isArray(o)&&(i.selected=o.findIndex(e=>""+e==""+t[H])>=0),i.value=""+g,i.label=""+(null!=c?c:""),j.appendChild(i),(i.selected&&n||i.selected&&!n&&""!==t[H])&&(L=!0)});return V.appendChild(j),{selectElement:V,hasFoundSearchTerm:L}}class c{init(e,t){throw new Error('ExcelExportService the "init" method must be implemented')}exportToExcel(e){throw new Error('ExcelExportService the "exportToExcel" method must be implemented')}}i("ICte"),i("+Huw"),i("v22/");class h{constructor(e,t,i,r,n,s,o,a,l,d,u,c,h,g,p,m){this.autoTooltipExtension=e,this.cellExternalCopyExtension=t,this.cellMenuExtension=i,this.checkboxSelectorExtension=r,this.columnPickerExtension=n,this.contextMenuExtension=s,this.draggableGroupingExtension=o,this.gridMenuExtension=a,this.groupItemMetaExtension=l,this.headerButtonExtension=d,this.headerMenuExtension=u,this.rowDetailViewExtension=c,this.rowMoveManagerExtension=h,this.rowSelectionExtension=g,this.sharedService=p,this.translaterService=m,this._extensionCreatedList={},this._extensionList={}}get extensionList(){return this._extensionList}dispose(){var e;this.sharedService.visibleColumns=[];for(const t of Object.keys(this._extensionList))if(this._extensionList.hasOwnProperty(t)){const i=this._extensionList[t];(null===(e=null==i?void 0:i.class)||void 0===e?void 0:e.dispose)&&i.class.dispose()}for(const e of Object.keys(this._extensionList))delete this._extensionList[e]}getAllColumns(){return this.sharedService.allColumns||[]}getVisibleColumns(){return this.sharedService.visibleColumns||[]}getExtensionByName(e){if(this._extensionList&&this._extensionList[e])return this._extensionList[e]}getSlickgridAddonInstance(e){const t=this.getExtensionByName(e);return t&&t.class&&t.instance?t.class&&t.class.getAddonInstance?t.class.getAddonInstance():t.instance:null}autoResizeColumns(){this.sharedService.slickGrid.autosizeColumns()}bindDifferentExtensions(){if(this.sharedService&&this.sharedService.gridOptions){if(this.sharedService.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.sharedService.gridOptions.enableAutoTooltip&&this.autoTooltipExtension&&this.autoTooltipExtension.register){const e=this.autoTooltipExtension.register();e&&(this._extensionList[s.ExtensionName.autoTooltip]={name:s.ExtensionName.autoTooltip,class:this.autoTooltipExtension,instance:e})}if(this.sharedService.gridOptions.enableExcelCopyBuffer&&this.cellExternalCopyExtension&&this.cellExternalCopyExtension.register){const e=this.cellExternalCopyExtension.register();e&&(this._extensionList[s.ExtensionName.cellExternalCopyManager]={name:s.ExtensionName.cellExternalCopyManager,class:this.cellExternalCopyExtension,instance:e})}if(this.sharedService.gridOptions.enableCellMenu&&this.cellMenuExtension&&this.cellMenuExtension.register){const e=this.cellMenuExtension.register();e&&(this._extensionList[s.ExtensionName.cellMenu]={name:s.ExtensionName.cellMenu,class:this.cellMenuExtension,instance:e})}if(!this.getExtensionByName(s.ExtensionName.rowSelection)&&(this.sharedService.gridOptions.enableRowSelection||this.sharedService.gridOptions.enableCheckboxSelector||this.sharedService.gridOptions.enableRowDetailView||this.sharedService.gridOptions.enableRowMoveManager)&&this.rowSelectionExtension&&this.rowSelectionExtension.register){const e=this.rowSelectionExtension.register();e&&(this._extensionList[s.ExtensionName.rowSelection]={name:s.ExtensionName.rowSelection,class:this.rowSelectionExtension,instance:e})}if(this.sharedService.gridOptions.enableCheckboxSelector&&this.checkboxSelectorExtension&&this.checkboxSelectorExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.checkboxSelectorExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.checkboxSelector),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.checkboxSelector]={name:s.ExtensionName.checkboxSelector,class:this.checkboxSelectorExtension,instance:i})}if(this.sharedService.gridOptions.enableColumnPicker&&this.columnPickerExtension&&this.columnPickerExtension.register){const e=this.columnPickerExtension.register();e&&(this._extensionList[s.ExtensionName.columnPicker]={name:s.ExtensionName.columnPicker,class:this.columnPickerExtension,instance:e})}if(this.sharedService.gridOptions.enableContextMenu&&this.contextMenuExtension&&this.contextMenuExtension.register){const e=this.contextMenuExtension.register();e&&(this._extensionList[s.ExtensionName.contextMenu]={name:s.ExtensionName.contextMenu,class:this.contextMenuExtension,instance:e})}if(this.sharedService.gridOptions.enableDraggableGrouping&&this.draggableGroupingExtension&&this.draggableGroupingExtension.register){const e=this.draggableGroupingExtension.register();e&&(this._extensionList[s.ExtensionName.draggableGrouping]={name:s.ExtensionName.draggableGrouping,class:this.draggableGroupingExtension,instance:e})}if(this.sharedService.gridOptions.enableGridMenu&&this.gridMenuExtension&&this.gridMenuExtension.register){const e=this.gridMenuExtension.register();e&&(this._extensionList[s.ExtensionName.gridMenu]={name:s.ExtensionName.gridMenu,class:this.gridMenuExtension,instance:e})}if((this.sharedService.gridOptions.enableDraggableGrouping||this.sharedService.gridOptions.enableGrouping)&&this.groupItemMetaExtension&&this.groupItemMetaExtension.register){const e=this.groupItemMetaExtension.register();e&&(this._extensionList[s.ExtensionName.groupItemMetaProvider]={name:s.ExtensionName.groupItemMetaProvider,class:this.groupItemMetaExtension,instance:e})}if(this.sharedService.gridOptions.enableHeaderButton&&this.headerButtonExtension&&this.headerButtonExtension.register){const e=this.headerButtonExtension.register();e&&(this._extensionList[s.ExtensionName.headerButton]={name:s.ExtensionName.headerButton,class:this.headerButtonExtension,instance:e})}if(this.sharedService.gridOptions.enableHeaderMenu&&this.headerMenuExtension&&this.headerMenuExtension.register){const e=this.headerMenuExtension.register();e&&(this._extensionList[s.ExtensionName.headerMenu]={name:s.ExtensionName.headerMenu,class:this.headerMenuExtension,instance:e})}if(this.sharedService.gridOptions.enableRowDetailView&&this.rowDetailViewExtension&&this.rowDetailViewExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.rowDetailViewExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.rowDetailView),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.rowDetailView]={name:s.ExtensionName.rowDetailView,class:this.rowDetailViewExtension,instance:i})}if(this.sharedService.gridOptions.enableRowMoveManager&&this.rowMoveManagerExtension&&this.rowMoveManagerExtension.register){const e=this.getExtensionByName(s.ExtensionName.rowSelection);this.rowMoveManagerExtension.register(null==e?void 0:e.instance);const t=this.getCreatedExtensionByName(s.ExtensionName.rowMoveManager),i=t&&t.instance;i&&(this._extensionList[s.ExtensionName.rowMoveManager]={name:s.ExtensionName.rowMoveManager,class:this.rowMoveManagerExtension,instance:i})}}}createExtensionsBeforeGridCreation(e,t){var i,r,n,o,a,l;const d=[];if(t.enableCheckboxSelector&&(this.getCreatedExtensionByName(s.ExtensionName.checkboxSelector)||d.push({name:s.ExtensionName.checkboxSelector,extension:this.checkboxSelectorExtension,columnIndexPosition:null!==(r=null===(i=null==t?void 0:t.checkboxSelector)||void 0===i?void 0:i.columnIndexPosition)&&void 0!==r?r:d.length})),t.enableRowMoveManager&&(this.getCreatedExtensionByName(s.ExtensionName.rowMoveManager)||d.push({name:s.ExtensionName.rowMoveManager,extension:this.rowMoveManagerExtension,columnIndexPosition:null!==(o=null===(n=null==t?void 0:t.rowMoveManager)||void 0===n?void 0:n.columnIndexPosition)&&void 0!==o?o:d.length})),t.enableRowDetailView&&(this.getCreatedExtensionByName(s.ExtensionName.rowDetailView)||d.push({name:s.ExtensionName.rowDetailView,extension:this.rowDetailViewExtension,columnIndexPosition:null!==(l=null===(a=null==t?void 0:t.rowDetailView)||void 0===a?void 0:a.columnIndexPosition)&&void 0!==l?l:d.length})),this.createExtensionByTheirColumnIndex(d,e,t),t.enableDraggableGrouping&&!this.getCreatedExtensionByName(s.ExtensionName.draggableGrouping)){const e=this.draggableGroupingExtension.create(t);e&&(t.enableColumnReorder=e.getSetupColumnReorder,this._extensionCreatedList[s.ExtensionName.draggableGrouping]={name:s.ExtensionName.draggableGrouping,instance:e,class:this.draggableGroupingExtension})}}hideColumn(e){if(this.sharedService&&this.sharedService.slickGrid&&this.sharedService.slickGrid.getColumns&&this.sharedService.slickGrid.setColumns){const t=this.sharedService.slickGrid.getColumnIndex(e.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.slickGrid.getColumns(),t),this.sharedService.slickGrid.setColumns(this.sharedService.visibleColumns)}}refreshBackendDataset(e){this.gridMenuExtension.refreshBackendDataset(e)}removeColumnByIndex(e,t){return Array.isArray(e)?e.filter((e,i)=>t!==i):e}translateCellMenu(){this.cellMenuExtension&&this.cellMenuExtension.translateCellMenu&&this.cellMenuExtension.translateCellMenu()}translateColumnPicker(){this.columnPickerExtension&&this.columnPickerExtension.translateColumnPicker&&this.columnPickerExtension.translateColumnPicker()}translateContextMenu(){this.contextMenuExtension&&this.contextMenuExtension.translateContextMenu&&this.contextMenuExtension.translateContextMenu()}translateGridMenu(){this.gridMenuExtension&&this.gridMenuExtension.translateGridMenu&&this.gridMenuExtension.translateGridMenu()}translateHeaderMenu(){this.headerMenuExtension&&this.headerMenuExtension.translateHeaderMenu&&this.headerMenuExtension.translateHeaderMenu()}translateColumnHeaders(e,t){var i;if(this.sharedService&&this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');e&&(null===(i=this.translaterService)||void 0===i?void 0:i.use)&&this.translaterService.use(e);let r=t;r||(r=this.sharedService.columnDefinitions),this.translateItems(r,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.renderColumnHeaders(r,Array.isArray(t)),this.gridMenuExtension.translateGridMenu()}renderColumnHeaders(e,t=!1){let i=e;i||(i=this.sharedService.columnDefinitions),Array.isArray(i)&&this.sharedService.slickGrid&&this.sharedService.slickGrid.setColumns&&((i.length>this.sharedService.allColumns.length||t)&&(this.sharedService.allColumns=i),this.sharedService.slickGrid.setColumns(i)),this.sharedService.gridOptions.enableColumnPicker&&this.recreateExternalAddon(this.columnPickerExtension,s.ExtensionName.columnPicker),this.sharedService.gridOptions.enableGridMenu&&this.recreateExternalAddon(this.gridMenuExtension,s.ExtensionName.gridMenu),this.sharedService.gridOptions.enableHeaderMenu&&this.recreateExternalAddon(this.headerMenuExtension,s.ExtensionName.headerMenu)}createExtensionByTheirColumnIndex(e,t,i){e.sort((e,t)=>e.columnIndexPosition-t.columnIndexPosition),e.forEach(e=>{const r=e.extension.create(t,i);r&&(this._extensionCreatedList[e.name]={name:e.name,instance:r,class:e.extension})})}getCreatedExtensionByName(e){if(this._extensionCreatedList&&this._extensionCreatedList.hasOwnProperty(e))return this._extensionCreatedList[e]}recreateExternalAddon(e,t){e.dispose();const i=e.register(),r=this.getExtensionByName(t);r&&(r.instance=i)}translateItems(e,t,i){var r;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(Array.isArray(e))for(const n of e)n[t]&&(n[i]=null===(r=this.translaterService)||void 0===r?void 0:r.translate(n[t]))}}var g=i("yXse");let p;const m={triggerEvent:!0},v={highlightRow:!0,position:"top",resortGrid:!1,selectRow:!1,triggerEvent:!0},f={highlightRow:!1,selectRow:!1,scrollRowIntoView:!1,triggerEvent:!0},b={autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1};class S{constructor(e,t,i,r,n,s,o){this.gridStateService=e,this.filterService=t,this.pubSubService=i,this.paginationService=r,this.sharedService=n,this.sortService=s,this.treeDataService=o}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get _gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions)?this._grid.getOptions():{}}dispose(){var e;(null===(e=this._rowSelectionPlugin)||void 0===e?void 0:e.destroy)&&this._rowSelectionPlugin.destroy()}init(e){this._grid=e}clearAllFiltersAndSorts(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()}clearPinning(){const e=[...this.sharedService.visibleColumns];this.sharedService.slickGrid.setOptions({frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1}),Array.isArray(e)&&this.sharedService.slickGrid.setColumns(e)}setPinning(e,t=!0,i=!1,r=!0){this.sharedService.slickGrid.setOptions(e,i,r),this.sharedService.gridOptions={...this.sharedService.gridOptions,...e},t&&this.sharedService.slickGrid.autosizeColumns()}getAllColumnDefinitions(){return this.sharedService.allColumns}getVisibleColumnDefinitions(){return this.sharedService.visibleColumns}getColumnFromEventArguments(e){if(!(e&&e.grid&&e.grid.getColumns&&e.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:e.row,cell:e.cell,columnDef:e.grid.getColumns()[e.cell],dataContext:e.grid.getDataItem(e.row),dataView:this._dataView,grid:this._grid}}getDataItemByRowNumber(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(e)}getItemRowMetadataToHighlight(e){return t=>{const i=this._dataView.getItem(t);let r={cssClasses:""};return"function"==typeof e&&(r=e(t)),r||(r={cssClasses:""}),i&&i._dirty&&(r.cssClasses=(r&&r.cssClasses||"")+" dirty"),i&&i.rowClass&&r&&(r.cssClasses+=" "+i.rowClass,r.cssClasses+=" row"+t),r}}getDataItemByRowIndex(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(e)}getDataItemByRowIndexes(e){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');const t=[];return Array.isArray(e)&&e.forEach(e=>{t.push(this._grid.getDataItem(e))}),t}getSelectedRows(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()}getSelectedRowsDataItem(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');const e=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(e)}hideColumnById(e,t){if(t={...b,...t},this._grid&&this._grid.getColumns&&this._grid.setColumns){const i=this._grid.getColumns(),r=i.findIndex(t=>t.id===e);if(r>=0){const n=Object(a.arrayRemoveItemByIndex)(i,r);this.sharedService.visibleColumns=n,this._grid.setColumns(n);const s=this.sharedService.allColumns.findIndex(t=>t.id===e);return s&&((null==t?void 0:t.hideFromColumnPicker)&&(this.sharedService.allColumns[s].excludeFromColumnPicker=!0),(null==t?void 0:t.hideFromGridMenu)&&(this.sharedService.allColumns[s].excludeFromGridMenu=!0)),(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:n}),r}}return-1}hideColumnByIds(e,t){if(t={...b,...t},Array.isArray(e)){for(const i of e)this.hideColumnById(i,{...t,triggerEvent:!1,autoResizeColumns:!1});(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:this.sharedService.visibleColumns})}}highlightRow(e,t=1500,i=300){!this._grid.getSelectionModel()&&Slick&&Slick.RowSelectionModel&&(this._rowSelectionPlugin=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionPlugin)),Array.isArray(e)?e.forEach(e=>this.highlightRowByMetadata(e,t,i)):this.highlightRowByMetadata(e,t,i)}highlightRowByMetadata(e,t=1500,i=300){this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);const r=this._dataView.getItem(e),n=this._gridOptions.datasetIdPropertyName||"id";void 0!==(null==r?void 0:r[n])&&(r.rowClass="highlight",this._dataView.updateItem(r[n],r),this.renderGrid(),clearTimeout(p),p=setTimeout(()=>{r.rowClass="highlight-end",this._dataView.updateItem(r[n],r),this.renderGrid()},i),setTimeout(()=>{void 0!==(null==r?void 0:r[n])&&(delete r.rowClass,void 0!==this._dataView.getIdxById(r[n])&&(this._dataView.updateItem(r[n],r),this.renderGrid()))},t+i))}setSelectedRow(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows([e])}setSelectedRows(e){this._grid&&this._grid.setSelectedRows&&this._grid.setSelectedRows(e)}renderGrid(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())}resetGrid(e){if(this._grid&&this._dataView){const t=this.sharedService.allColumns||[];Array.isArray(t)&&t.length>0&&(this._grid.setColumns(t),this._gridOptions&&this._gridOptions.enableAutoSizeColumns&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(e))}this.clearPinning(),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()}addItem(e,t){var i,r,n,s,o;const a=null!==(i=null==(t={...v,...t})?void 0:t.position)&&void 0!==i?i:"top";if(!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");const l=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(l in e))throw new Error(`Adding an item requires the item to include an "${l}" property`);"bottom"===a||(null===(r=this._gridOptions)||void 0===r?void 0:r.enableTreeData)?this._dataView.addItem(e):this._dataView.insertItem(0,e);let d=0;const u=null!==(s=null===(n=e)||void 0===n?void 0:n[l])&&void 0!==s?s:"";(null===(o=this._gridOptions)||void 0===o?void 0:o.enableTreeData)?(this.invalidateHierarchicalDataset(),d=this._dataView.getRowById(u),this._grid.scrollRowIntoView(null!=d?d:0,!1)):t.resortGrid?(this._dataView.reSort(),d=this._dataView.getRowById(u)):(d="bottom"===a?this._dataView.getRowById(u):0,this._grid.scrollRowIntoView(null!=d?d:0)),t.highlightRow&&void 0!==d&&this.highlightRow(d),void 0!==d&&t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(d),t.triggerEvent&&this.pubSubService.publish("onItemAdded",e);return!(this._gridOptions&&this._gridOptions.backendServiceApi)&&this._gridOptions.enablePagination&&("top"===a?this.paginationService.goToFirstPage():this.paginationService.goToLastPage()),d}addItems(e,t){var i,r,n,s,o,a;t={...v,...t};const l=this._gridOptions.datasetIdPropertyName||"id",d=null!==(i=null==t?void 0:t.position)&&void 0!==i?i:"top",u=[];if(!Array.isArray(e))return[this.addItem(e,t)||0];if(this._dataView.beginUpdate(!0),"bottom"===d||(null===(r=this._gridOptions)||void 0===r?void 0:r.enableTreeData)?this._dataView.addItems(e):this._dataView.insertItems(0,e),this._dataView.endUpdate(),null===(n=this._gridOptions)||void 0===n?void 0:n.enableTreeData){this.invalidateHierarchicalDataset();const t=null!==(o=null===(s=e[0])||void 0===s?void 0:s[l])&&void 0!==o?o:"",i=this._dataView.getRowById(t);this._grid.scrollRowIntoView(null!=i?i:0,!1)}else t.resortGrid&&this._dataView.reSort();return"bottom"!==d||(null===(a=this._gridOptions)||void 0===a?void 0:a.enableTreeData)?this._grid.navigateTop():this._grid.navigateBottom(),e.forEach(e=>u.push(this._dataView.getRowById(e[l]))),t.highlightRow&&this.highlightRow(u),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(u),t.triggerEvent&&this.pubSubService.publish("onItemAdded",e),u}deleteItem(e,t){t={...m,...t};const i=this._gridOptions.datasetIdPropertyName||"id";if(!e||!(i in e))throw new Error(`Deleting an item requires the item to include an "${i}" property`);return this.deleteItemById(e[i],t)}deleteItems(e,t){t={...m,...t};const i=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(e))return this.deleteItem(e,t),[e[i]];this._dataView.beginUpdate(!0);const r=[];return e.forEach(e=>{var t;void 0!==(null===(t=e)||void 0===t?void 0:t[i])&&r.push(e[i])}),this._dataView.deleteItems(r),this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),r}deleteItemById(e,t){if(t={...m,...t},null==e)throw new Error('Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection()||!1)&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(e),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),e}deleteItemByIds(e,t){if(t={...m,...t},Array.isArray(e)){this._dataView.beginUpdate(!0);for(let t=0;t<e.length;t++)null!==e[t]&&this.deleteItemById(e[t],{triggerEvent:!1});return this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",e),e}return[]}updateItem(e,t){t={...f,...t};const i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error(`Calling Update of an item requires the item to include an "${i}" property`);return this.updateItemById(r,e,t)}updateItems(e,t){var i;t={...f,...t};const r=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(e))return[this.updateItem(e,t)];this._dataView.beginUpdate(!0);const n=[],s=[];return e.forEach(e=>{const t=e&&r in e?e[r]:void 0;if(s.push(t),void 0!==this._dataView.getIdxById(t)){const e=this._dataView.getRowById(t);void 0!==e&&(n.push(e),this._grid.updateRow(e))}}),this._dataView.updateItems(s,e),this._dataView.endUpdate(),(null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&this.invalidateHierarchicalDataset(),t.highlightRow&&this.highlightRow(n),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(n),t.triggerEvent&&this.pubSubService.publish("onItemUpdated",e),n}updateItemById(e,t,i){var r;if(i={...f,...i},void 0===e)throw new Error('Cannot update a row without a valid "id"');const n=this._dataView.getRowById(e);if(!(t&&void 0!==n||this._gridOptions.enablePagination))throw new Error("The item to update in the grid was not found with id: "+e);return void 0!==this._dataView.getIdxById(e)&&(this._dataView.updateItem(e,t),this._grid.updateRow(n),(null===(r=this._gridOptions)||void 0===r?void 0:r.enableTreeData)&&this.invalidateHierarchicalDataset(),i.scrollRowIntoView&&this._grid.scrollRowIntoView(n),i.highlightRow&&this.highlightRow(n),i.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(n),i.triggerEvent&&this.pubSubService.publish("onItemUpdated",t)),n}upsertItem(e,t){t={...v,...t};const i=this._gridOptions.datasetIdPropertyName||"id",r=e&&i in e?e[i]:void 0;if(void 0===r)throw new Error(`Calling Upsert of an item requires the item to include an "${i}" property`);return this.upsertItemById(r,e,t)}upsertItems(e,t){if(t={...v,...t},!Array.isArray(e))return[this.upsertItem(e,t)];this._dataView.beginUpdate(!0);const i=[];e.forEach(e=>{i.push(this.upsertItem(e,{...t,highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1}))}),this._dataView.endUpdate();const r=i.map(e=>void 0!==e.added?e.added:e.updated);if(t.highlightRow&&this.highlightRow(r),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(r),t.triggerEvent){this.pubSubService.publish("onItemUpserted",e);const t=i.filter(e=>void 0!==e.added);Array.isArray(t)&&t.length>0&&this.pubSubService.publish("onItemAdded",t);const r=i.filter(e=>void 0!==e.updated);Array.isArray(r)&&r.length>0&&this.pubSubService.publish("onItemUpdated",r)}return i}upsertItemById(e,t,i){let r,n,s=!1;if(i={...v,...i},void 0===e&&!this.hasRowSelectionEnabled())throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');return void 0===this._dataView.getRowById(e)?(r=this.addItem(t,i),s=!0):(n=this.updateItem(t,{highlightRow:i.highlightRow,selectRow:i.selectRow,triggerEvent:i.triggerEvent}),s=!1),i.triggerEvent&&(this.pubSubService.publish("onItemUpserted",t),s?this.pubSubService.publish("onItemAdded",t):this.pubSubService.publish("onItemUpdated",t)),{added:r,updated:n}}invalidateHierarchicalDataset(e){var t;if((null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData)&&this.treeDataService){const t=null!=e?e:this._dataView.getItems(),i=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(t||[],this.sharedService.allColumns,this._gridOptions);this.sharedService.hierarchicalDataset=i.hierarchical,this.filterService.refreshTreeDataFilters(e),this._dataView.setItems(i.flat)}}hasRowSelectionEnabled(){const e=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&e}}class _{constructor(){this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}dispose(){this._eventHandler.unsubscribeAll()}bindOnBeforeEditCell(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onBeforeEditCell;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e.getColumns()[r.cell];if("function"==typeof n.onBeforeEditCell){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onBeforeEditCell(i,s)}})}bindOnCellChange(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onCellChange;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e.getColumns()[r.cell];if("function"==typeof n.onCellChange){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellChange(i,s)}})}bindOnClick(e){const t=(null==e?void 0:e.getData)&&e.getData(),i=e.onClick;this._eventHandler.subscribe(i,(i,r)=>{if(!(i&&r&&e&&void 0!==r.cell&&e.getColumns&&e.getDataItem))return;const n=e&&e.getColumns&&e.getColumns()[r.cell],s=e&&e.getOptions&&e.getOptions()||{};if(s.enableCellNavigation&&(!s.editable||s.editable&&s.autoCommitEdit)&&e.setActiveCell(r.row,r.cell,!1,!1,!0),"function"==typeof n.onCellClick){const s={row:r.row,cell:r.cell,dataView:t,grid:e,columnDef:n,dataContext:e.getDataItem(r.row)};n.onCellClick(i,s)}})}}var C=i("V5Q0");class y{constructor(e,t,i,r,n,s){this.extensionService=e,this.filterService=t,this.pubSubService=i,this.sharedService=r,this.sortService=n,this.treeDataService=s,this._eventHandler=new Slick.EventHandler,this._columns=[],this._currentColumns=[],this._subscriptions=[],this._selectedRowDataContextIds=[],this._selectedFilteredRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0}get _dataView(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getData)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get _gridOptions(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getOptions)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get datasetIdPropName(){return this._gridOptions.datasetIdPropertyName||"id"}get selectedRowDataContextIds(){return this._selectedRowDataContextIds}set selectedRowDataContextIds(e){this._selectedRowDataContextIds=e,this._selectedFilteredRowDataContextIds=e}init(e){this._grid=e,this.subscribeToAllGridChanges(e)}dispose(){this._currentColumns=[],this._columns=[],this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}changeColumnsArrangement(e,t=!0,i=!1){var r,n,s,o,a,l,d,u,c;if(Array.isArray(e)&&e.length>0){const h=this.getAssociatedGridColumns(this._grid,e);if(h&&Array.isArray(h)&&h.length>0){if(Array.isArray(this.sharedService.allColumns)){const e=[];if(this._gridOptions.enableCheckboxSelector){const t=null!==(s=null===(n=null===(r=this._gridOptions)||void 0===r?void 0:r.checkboxSelector)||void 0===n?void 0:n.columnIndexPosition)&&void 0!==s?s:0;e.push({columnId:"_checkbox_selector",columnIndexPosition:t})}if(this._gridOptions.enableRowDetailView){const t=null!==(l=null===(a=null===(o=this._gridOptions)||void 0===o?void 0:o.rowDetailView)||void 0===a?void 0:a.columnIndexPosition)&&void 0!==l?l:0;e.push({columnId:"_detail_selector",columnIndexPosition:t})}if(this._gridOptions.enableRowMoveManager){const t=null!==(c=null===(u=null===(d=this._gridOptions)||void 0===d?void 0:d.rowMoveManager)||void 0===u?void 0:u.columnIndexPosition)&&void 0!==c?c:0;e.push({columnId:"_move",columnIndexPosition:t})}this.addColumnDynamicWhenFeatureEnabled(e,this.sharedService.allColumns,h)}h.forEach(e=>e.originalWidth=e.width||e.originalWidth),this._grid.setColumns(h),this.sharedService.visibleColumns=h,t?this._grid.autosizeColumns():(i||this._gridOptions.enableAutoResizeColumnsByCellContent&&!this._gridOptions.autosizeColumnsByCellContentOnFirstLoad)&&this.pubSubService.publish("onFullResizeByContentRequested",{caller:"GridStateService"})}}}getCurrentGridState(e){var t;const{frozenColumn:i,frozenRow:r,frozenBottom:n}=this.sharedService.gridOptions,s={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters(),pinning:{frozenColumn:i,frozenRow:r,frozenBottom:n}},o=this.getCurrentPagination();if(o&&(s.pagination=o),this.hasRowSelectionEnabled()){const t=this.getCurrentRowSelections(null==e?void 0:e.requestRefreshRowFilteredRow);t&&(s.rowSelection=t)}if(null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData){const e=this.getCurrentTreeDataToggleState();e&&(s.treeData=e)}return s}getColumns(){return this._columns}getAssociatedCurrentColumns(e){const t=[];return e&&Array.isArray(e)&&e.forEach(e=>{(null==e?void 0:e.id)&&t.push({columnId:e.id,cssClass:e.cssClass||"",headerCssClass:e.headerCssClass||"",width:e.width||0})}),this._currentColumns=t,t}getAssociatedGridColumns(e,t){const i=[],r=this.sharedService.allColumns||e.getColumns();return t&&Array.isArray(t)&&t.forEach(e=>{const t=r.find(t=>t.id===e.columnId);(null==t?void 0:t.id)&&i.push({...t,cssClass:e.cssClass,headerCssClass:e.headerCssClass,width:e.width})}),this._columns=i,i}getCurrentColumns(){let e=[];return e=this._currentColumns&&Array.isArray(this._currentColumns)&&this._currentColumns.length>0?this._currentColumns:this.getAssociatedCurrentColumns(this._grid.getColumns()),e}getCurrentFilters(){var e,t;if(null===(e=this._gridOptions)||void 0===e?void 0:e.backendServiceApi){const e=this._gridOptions.backendServiceApi.service;if(null==e?void 0:e.getCurrentFilters)return e.getCurrentFilters()}else if(null===(t=this.filterService)||void 0===t?void 0:t.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null}getCurrentPagination(){var e;if(null===(e=this._gridOptions)||void 0===e?void 0:e.enablePagination){if(!this._gridOptions.backendServiceApi)return this.sharedService.currentPagination;{const e=this._gridOptions.backendServiceApi.service;if(null==e?void 0:e.getCurrentPagination)return e.getCurrentPagination()}}return null}getCurrentRowSelections(e=!0){if(this._grid&&this._gridOptions&&this._dataView&&this.hasRowSelectionEnabled()){let t=[];const i=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),r=this._selectedRowDataContextIds;return!0===e&&(t=this.refreshFilteredRowSelections()),t=this._selectedFilteredRowDataContextIds,{gridRowIndexes:i,dataContextIds:r,filteredDataContextIds:t}}return null}getCurrentSorters(){var e,t;if(null===(e=this._gridOptions)||void 0===e?void 0:e.backendServiceApi){const e=this._gridOptions.backendServiceApi.service;if(null==e?void 0:e.getCurrentSorters)return e.getCurrentSorters()}else if(null===(t=this.sortService)||void 0===t?void 0:t.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null}getCurrentTreeDataToggleState(){var e;return(null===(e=this._gridOptions)||void 0===e?void 0:e.enableTreeData)&&this.treeDataService?this.treeDataService.getCurrentToggleState():null}needToPreserveRowSelection(){var e;let t=!1;if((null===(e=this._gridOptions)||void 0===e?void 0:e.dataView)&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){const e=this._gridOptions.dataView.syncGridSelection;"boolean"==typeof e?t=this._gridOptions.dataView.syncGridSelection:"object"==typeof e&&(t=e.preserveHidden),t&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(t=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return t}resetColumns(e){const t=e||this._columns,i=this.getAssociatedCurrentColumns(t);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})}resetToOriginalColumns(e=!0){this._grid.setColumns(this.sharedService.allColumns),this.sharedService.visibleColumns=this.sharedService.allColumns,e&&this._grid.autosizeColumns()}resetRowSelectionWhenRequired(){var e,t;if(!this.needToPreserveRowSelection()&&(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)){const i=null===(t=null===(e=this.extensionService)||void 0===e?void 0:e.getExtensionByName)||void 0===t?void 0:t.call(e,s.ExtensionName.rowSelection);(null==i?void 0:i.instance)&&this._grid.setSelectedRows([])}}subscribeToAllGridChanges(e){this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.filter},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!this.hasRowSelectionEnabled()})}),this.hasRowSelectionEnabled()&&this.reEvaluateRowSelectionAfterFilterChange()})),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:s.GridStateType.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",e=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.sorter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:s.GridStateType.sorter},gridState:this.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(s.ExtensionName.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(s.ExtensionName.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",e),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",e),this.bindSlickGridOnSetOptionsEventToGridStateChange(e),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.bindSlickGridRowSelectionToGridStateChange(),this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuHideColumns",e=>{const t=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeItemToggled",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.treeData},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeFullToggleEnd",e=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.treeData},gridState:this.getCurrentGridState()})}))}addColumnDynamicWhenFeatureEnabled(e,t,i){e.sort((e,t)=>e.columnIndexPosition-t.columnIndexPosition),e.forEach(e=>{const r=t.findIndex(t=>t.id===e.columnId),n=i.findIndex(t=>t.id===e.columnId);if(r>=0&&-1===n){const e=t[r];0===r?i.unshift(e):i.splice(r,0,e)}})}bindExtensionAddonEventToGridStateChange(e,t){var i,r,n;const o=null===(r=null===(i=this.extensionService)||void 0===i?void 0:i.getExtensionByName)||void 0===r?void 0:r.call(i,e),a=null===(n=null==o?void 0:o.instance)||void 0===n?void 0:n[t];a&&"function"==typeof a.subscribe&&this._eventHandler.subscribe(a,(e,t)=>{const i=null==t?void 0:t.columns,r=this.getAssociatedCurrentColumns(i);this.pubSubService.publish("onGridStateChanged",{change:{newValues:r,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})})}bindSlickGridColumnChangeEventToGridStateChange(e,t){var i;const r=null===(i=t)||void 0===i?void 0:i[e];r&&"function"==typeof r.subscribe&&this._eventHandler.subscribe(r,()=>{const e=t.getColumns(),i=this.getAssociatedCurrentColumns(e);this.pubSubService.publish("onGridStateChanged",{change:{newValues:i,type:s.GridStateType.columns},gridState:this.getCurrentGridState()})})}bindSlickGridOnSetOptionsEventToGridStateChange(e){const t=e.onSetOptions;this._eventHandler.subscribe(t,(e,t)=>{const{frozenBottom:i,frozenColumn:r,frozenRow:n}=t.optionsBefore,{frozenBottom:o,frozenColumn:a,frozenRow:l}=t.optionsAfter;if(i!==o||r!==a||n!==l){const e={frozenBottom:o,frozenColumn:a,frozenRow:l},t=this.getCurrentGridState();this.pubSubService.publish("onGridStateChanged",{change:{newValues:e,type:s.GridStateType.pinning},gridState:t})}})}bindSlickGridRowSelectionToGridStateChange(){if(this._grid&&this._gridOptions&&this._dataView){const e=this._dataView.onBeforePagingInfoChanged;this._eventHandler.subscribe(e,()=>{this._wasRecheckedAfterPageChange=!1});const t=this._dataView.onPagingInfoChanged;this._eventHandler.subscribe(t,()=>{setTimeout(()=>{const e=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),t=this._grid.getSelectedRows();Object(C.dequal)(e,t)||this._grid.setSelectedRows(e)})});const i=this._grid.onSelectedRowsChanged;this._eventHandler.subscribe(i,(e,t)=>{if(Array.isArray(t.rows)&&Array.isArray(t.previousSelectedRows)){const e=t.rows,i=t.previousSelectedRows,r=e.filter(e=>i.indexOf(e)<0),n=i.filter(t=>e.indexOf(t)<0);if(this._wasRecheckedAfterPageChange&&n.length>0){(this._dataView.mapRowsToIds(n)||[]).forEach(e=>{Array.isArray(this._selectedRowDataContextIds)&&this._selectedRowDataContextIds.splice(this._selectedRowDataContextIds.indexOf(e),1)})}if(r.length>0){(this._dataView.mapRowsToIds(r)||[]).forEach(e=>{-1===this._selectedRowDataContextIds.indexOf(e)&&this._selectedRowDataContextIds.push(e)})}this._wasRecheckedAfterPageChange=!0;const o=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),a=this._grid.getSelectedRows();!Object(C.dequal)(o,a)&&this._gridOptions.enablePagination&&this._grid.setSelectedRows(o);const l=this.refreshFilteredRowSelections(),d={gridRowIndexes:this._grid.getSelectedRows(),dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:l};this.pubSubService.publish("onGridStateChanged",{change:{newValues:d,type:s.GridStateType.rowSelection},gridState:this.getCurrentGridState()})}})}}hasRowSelectionEnabled(){const e=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&e}reEvaluateRowSelectionAfterFilterChange(){const e=this._grid.getSelectedRows(),t=(this._selectedFilteredRowDataContextIds||[]).slice(),i=this.refreshFilteredRowSelections();if(!Object(C.dequal)(this._selectedFilteredRowDataContextIds,t)){const t={gridRowIndexes:e,dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:i};this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:s.GridStateType.rowSelection},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!1})})}}refreshFilteredRowSelections(){let e=[];const t=this._dataView.getFilteredItems()||[];if(Array.isArray(this._selectedRowDataContextIds)){e=[...this._selectedRowDataContextIds].filter(e=>t.findIndex(t=>t[this.datasetIdPropName]===e)>-1),this._selectedFilteredRowDataContextIds=e}return e}}class w{constructor(e,t,i){this.extensionUtility=e,this.extensionService=t,this.pubSubService=i,this._eventHandler=new Slick.EventHandler}get _dataView(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getData)&&this._grid.getData()}get eventHandler(){return this._eventHandler}get _gridOptions(){var e;return(null===(e=this._grid)||void 0===e?void 0:e.getOptions)?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}init(e){var t;if(this._grid=e,e&&this._gridOptions&&this._gridOptions.createPreHeaderPanel){this._gridOptions.enableTranslate&&this.translateGroupingAndColSpan(),this._eventHandler.subscribe(e.onSort,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onRendered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onAutosizeColumns,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onColumnsResized,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(e.onColumnsReordered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(this._dataView.onRowCountChanged,()=>this.delayRenderPreHeaderRowGroupingTitles(0));const i=this.extensionService.getExtensionByName(s.ExtensionName.columnPicker);(null===(t=null==i?void 0:i.instance)||void 0===t?void 0:t.onColumnsChanged)&&this._eventHandler.subscribe(i.instance.onColumnsChanged,()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onHeaderMenuHideColumns",()=>{this.delayRenderPreHeaderRowGroupingTitles(0)});const r=this.extensionService.getExtensionByName(s.ExtensionName.gridMenu);r&&r.instance&&r.instance.onColumnsChanged&&r.instance.onMenuClose&&(this._eventHandler.subscribe(r.instance.onColumnsChanged,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(r.instance.onMenuClose,()=>this.renderPreHeaderRowGroupingTitles()));const n=e.getPluginByName("Resizer");(null==n?void 0:n.onGridAfterResize)&&this._eventHandler.subscribe(n.onGridAfterResize,()=>this.renderPreHeaderRowGroupingTitles());const o=e.onSetOptions;this._eventHandler.subscribe(o,(e,t)=>{var i,r;(null===(i=null==t?void 0:t.optionsBefore)||void 0===i?void 0:i.frozenColumn)!==(null===(r=null==t?void 0:t.optionsAfter)||void 0===r?void 0:r.frozenColumn)&&this.delayRenderPreHeaderRowGroupingTitles(0)}),this.delayRenderPreHeaderRowGroupingTitles(75)}}dispose(){this._eventHandler.unsubscribeAll()}delayRenderPreHeaderRowGroupingTitles(e=0){setTimeout(()=>this.renderPreHeaderRowGroupingTitles(),e)}renderPreHeaderRowGroupingTitles(){var e;if(this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0){let t=this._grid.getPreHeaderPanelLeft();this.renderHeaderGroups(t,0,this._gridOptions.frozenColumn+1),t=this._grid.getPreHeaderPanelRight(),this.renderHeaderGroups(t,(null===(e=this._gridOptions)||void 0===e?void 0:e.frozenColumn)+1,this._columnDefinitions.length)}else{const e=this._grid.getPreHeaderPanel();this.renderHeaderGroups(e,0,this._columnDefinitions.length)}}renderHeaderGroups(e,t,i){var r,n,s;Object(a.emptyElement)(e),e.className="slick-header-columns",e.style.left="-1000px",e.style.width=this._grid.getHeadersWidth()+"px",e.parentElement&&e.parentElement.classList.add("slick-header");const o=this._grid.getHeaderColumnWidthDiff();let l,d=null,u="",c=0;const h=null!==(n=null===(r=this._gridOptions)||void 0===r?void 0:r.frozenHeaderWidthCalcDifferential)&&void 0!==n?n:0,g=void 0!==(null===(s=this._gridOptions)||void 0===s?void 0:s.frozenColumn)&&this._gridOptions.frozenColumn>=0;for(let r=t;r<i;r++)if(l=this._columnDefinitions[r],l){if(u===l.columnGroup&&r>0)c+=l.width||0,(null==d?void 0:d.style)&&(d.style.width=c-o-h+"px");else{c=l.width||0,d=document.createElement("div"),d.className="ui-state-default slick-header-column "+(g?"frozen":""),d.style.width=c-o+"px";const t=document.createElement("span");t.className="slick-column-name",t.textContent=l.columnGroup||"",d.appendChild(t),e.appendChild(d)}u=l.columnGroup||""}}translateGroupingAndColSpan(){const e=this._grid.getColumns();this.extensionUtility.translateItems(e,"columnGroupKey","columnGroup"),this._grid.setColumns(e),this.renderPreHeaderRowGroupingTitles()}}var T=i("GAj/");var O=i("GLew");class E{get EMPTY(){throw new Error('RxJS Facade "EMPTY" constant must be implemented')}createObservable(){throw new Error('RxJS Facade "createObservable" method must be implemented')}createSubject(){throw new Error('RxJS Facade "createSubject" method must be implemented')}firstValueFrom(e){throw new Error('RxJS Facade "firstValueFrom" method must be implemented')}iif(e,t,i){throw new Error('RxJS Facade "iif" method must be implemented')}isObservable(e){return!1}takeUntil(e){throw new Error('RxJS Facade "takeUntil" method must be implemented')}}class P{constructor(e){throw new Error('RxJS Observable Facade "constructor" method must be implemented')}subscribe(e,t,i){throw new Error('RxJS Observable Facade "subscribe" method must be implemented')}pipe(e){throw new Error('RxJS Observable Facade "pipe" method must be implemented')}}class x extends P{complete(){throw new Error('RxJS Subject "complete" method must be implemented')}next(e){throw new Error('RxJS Subject "next" method must be implemented')}unsubscribe(){throw new Error('RxJS Subject "unsubscribe" method must be implemented')}}class I{constructor(e){throw new Error('RxJS Subscription Facade "constructor" method must be implemented')}unsubscribe(){throw new Error('RxJS Subscription Facade "unsubscribe" method must be implemented')}}class F{constructor(){this._hasColumnsReordered=!1,this._hideHeaderRowAfterPageLoad=!1}get allColumns(){return this._allColumns}set allColumns(e){this._allColumns=e}get columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}get currentPagination(){return this._currentPagination}set currentPagination(e){this._currentPagination=e}get dataView(){return this._dataView}set dataView(e){this._dataView=e}get frozenVisibleColumnId(){return this._frozenVisibleColumnId}set frozenVisibleColumnId(e){this._frozenVisibleColumnId=e}get hasColumnsReordered(){return this._hasColumnsReordered}set hasColumnsReordered(e){this._hasColumnsReordered=e}get slickGrid(){return this._grid}set slickGrid(e){this._grid=e}get gridOptions(){var e;return this._gridOptions||(null===(e=this._grid)||void 0===e?void 0:e.getOptions)&&this._grid.getOptions()||{}}set gridOptions(e){this._gridOptions=e}get groupItemMetadataProvider(){return this._groupItemMetadataProvider}set groupItemMetadataProvider(e){this._groupItemMetadataProvider=e}get hideHeaderRowAfterPageLoad(){return this._hideHeaderRowAfterPageLoad}set hideHeaderRowAfterPageLoad(e){this._hideHeaderRowAfterPageLoad=e}get externalRegisteredResources(){return this._externalRegisteredResources}set externalRegisteredResources(e){this._externalRegisteredResources=e}get visibleColumns(){return this._visibleColumns}set visibleColumns(e){this._visibleColumns=e}get hierarchicalDataset(){return this._hierarchicalDataset}set hierarchicalDataset(e){this._hierarchicalDataset=e}}class D{constructor(e,t,i,r){this.sharedService=e,this.pubSubService=t,this.backendUtilities=i,this.rxjs=r,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}addRxJsResource(e){this.rxjs=e}bindBackendOnSort(e){this._isBackendGrid=!0,this._grid=e,this._dataView=(null==e?void 0:e.getData)&&e.getData();const t=e.onSort;this._eventHandler.subscribe(t,this.onBackendSortChanged.bind(this))}bindLocalOnSort(e){this._isBackendGrid=!1,this._grid=e,this._dataView=e.getData(),this.processTreeDataInitialSort();const t=e.onSort;this._eventHandler.subscribe(t,this.handleLocalOnSort.bind(this))}handleLocalOnSort(e,t){const i=t.multiColumnSort?t.sortCols:new Array({columnId:t.sortCol.id,sortAsc:t.sortAsc,sortCol:t.sortCol});this._currentLocalSorters=[],Array.isArray(i)&&i.forEach(e=>{e.sortCol&&this._currentLocalSorters.push({columnId:e.sortCol.id,direction:e.sortAsc?s.SortDirection.ASC:s.SortDirection.DESC})}),this.onLocalSortChanged(this._grid,i),this.emitSortChanged(s.EmitterType.local)}clearSortByColumnId(e,t){const i=this.getCurrentColumnSorts(),r=this.getCurrentColumnSorts(""+t);if(Array.isArray(i)&&Array.isArray(r)&&i.length!==r.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(e,{multiColumnSort:!0,sortCols:r,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,r,!0,!0);else{const e=this._gridOptions&&this._gridOptions.multiColumnSort||!1?r:r[0];this._grid.onSort.notify(e)}const t=r.map(e=>({columnId:e&&e.sortCol&&e.sortCol.id,sortAsc:e&&e.sortAsc,sortCol:e&&e.sortCol}));this._grid.setSortColumns(t)}Array.isArray(r)&&0===r.length&&this.sortLocalGridByDefaultSortFieldId()}clearSorting(e=!0){var t,i;if(this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),e)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,multiColumnSort:!0,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){const e=null===(i=null===(t=this._gridOptions)||void 0===t?void 0:t.backendServiceApi)||void 0===i?void 0:i.service;(null==e?void 0:e.clearSorters)&&e.clearSorters()}this._currentLocalSorters=[],this.pubSubService.publish("onSortCleared",!0)}disableSortFunctionality(e=!0,t=!0){const i=!this._gridOptions.enableSorting;let r;if(this._gridOptions.enableSorting=i,e)t&&this.clearSorting(),this._eventHandler.unsubscribeAll(),r=this.disableAllSortingCommands(!0);else{r=this.disableAllSortingCommands(!1);const e=this._grid.onSort;this._eventHandler.subscribe(e,(e,t)=>this.handleLocalOnSort(e,t))}this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(r)}toggleSortFunctionality(e=!0){const t=this._gridOptions.enableSorting;this.disableSortFunctionality(t,e)}emitSortChanged(e,t){if(e===s.EmitterType.remote&&this._gridOptions&&this._gridOptions.backendServiceApi){let e=[];const t=this._gridOptions.backendServiceApi.service;t&&t.getCurrentSorters&&(e=t.getCurrentSorters()),this.pubSubService.publish("onSortChanged",e)}else e===s.EmitterType.local&&(t&&(this._currentLocalSorters=t),this.pubSubService.publish("onSortChanged",this.getCurrentLocalSorters()))}getCurrentLocalSorters(){return this._currentLocalSorters}getCurrentColumnSorts(e){if(this._grid){const t=this._grid.getSortColumns();if(Array.isArray(t)){return t.reduce((t,i)=>(!i||e&&i.columnId===e||t.push({columnId:i.columnId||"",sortCol:this._columnDefinitions[this._grid.getColumnIndex(i.columnId||"")],sortAsc:i.sortAsc}),t),[])}}return[]}loadGridSorters(e){this._currentLocalSorters=[];const t=[];if(Array.isArray(e)){(this._gridOptions.multiColumnSort?e:e.slice(0,1)).forEach(e=>{const i=this._columnDefinitions.find(t=>t.id===e.columnId);i&&(t.push({columnId:i.id,sortAsc:e.direction.toUpperCase()===s.SortDirection.ASC,sortCol:i}),this._currentLocalSorters.push({columnId:i.id+"",direction:e.direction.toUpperCase()}))}),this.onLocalSortChanged(this._grid,t),this._grid.setSortColumns(t.map(e=>({columnId:e.columnId,sortAsc:e.sortAsc})))}return t}dispose(){var e;this._eventHandler&&this._eventHandler.unsubscribeAll&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(e=this.rxjs)||void 0===e?void 0:e.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete())}processTreeDataInitialSort(){var e,t,i;if((null===(e=this._gridOptions)||void 0===e?void 0:e.enableTreeData)&&this._gridOptions.treeDataOptions){const e=this._gridOptions.treeDataOptions,r=this._columnDefinitions.find(t=>t.id===e.columnId);if(r){let n=s.SortDirection.ASC,o={columnId:e.columnId,sortCol:r,sortAsc:!0};if(null===(t=null==e?void 0:e.initialSort)||void 0===t?void 0:t.columnId){const t=e.initialSort.columnId,i=this._columnDefinitions.find(e=>e.id===t);n=(e.initialSort.direction||s.SortDirection.ASC).toUpperCase(),o={columnId:t,sortCol:i,sortAsc:n===s.SortDirection.ASC}}(null==o?void 0:o.columnId)&&(null===(i=this.sharedService)||void 0===i?void 0:i.hierarchicalDataset)&&this.updateSorting([{columnId:o.columnId||"",direction:n}])}}}onBackendSortChanged(e,t){var i;if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');const r=t.grid&&t.grid.getOptions?t.grid.getOptions():{},n=r.backendServiceApi;if(!n||!n.process||!n.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const s=new Date;n.preProcess&&n.preProcess();const o=n.service.processOnSortChanged(e,t),a=r&&r.pagination&&r.pagination.totalItems||0;null===(i=this.backendUtilities)||void 0===i||i.executeBackendCallback(n,o,t,s,a,this.emitSortChanged.bind(this),this.httpCancelRequests$)}async onLocalSortChanged(e,t,i=!1,r=!1){var n,o,a,l,d;const u=null!==(o=null===(n=this._gridOptions)||void 0===n?void 0:n.datasetIdPropertyName)&&void 0!==o?o:"id",c=null!==(l=null===(a=this._gridOptions)||void 0===a?void 0:a.enableTreeData)&&void 0!==l&&l,h=null===(d=e.getData)||void 0===d?void 0:d.call(e);if(await this.pubSubService.publish("onBeforeSortChange",{sortColumns:t}),e&&h){if(i&&!c&&h.reSort(),c&&this.sharedService&&Array.isArray(this.sharedService.hierarchicalDataset)){const e=this.sortHierarchicalDataset(this.sharedService.hierarchicalDataset,t);this._dataView.setItems(e.flat,u)}else h.sort(this.sortComparers.bind(this,t));e.invalidate(),r&&this.emitSortChanged(s.EmitterType.local,t.map(e=>({columnId:e.sortCol&&e.sortCol.id||"id",direction:e.sortAsc?s.SortDirection.ASC:s.SortDirection.DESC})))}}sortHierarchicalDataset(e,t){var i,r,n,s,o;this.sortTreeData(e,t);const l=null!==(r=null===(i=this._gridOptions)||void 0===i?void 0:i.datasetIdPropertyName)&&void 0!==r?r:"id",d=null!==(s=null===(n=this._gridOptions)||void 0===n?void 0:n.treeDataOptions)&&void 0!==s?s:{columnId:""},u={...d,identifierPropName:null!==(o=d.identifierPropName)&&void 0!==o?o:l,shouldAddTreeLevelNumber:!0};return{hierarchical:e,flat:Object(a.flattenToParentChildArray)(e,u)}}sortLocalGridByDefaultSortFieldId(){const e=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",t={id:e,field:e};this.onLocalSortChanged(this._grid,new Array({columnId:t.id,sortAsc:!0,sortCol:t,clearSortTriggered:!0}))}sortComparers(e,t,i){if(Array.isArray(e))for(const r of e){const e=this.sortComparer(r,t,i);if(void 0!==e)return e}return s.SortDirectionNumber.neutral}sortComparer(e,t,i,r){if(null==e?void 0:e.sortCol){const n=e.sortCol,l=e.sortAsc?s.SortDirectionNumber.asc:s.SortDirectionNumber.desc;let d=r||n.queryFieldSorter||n.queryField||n.field,u=d;const c=n.type||s.FieldType.string;"function"==typeof n.queryFieldNameGetterFn&&(d=n.queryFieldNameGetterFn(t),u=n.queryFieldNameGetterFn(i));let h=t[d],g=i[u];if(d&&d.indexOf(".")>=0&&(h=Object(a.getDescendantProperty)(t,d)),u&&u.indexOf(".")>=0&&(g=Object(a.getDescendantProperty)(i,u)),n.sortComparer){const e=n.sortComparer(h,g,l,n,this._gridOptions);if(e!==s.SortDirectionNumber.neutral)return e}else{const e=Object(o.sortByFieldType)(c,h,g,l,n,this._gridOptions);if(e!==s.SortDirectionNumber.neutral)return e}}}sortTreeData(e,t){if(Array.isArray(t))for(const i of t)this.sortTreeChild(e,i,0)}sortTreeChild(e,t,i){var r,n;const o=null===(r=this._gridOptions)||void 0===r?void 0:r.treeDataOptions,a=null!==(n=null==o?void 0:o.childrenPropName)&&void 0!==n?n:"children";e.sort((e,i)=>{var r;return null!==(r=this.sortComparer(t,e,i))&&void 0!==r?r:s.SortDirectionNumber.neutral});for(const r of e)if(r){r.hasOwnProperty(a)&&Array.isArray(r[a])&&(i++,this.sortTreeChild(r[a],t,i),i--)}}updateSorting(e,t=!0,i=!0){var r,n;if(!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Slickgrid-Universal] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(e)){const o=null===(r=this._gridOptions)||void 0===r?void 0:r.backendServiceApi;if(o){const t=null==o?void 0:o.service;(null==t?void 0:t.updateSorters)&&(t.updateSorters(void 0,e),i&&(null===(n=this.backendUtilities)||void 0===n||n.refreshBackendDataset(this._gridOptions)))}else this.loadGridSorters(e);if(t){const e=o?s.EmitterType.remote:s.EmitterType.local;this.emitSortChanged(e)}}}disableAllSortingCommands(e=!0){var t,i;const r=this._grid.getColumns();return r.forEach(t=>{var i;void 0!==typeof t.sortable&&(t.sortable=!e),(null===(i=null==t?void 0:t.header)||void 0===i?void 0:i.menu)&&t.header.menu.items.forEach(t=>{if(t&&"string"!=typeof t){const i=t.command;"sort-asc"!==i&&"sort-desc"!==i&&"clear-sort"!==i||(t.hidden=e)}})}),(null===(i=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===i?void 0:i.customItems)&&this._gridOptions.gridMenu.customItems.forEach(t=>{if(t&&"string"!=typeof t){"clear-sorting"===t.command&&(t.hidden=e)}}),r}}class A{init(e,t){throw new Error('ExportService the "init" method must be implemented')}exportToFile(e){throw new Error('ExportService the "exportToFile" method must be implemented')}}var R=i("P379");class k{constructor(e,t,i){this.pubSubService=e,this.sharedService=t,this.sortService=i,this._isLastFullToggleCollapsed=!1,this._currentToggledItems=[],this._eventHandler=new Slick.EventHandler}set currentToggledItems(e){this._currentToggledItems=e}get dataset(){var e;return null===(e=this.dataView)||void 0===e?void 0:e.getItems()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}get dataView(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getData)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get eventHandler(){return this._eventHandler}get gridOptions(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getOptions)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get treeDataOptions(){return this.gridOptions.treeDataOptions}dispose(){var e;(null===(e=this._eventHandler)||void 0===e?void 0:e.unsubscribeAll)&&this._eventHandler.unsubscribeAll()}init(e){var t,i,r,n,s,o,a,l,d,u,c;if(this._grid=e,this._isLastFullToggleCollapsed=null!==(r=null===(i=null===(t=this.gridOptions)||void 0===t?void 0:t.treeDataOptions)||void 0===i?void 0:i.initiallyCollapsed)&&void 0!==r&&r,this._currentToggledItems=null!==(o=null===(s=null===(n=this.gridOptions.presets)||void 0===n?void 0:n.treeData)||void 0===s?void 0:s.toggledItems)&&void 0!==o?o:[],this._lastToggleStateChange={type:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},null===(a=this.gridOptions)||void 0===a?void 0:a.enableTreeData){if(null===(l=this.gridOptions)||void 0===l?void 0:l.multiColumnSort)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data with multi-column sorting, unfortunately it is not supported because of its complexity, you can disable it via "multiColumnSort: false" grid option and/or help in providing support for this feature.');if(!(null===(d=this.gridOptions)||void 0===d?void 0:d.enableFiltering))throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data without using the filtering option, unfortunately that is not possible with Tree Data since it relies heavily on the filters to expand/collapse the tree. You need to enable it via "enableFiltering: true"');if((null===(u=this.gridOptions)||void 0===u?void 0:u.backendServiceApi)||(null===(c=this.gridOptions)||void 0===c?void 0:c.enablePagination))throw new Error("[Slickgrid-Universal] It looks like you are trying to use Tree Data with Pagination and/or a Backend Service (OData, GraphQL) but unfortunately that is simply not supported because of its complexity.");if(!this.gridOptions.treeDataOptions||!this.gridOptions.treeDataOptions.columnId)throw new Error('[Slickgrid-Universal] When enabling tree data, you must also provide the "treeDataOption" property in your Grid Options with "childrenPropName" or "parentPropName" (depending if your array is hierarchical or flat) for the Tree Data to work properly.')}const h=e.onClick;h&&this._eventHandler.subscribe(h,this.handleOnCellClick.bind(this))}applyToggledItemStateChanges(e,t,i=!0,r=!1){if(Array.isArray(e)){const n=this.getTreeDataOptionPropName("collapsedPropName"),o=this.getTreeDataOptionPropName("hasChildrenPropName");this.dataView.beginUpdate(!0);const a="full-collapse"===(null!=t?t:this._lastToggleStateChange.previousFullToggleType);t&&(this._lastToggleStateChange.previousFullToggleType=t),i&&(this.dataView.getItems()||[]).forEach(e=>{e[o]&&(e[n]=a)});for(const t of e){const e=this.dataView.getItemById(t.itemId);if(this.updateToggledItem(e,t.isCollapsed),r){const e=this._currentToggledItems.findIndex(e=>e.itemId===t.itemId);e>=0?this._currentToggledItems[e].isCollapsed=t.isCollapsed:this._currentToggledItems.push({itemId:t.itemId,isCollapsed:t.isCollapsed}),this.pubSubService.publish("onTreeItemToggled",{...this._lastToggleStateChange,fromItemId:t.itemId,toggledItems:this._currentToggledItems,type:t.isCollapsed?s.ToggleStateChangeType.toggleCollapse:s.ToggleStateChangeType.toggleExpand})}}this.dataView.endUpdate(),this.dataView.refresh()}}getCurrentToggleState(){return this._lastToggleStateChange}getInitialSort(e,t){var i,r,n;const s=null==t?void 0:t.treeDataOptions,o=null!==(i=null==s?void 0:s.initialSort)&&void 0!==i?i:{columnId:null!==(r=null==s?void 0:s.columnId)&&void 0!==r?r:"",direction:"ASC"},a=e.find(e=>e.id===o.columnId);return{columnId:o.columnId,sortAsc:"DESC"!==(null===(n=null==o?void 0:o.direction)||void 0===n?void 0:n.toUpperCase()),sortCol:a}}getItemCount(e){if(void 0!==e){const t=this.getTreeDataOptionPropName("levelPropName");return this.dataView.getItems().filter(i=>i[t]===e).length}return this.dataView.getItemCount()}getToggledItems(){return this._currentToggledItems}getTreeDataOptionPropName(e){var t,i,r,n,s,o,a,l,d,u,c,h,g,p;let m="";switch(e){case"childrenPropName":m=null!==(i=null===(t=this.treeDataOptions)||void 0===t?void 0:t.childrenPropName)&&void 0!==i?i:R.a.treeDataProperties.CHILDREN_PROP;break;case"collapsedPropName":m=null!==(n=null===(r=this.treeDataOptions)||void 0===r?void 0:r.collapsedPropName)&&void 0!==n?n:R.a.treeDataProperties.COLLAPSED_PROP;break;case"hasChildrenPropName":m=null!==(o=null===(s=this.treeDataOptions)||void 0===s?void 0:s.hasChildrenPropName)&&void 0!==o?o:R.a.treeDataProperties.HAS_CHILDREN_PROP;break;case"identifierPropName":m=null!==(u=null!==(l=null===(a=this.treeDataOptions)||void 0===a?void 0:a.identifierPropName)&&void 0!==l?l:null===(d=this.gridOptions)||void 0===d?void 0:d.datasetIdPropertyName)&&void 0!==u?u:"id";break;case"levelPropName":m=null!==(h=null===(c=this.treeDataOptions)||void 0===c?void 0:c.levelPropName)&&void 0!==h?h:R.a.treeDataProperties.TREE_LEVEL_PROP;break;case"parentPropName":m=null!==(p=null===(g=this.treeDataOptions)||void 0===g?void 0:g.parentPropName)&&void 0!==p?p:R.a.treeDataProperties.PARENT_PROP}return m}convertFlatParentChildToTreeDatasetAndSort(e,t,i){var r;const n=this.convertFlatParentChildToTreeDataset(e,i),s=this.getInitialSort(t,i),o=this.sortService.sortHierarchicalDataset(n,[s]);return null===(r=this._grid)||void 0===r||r.setSortColumns([s]),o}convertFlatParentChildToTreeDataset(e,t){var i,r,n;const s=null!==(i=null==t?void 0:t.datasetIdPropertyName)&&void 0!==i?i:"id",o=null!==(r=null==t?void 0:t.treeDataOptions)&&void 0!==r?r:{columnId:"id"},l={...o,identifierPropName:null!==(n=o.identifierPropName)&&void 0!==n?n:s};return Object(a.unflattenParentChildArrayToTree)(e,l)}sortHierarchicalDataset(e,t){const i=null!=t?t:this.getInitialSort(this.sharedService.allColumns,this.gridOptions),r=Array.isArray(i)?i:[i];return this.sortService.sortHierarchicalDataset(e,r)}async toggleTreeDataCollapse(e,t=!0){var i;if(null===(i=this.gridOptions)||void 0===i?void 0:i.enableTreeData){const i=this.getTreeDataOptionPropName("hasChildrenPropName");t&&await this.pubSubService.publish("onTreeFullToggleStart",{collapsing:e}),this.dataView.beginUpdate(!0),(this.dataView.getItems()||[]).forEach(t=>{t[i]&&this.updateToggledItem(t,e)}),this.dataView.endUpdate(),this.dataView.refresh(),this._isLastFullToggleCollapsed=e}const r=e?s.ToggleStateChangeType.fullCollapse:s.ToggleStateChangeType.fullExpand;this._lastToggleStateChange={type:r,previousFullToggleType:r,toggledItems:null},t&&this.pubSubService.publish("onTreeFullToggleEnd",this._lastToggleStateChange)}handleOnCellClick(e,t){var i;if(e&&t){const r=e.target||{},n=null!==(i=this.gridOptions.datasetIdPropertyName)&&void 0!==i?i:"id",o=this.getTreeDataOptionPropName("collapsedPropName"),l=this.getTreeDataOptionPropName("childrenPropName");if(null==r?void 0:r.className){if(r.className.indexOf("toggle")>=0||!1){const i=this.dataView.getItem(t.row);if(i){i[o]=!i[o];const e=i[o],t=i[n],r=this._currentToggledItems.findIndex(e=>e.itemId===t);r>=0?this._currentToggledItems[r].isCollapsed=e:this._currentToggledItems.push({itemId:t,isCollapsed:e}),this.dataView.updateItem(t,i);const d=e=>e[n]===t,u=Object(a.findItemInTreeStructure)(this.sharedService.hierarchicalDataset||[],d,l);u&&(u[o]=e),this._grid.invalidate(),this._lastToggleStateChange={type:e?s.ToggleStateChangeType.toggleCollapse:s.ToggleStateChangeType.toggleExpand,previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},this.pubSubService.publish("onTreeItemToggled",{...this._lastToggleStateChange,fromItemId:t})}e.stopImmediatePropagation()}}}}updateToggledItem(e,t){var i,r;const n=null!==(r=null===(i=this.gridOptions)||void 0===i?void 0:i.datasetIdPropertyName)&&void 0!==r?r:"id",s=this.getTreeDataOptionPropName("childrenPropName"),o=this.getTreeDataOptionPropName("collapsedPropName");if(e){e[o]=t,this.dataView.updateItem(e[n],e);const i=t=>t[n]===e[n],r=Object(a.findItemInTreeStructure)(this.sharedService.hierarchicalDataset||[],i,s);r&&(r[o]=t)}}}},SZ68:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i("89dS"),n=i("rci4"),s=i("yWDt"),o=i("5l98"),a=i("KKeK");i("9u1P");const l={date:Object(o.b)(a.a.date),dateIso:Object(o.b)(a.a.dateIso),dateUtc:Object(o.b)(a.a.dateUtc),dateTime:Object(o.b)(a.a.dateTime),dateTimeIso:Object(o.b)(a.a.dateTimeIso),dateTimeIsoAmPm:Object(o.b)(a.a.dateTimeIsoAmPm),dateTimeIsoAM_PM:Object(o.b)(a.a.dateTimeIsoAM_PM),dateTimeShortIso:Object(o.b)(a.a.dateTimeShortIso),dateEuro:Object(o.b)(a.a.dateEuro),dateEuroShort:Object(o.b)(a.a.dateEuroShort),dateTimeShortEuro:Object(o.b)(a.a.dateTimeShortEuro),dateTimeEuro:Object(o.b)(a.a.dateTimeEuro),dateTimeEuroAmPm:Object(o.b)(a.a.dateTimeEuroAmPm),dateTimeEuroAM_PM:Object(o.b)(a.a.dateTimeEuroAM_PM),dateTimeEuroShort:Object(o.b)(a.a.dateTimeEuroShort),dateTimeEuroShortAmPm:Object(o.b)(a.a.dateTimeEuroShortAmPm),dateTimeEuroShortAM_PM:Object(o.b)(a.a.dateTimeEuroShortAM_PM),dateUs:Object(o.b)(a.a.dateUs),dateUsShort:Object(o.b)(a.a.dateUsShort),dateTimeShortUs:Object(o.b)(a.a.dateTimeShortUs),dateTimeUs:Object(o.b)(a.a.dateTimeUs),dateTimeUsAmPm:Object(o.b)(a.a.dateTimeUsAmPm),dateTimeUsAM_PM:Object(o.b)(a.a.dateTimeUsAM_PM),dateTimeUsShort:Object(o.b)(a.a.dateTimeUsShort),dateTimeUsShortAmPm:Object(o.b)(a.a.dateTimeUsShortAmPm),dateTimeUsShortAM_PM:Object(o.b)(a.a.dateTimeUsShortAM_PM),numeric:r.a,objectString:n.a,string:s.a}},VADH:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"BackendUtilityService",(function(){return n}));var r=i("6rEK");class n{constructor(e){this.rxjs=e}addRxJsResource(e){this.rxjs=e}executeBackendProcessesCallback(e,t,i,r){const n=new Date;t&&(null==i?void 0:i.internalPostProcess)&&i.internalPostProcess(t),void 0!==i.postProcess&&(t instanceof Object&&(t.metrics={startTime:e,endTime:n,executionTime:n.valueOf()-e.valueOf(),itemCount:r,totalItemCount:r}),i.postProcess(t))}onBackendError(e,t){if(!(null==t?void 0:t.onError))throw e;t.onError(e)}executeBackendCallback(t,i,n,s,o,a,l){var d;if(t){n&&!n.clearFilterTriggered&&!n.clearSortTriggered&&a&&a(r.a.remote);const u=t.process(i);if(u instanceof e&&u.then)u.then(e=>this.executeBackendProcessesCallback(s,e,t,o)).catch(e=>this.onBackendError(e,t));else if(null===(d=this.rxjs)||void 0===d?void 0:d.isObservable(u)){const e=this.rxjs;e.isObservable(l)&&l.next(),u.pipe(e.takeUntil(e.iif(()=>e.isObservable(l),l,e.EMPTY))).subscribe(e=>this.executeBackendProcessesCallback(s,e,t,o),e=>this.onBackendError(e,t))}}}refreshBackendDataset(e){var t,i;let r="";const n=null==e?void 0:e.backendServiceApi;if(!n||!n.service||!n.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(n.service&&(r=n.service.buildQuery()),r&&""!==r){const s=new Date;n.preProcess&&n.preProcess();const o=null!==(i=null===(t=null==e?void 0:e.pagination)||void 0===t?void 0:t.totalItems)&&void 0!==i?i:0;this.executeBackendCallback(n,r,null,s,o)}}}}.call(this,i("CW7D"))},"WI+7":function(e,t,i){},fj9p:function(e,t,i){"use strict";i.d(t,"u",(function(){return d.a})),i.d(t,"V",(function(){return u.a})),i.d(t,"h",(function(){return c.CaseType})),i.d(t,"A",(function(){return c.DelimiterType})),i.d(t,"F",(function(){return c.EmitterType})),i.d(t,"H",(function(){return c.EventNamingStyle})),i.d(t,"J",(function(){return c.ExtensionName})),i.d(t,"M",(function(){return c.FieldType})),i.d(t,"N",(function(){return c.FileType})),i.d(t,"Q",(function(){return c.FilterMultiplePassType})),i.d(t,"W",(function(){return c.GridAutosizeColsMode})),i.d(t,"bb",(function(){return c.GridStateType})),i.d(t,"nb",(function(){return c.KeyCode})),i.d(t,"vb",(function(){return c.OperatorType})),i.d(t,"Mb",(function(){return c.SortDirection})),i.d(t,"Nb",(function(){return c.SortDirectionNumber})),i.d(t,"Tb",(function(){return c.ToggleStateChangeType})),i.d(t,"Rb",(function(){return h.h})),i.d(t,"pb",(function(){return h.f})),i.d(t,"B",(function(){return h.e})),i.d(t,"qb",(function(){return h.g})),i.d(t,"x",(function(){return h.d})),i.d(t,"m",(function(){return h.c})),i.d(t,"e",(function(){return h.b})),i.d(t,"a",(function(){return h.a})),i.d(t,"b",(function(){return g.a})),i.d(t,"k",(function(){return g.b})),i.d(t,"y",(function(){return g.c})),i.d(t,"D",(function(){return g.d})),i.d(t,"E",(function(){return g.e})),i.d(t,"T",(function(){return g.f})),i.d(t,"hb",(function(){return g.g})),i.d(t,"mb",(function(){return g.h})),i.d(t,"ob",(function(){return g.i})),i.d(t,"rb",(function(){return g.j})),i.d(t,"Cb",(function(){return g.k})),i.d(t,"Fb",(function(){return g.l})),i.d(t,"Ib",(function(){return g.m})),i.d(t,"d",(function(){return p.a})),i.d(t,"i",(function(){return p.b})),i.d(t,"j",(function(){return p.c})),i.d(t,"l",(function(){return p.d})),i.d(t,"o",(function(){return p.e})),i.d(t,"w",(function(){return p.f})),i.d(t,"C",(function(){return p.g})),i.d(t,"L",(function(){return p.h})),i.d(t,"Y",(function(){return p.i})),i.d(t,"cb",(function(){return p.j})),i.d(t,"fb",(function(){return p.k})),i.d(t,"gb",(function(){return p.l})),i.d(t,"yb",(function(){return p.m})),i.d(t,"zb",(function(){return p.n})),i.d(t,"Ab",(function(){return p.o})),i.d(t,"Kc",(function(){return m.h})),i.d(t,"Xc",(function(){return m.l})),i.d(t,"Jc",(function(){return m.g})),i.d(t,"Wc",(function(){return m.k})),i.d(t,"Ic",(function(){return m.f})),i.d(t,"Vc",(function(){return m.j})),i.d(t,"sc",(function(){return m.b})),i.d(t,"jd",(function(){return m.o})),i.d(t,"Ud",(function(){return m.p})),i.d(t,"O",(function(){return m.a})),i.d(t,"Hc",(function(){return m.e})),i.d(t,"Zc",(function(){return m.m})),i.d(t,"cd",(function(){return m.n})),i.d(t,"Gc",(function(){return m.d})),i.d(t,"Fc",(function(){return m.c})),i.d(t,"Uc",(function(){return m.i})),i.d(t,"c",(function(){return v.a})),i.d(t,"p",(function(){return v.b})),i.d(t,"q",(function(){return v.c})),i.d(t,"r",(function(){return v.d})),i.d(t,"s",(function(){return v.e})),i.d(t,"t",(function(){return v.f})),i.d(t,"z",(function(){return v.g})),i.d(t,"S",(function(){return v.i})),i.d(t,"P",(function(){return v.h})),i.d(t,"ib",(function(){return v.j})),i.d(t,"jb",(function(){return v.k})),i.d(t,"kb",(function(){return v.l})),i.d(t,"lb",(function(){return v.m})),i.d(t,"sb",(function(){return v.n})),i.d(t,"tb",(function(){return v.o})),i.d(t,"Db",(function(){return v.p})),i.d(t,"Gb",(function(){return v.q})),i.d(t,"Kb",(function(){return v.s})),i.d(t,"Jb",(function(){return v.r})),i.d(t,"Zb",(function(){return f.b})),i.d(t,"ac",(function(){return f.c})),i.d(t,"cc",(function(){return f.d})),i.d(t,"hc",(function(){return f.f})),i.d(t,"ic",(function(){return f.g})),i.d(t,"lc",(function(){return f.h})),i.d(t,"mc",(function(){return f.i})),i.d(t,"oc",(function(){return f.k})),i.d(t,"nc",(function(){return f.j})),i.d(t,"pc",(function(){return f.l})),i.d(t,"qc",(function(){return f.m})),i.d(t,"tc",(function(){return f.n})),i.d(t,"vc",(function(){return f.o})),i.d(t,"xc",(function(){return f.p})),i.d(t,"Bc",(function(){return f.s})),i.d(t,"Ac",(function(){return f.r})),i.d(t,"zc",(function(){return f.q})),i.d(t,"Cc",(function(){return f.t})),i.d(t,"U",(function(){return f.a})),i.d(t,"dc",(function(){return f.e})),i.d(t,"bd",(function(){return f.w})),i.d(t,"Rc",(function(){return f.v})),i.d(t,"Lc",(function(){return f.u})),i.d(t,"Ad",(function(){return f.E})),i.d(t,"gd",(function(){return f.x})),i.d(t,"hd",(function(){return f.y})),i.d(t,"id",(function(){return f.z})),i.d(t,"ld",(function(){return f.A})),i.d(t,"md",(function(){return f.B})),i.d(t,"sd",(function(){return f.C})),i.d(t,"vd",(function(){return f.D})),i.d(t,"Ed",(function(){return f.H})),i.d(t,"Dd",(function(){return f.G})),i.d(t,"Cd",(function(){return f.F})),i.d(t,"Fd",(function(){return f.I})),i.d(t,"Gd",(function(){return f.J})),i.d(t,"Hd",(function(){return f.K})),i.d(t,"be",(function(){return f.M})),i.d(t,"ae",(function(){return f.L})),i.d(t,"ce",(function(){return f.N})),i.d(t,"de",(function(){return f.O})),i.d(t,"ie",(function(){return f.P})),i.d(t,"je",(function(){return f.Q})),i.d(t,"Td",(function(){return b.m})),i.d(t,"Sd",(function(){return b.l})),i.d(t,"Rd",(function(){return b.k})),i.d(t,"Qd",(function(){return b.j})),i.d(t,"Pd",(function(){return b.i})),i.d(t,"Od",(function(){return b.h})),i.d(t,"Nd",(function(){return b.g})),i.d(t,"ud",(function(){return b.f})),i.d(t,"td",(function(){return b.e})),i.d(t,"db",(function(){return b.a})),i.d(t,"gc",(function(){return b.d})),i.d(t,"fc",(function(){return b.c})),i.d(t,"ec",(function(){return b.b})),i.d(t,"xd",(function(){return S.e})),i.d(t,"Md",(function(){return S.g})),i.d(t,"Ld",(function(){return S.f})),i.d(t,"Lb",(function(){return S.a})),i.d(t,"wd",(function(){return S.d})),i.d(t,"rc",(function(){return S.b})),i.d(t,"Sc",(function(){return S.c})),i.d(t,"f",(function(){return _.a})),i.d(t,"g",(function(){return _.b})),i.d(t,"n",(function(){return _.c})),i.d(t,"v",(function(){return _.d})),i.d(t,"jc",(function(){return _.z})),i.d(t,"I",(function(){return _.e})),i.d(t,"K",(function(){return _.f})),i.d(t,"R",(function(){return _.g})),i.d(t,"Z",(function(){return _.i})),i.d(t,"X",(function(){return _.h})),i.d(t,"ab",(function(){return _.j})),i.d(t,"eb",(function(){return _.k})),i.d(t,"wb",(function(){return _.m})),i.d(t,"xb",(function(){return _.n})),i.d(t,"Bb",(function(){return _.o})),i.d(t,"ub",(function(){return _.l})),i.d(t,"Pb",(function(){return _.r})),i.d(t,"Qb",(function(){return _.s})),i.d(t,"Eb",(function(){return _.p})),i.d(t,"Ob",(function(){return _.q})),i.d(t,"Sb",(function(){return _.t})),i.d(t,"Ub",(function(){return _.u})),i.d(t,"Wb",(function(){return _.v})),i.d(t,"Yb",(function(){return _.x})),i.d(t,"bc",(function(){return _.y})),i.d(t,"kc",(function(){return _.A})),i.d(t,"ee",(function(){return _.ib})),i.d(t,"Xb",(function(){return _.w})),i.d(t,"Pc",(function(){return _.J})),i.d(t,"wc",(function(){return _.C})),i.d(t,"Dc",(function(){return _.E})),i.d(t,"Ec",(function(){return _.F})),i.d(t,"Mc",(function(){return _.G})),i.d(t,"Nc",(function(){return _.H})),i.d(t,"dd",(function(){return _.O})),i.d(t,"fd",(function(){return _.Q})),i.d(t,"ed",(function(){return _.P})),i.d(t,"kd",(function(){return _.R})),i.d(t,"uc",(function(){return _.B})),i.d(t,"yc",(function(){return _.D})),i.d(t,"Qc",(function(){return _.K})),i.d(t,"Tc",(function(){return _.L})),i.d(t,"ad",(function(){return _.N})),i.d(t,"od",(function(){return _.T})),i.d(t,"nd",(function(){return _.S})),i.d(t,"rd",(function(){return _.W})),i.d(t,"qd",(function(){return _.V})),i.d(t,"pd",(function(){return _.U})),i.d(t,"yd",(function(){return _.X})),i.d(t,"zd",(function(){return _.Y})),i.d(t,"Bd",(function(){return _.Z})),i.d(t,"Id",(function(){return _.ab})),i.d(t,"Jd",(function(){return _.bb})),i.d(t,"Kd",(function(){return _.cb})),i.d(t,"Vd",(function(){return _.db})),i.d(t,"Wd",(function(){return _.eb})),i.d(t,"Xd",(function(){return _.fb})),i.d(t,"Yd",(function(){return _.gb})),i.d(t,"Oc",(function(){return _.I})),i.d(t,"Yc",(function(){return _.M})),i.d(t,"Zd",(function(){return _.hb})),i.d(t,"he",(function(){return _.lb})),i.d(t,"fe",(function(){return _.jb})),i.d(t,"ge",(function(){return _.kb})),i.d(t,"G",(function(){return C.a})),i.d(t,"Vb",(function(){return w})),i.d(t,"Hb",(function(){return y}));i("QCG8");var r=i("VADH"),n=i("EZlM"),s=i("Ljcy"),o=i("9u1P"),a=i("LmJZ"),l=i.n(a),d=i("P379"),u=i("sZGu"),c=i("NcUD"),h=i("SAI2"),g=(i("r8+z"),i("tcDC")),p=(i("s1jt"),i("dVPx")),m=i("pmKu"),v=(i("VC5a"),i("s3Wx")),f=(i("bB9w"),i("Q03K"),i("1oXj")),b=(i("YKOT"),i("j9WD")),S=(i("giev"),i("4SFh")),_=(i("SZ68"),i("Oi2j")),C=i("zHxG");class y{constructor(){this.options=u.a}}const w={...r,...n,...s,...o,deepAssign:l.a||a}},rci4:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("zWoC");const n=(e,t,i,n,s)=>{var o,a;if(!n||!n.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');const l=(null==e?void 0:e.hasOwnProperty(n.dataKey))?e[n.dataKey]:e,d=(null==t?void 0:t.hasOwnProperty(n.dataKey))?t[n.dataKey]:t,u=null!==(a=null!==(o=null==n?void 0:n.valueCouldBeUndefined)&&void 0!==o?o:null==s?void 0:s.cellValueCouldBeUndefined)&&void 0!==a&&a;null==i&&(i=r.a.neutral);let c=0;return c="object"!=typeof e?-99e10:"object"!=typeof t?99e10:null===l||u&&void 0===l?-1:null===d||u&&void 0===d?1:l===d?0:i?l<d?-1:1:l<d?1:-1,i*c}},yWDt:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var r=i("zWoC");const n=(e,t,i,n,s)=>{var o,a;null==i&&(i=r.a.neutral);let l=0;const d=null!==(a=null!==(o=null==n?void 0:n.valueCouldBeUndefined)&&void 0!==o?o:null==s?void 0:s.cellValueCouldBeUndefined)&&void 0!==a&&a;return l=e===t?0:null===e||d&&void 0===e?-1:null===t||d&&void 0===t?1:i?e<t?-1:1:e<t?1:-1,i*l}},yXse:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return l}));var r=i("V5Q0"),n=i("pmKu"),s=i("NcUD"),o=i("Ljcy"),a=i("P379");class l{constructor(e,t,i,r,n){this.filterFactory=e,this.pubSubService=t,this.sharedService=i,this.backendUtilities=r,this.rxjs=n,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._isTreePresetExecuted=!1,this._onSearchChange=new Slick.Event,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get isFilterFirstRender(){return this._isFilterFirstRender}get onSearchChange(){return this._onSearchChange}get _gridOptions(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getOptions)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}get _columnDefinitions(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getColumns)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[]}get _dataView(){var e,t,i;return null!==(i=null===(t=null===(e=this._grid)||void 0===e?void 0:e.getData)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{}}addRxJsResource(e){this.rxjs=e}init(e){this._grid=e,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])}dispose(){var e;this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(e=this.rxjs)||void 0===e?void 0:e.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete()),this.disposeColumnFilters(),this._onSearchChange=null}disposeColumnFilters(){this.resetColumnFilters(),Array.isArray(this._filtersMetadata)&&this._filtersMetadata.forEach(e=>{(null==e?void 0:e.destroy)&&e.destroy()})}resetColumnFilters(){if("object"==typeof this._columnFilters)for(const e in this._columnFilters)e&&this._columnFilters[e]&&delete this._columnFilters[e]}bindBackendOnFilter(e){this._filtersMetadata=[];const t=e.onHeaderRowCellRendered;if(this._eventHandler.subscribe(t,(e,t)=>{t.column.id===this._firstColumnIdRendered&&(this._isFilterFirstRender=!1),this.addFilterTemplateToHeaderRow(t,this._isFilterFirstRender),""===this._firstColumnIdRendered&&(this._firstColumnIdRendered=t.column.id)}),this._onSearchChange){const e=this._onSearchChange;this._eventHandler.subscribe(e,this.onBackendFilterChange.bind(this))}}bindLocalOnFilter(e){if(this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange){this._onSearchChange;this._eventHandler.subscribe(this._onSearchChange,async(e,t)=>{var i,r;const n=null!==(i=null==t?void 0:t.clearFilterTriggered)&&void 0!==i&&i;n||await this.emitFilterChanged(s.EmitterType.local,!0),!0===(null===(r=this._gridOptions)||void 0===r?void 0:r.enableTreeData)&&(this._tmpPreFilteredData=this.preFilterTreeData(this._dataView.getItems(),this._columnFilters)),null!==t.columnId&&this._dataView.refresh(),n||await this.emitFilterChanged(s.EmitterType.local)})}const t=e.onHeaderRowCellRendered;this._eventHandler.subscribe(t,(e,t)=>{this.addFilterTemplateToHeaderRow(t)})}async clearFilterByColumnId(e,t){var i,r;await this.pubSubService.publish("onBeforeFilterClear",{columnId:t});const n=null!==(r=null===(i=this._gridOptions)||void 0===i?void 0:i.backendServiceApi)&&void 0!==r&&r,o=n?s.EmitterType.remote:s.EmitterType.local,a=Object.keys(this._columnFilters);let l;Array.isArray(a)&&(l=a.find(e=>e===""+t));const d=this._filtersMetadata.find(e=>e.columnDef.id===t);return(null==d?void 0:d.clear)&&d.clear(!0),n&&void 0!==l&&this.onBackendFilterChange(e,{grid:this._grid,columnFilters:this._columnFilters}),await this.emitFilterChanged(o),!0}async clearFilters(e=!0){var t,i,r,n,s;e&&await this.pubSubService.publish("onBeforeFilterClear",!0),this._filtersMetadata.forEach(e=>{(null==e?void 0:e.clear)&&e.clear(!1)}),this.resetColumnFilters(),Array.isArray(this._columnDefinitions)&&this._columnDefinitions.forEach(e=>{var t;(null===(t=e.filter)||void 0===t?void 0:t.searchTerms)&&delete e.filter.searchTerms}),this._dataView&&this._grid&&(this._dataView.refresh(),this._grid.invalidate());const o=null===(t=this._gridOptions)||void 0===t?void 0:t.backendServiceApi;if(o&&e){const t={clearFilterTriggered:!0,shouldTriggerQuery:e,grid:this._grid,columnFilters:this._columnFilters},a=o.service.processOnFilterChanged(void 0,t),l=null!==(n=null===(r=null===(i=this._gridOptions)||void 0===i?void 0:i.pagination)||void 0===r?void 0:r.totalItems)&&void 0!==n?n:0;null===(s=this.backendUtilities)||void 0===s||s.executeBackendCallback(o,a,t,new Date,l,this.emitFilterChanged.bind(this))}e&&this.pubSubService.publish("onFilterCleared",!0)}customLocalFilter(e,t){var i,r,o,l,d,u;const c=null==t?void 0:t.grid,h=null!==(r=null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&void 0!==r&&r,g=null!==(o=null==t?void 0:t.columnFilters)&&void 0!==o?o:{};let p;if(h&&this._gridOptions&&this._gridOptions.treeDataOptions){p=this._gridOptions.treeDataOptions;const t=null!==(l=p.collapsedPropName)&&void 0!==l?l:a.a.treeDataProperties.COLLAPSED_PROP,i=null!==(d=p.parentPropName)&&void 0!==d?d:a.a.treeDataProperties.PARENT_PROP,r=null!==(u=this._gridOptions.datasetIdPropertyName)&&void 0!==u?u:"id";if(null!==e[i]){let r=this._dataView.getItemById(e[i]);for(;r;){if(r[t])return!1;r=this._dataView.getItemById(r[i])}}if(Array.isArray(this._tmpPreFilteredData))return this._tmpPreFilteredData.includes(e[r])}else if("object"==typeof g)for(const t of Object.keys(g)){const i=g[t],r=this.preProcessFilterConditionOnDataContext(e,i,c);if("boolean"==typeof r)return r;let o=null==i?void 0:i.parsedSearchTerms;if(void 0===o&&(o=Object(n.m)(i.searchTerms,i.columnDef.type||s.FieldType.string),void 0!==o&&(i.parsedSearchTerms=o)),!n.a.executeFilterConditionTest(r,o))return!1}return!0}parseFormInputFilterConditions(e,t){var i,r,n;const a=Object(o.deepCopy)(e)||[];let l=Array.isArray(a)&&1===a.length?a[0]:"";const d=t.columnDef,u=null!==(n=null!==(r=null===(i=d.filter)||void 0===i?void 0:i.type)&&void 0!==r?r:d.type)&&void 0!==n?n:s.FieldType.string;let c=null;u!==s.FieldType.object&&(l=null==l?"":""+l,c=l.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])?([\*]?)$/));let h=(null==c?void 0:c[1])||t.operator;const g=(null==c?void 0:c[2])||"",p=(null==c?void 0:c[3])||("*z"===h?"*":"");return"string"==typeof l&&(l=l.replace("'","''"),"*"===h||"*z"===h?h=s.OperatorType.endsWith:"a*"!==h&&"*"!==p||(h=s.OperatorType.startsWith)),Array.isArray(c)&&c.length>=1&&Array.isArray(a)&&1===a.length&&(a[0]=g),{dataKey:d.dataKey,fieldType:u,searchTerms:a||[],operator:h,searchInputLastChar:p,filterSearchType:d.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preProcessFilterConditionOnDataContext(e,t,i){var r,n,a,l,d;const u=t.columnDef,c=t.columnId;let h=i.getColumnIndex(c);if(!u&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(h=this.sharedService.allColumns.findIndex(e=>e.field===c)),!u)return!0;if(this._gridOptions.enableRowDetailView){const t=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";e[t+"isPadding"]&&e[t+"parent"]&&(e=e[t+"parent"])}let g=(null===(r=u.filter)||void 0===r?void 0:r.queryField)||u.queryFieldFilter||u.queryField||u.field||"";"function"==typeof u.queryFieldNameGetterFn&&(g=u.queryFieldNameGetterFn(e));const p=null!==(l=null!==(a=null===(n=u.filter)||void 0===n?void 0:n.type)&&void 0!==a?a:u.type)&&void 0!==l?l:s.FieldType.string;let m=e[g];(null==g?void 0:g.indexOf("."))>=0&&(m=Object(o.getDescendantProperty)(e,g));const v=t.operator,f=t.searchTerms||[];if(!f||Array.isArray(f)&&(0===f.length||1===f.length&&v===f[0]))return!0;if(f&&Array.isArray(f)&&p!==s.FieldType.object)for(let e=0,t=f.length;e<t;e++)f[e]=(void 0===f[e]||null===f[e]?"":f[e])+"";if(!0===(null===(d=null==u?void 0:u.params)||void 0===d?void 0:d.useFormatterOuputToFilter)){const t=i.getData(),r=this._gridOptions.datasetIdPropertyName||"id",n=t&&"function"==typeof t.getIdxById?t.getIdxById(e[r]):0;m=u&&"function"==typeof u.formatter?u.formatter(n||0,h,m,u,e,this._grid):""}return"number"==typeof m&&(m=m.toString()),{dataKey:u.dataKey,fieldType:p,searchTerms:f,cellValue:m,operator:v,searchInputLastChar:t.searchInputLastChar,filterSearchType:u.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preFilterTreeData(e,t){var i,r,l,d,u,c,h,g,p,m,v,f,b,S;const _=null===(i=this._gridOptions)||void 0===i?void 0:i.treeDataOptions,C=null!==(r=null==_?void 0:_.collapsedPropName)&&void 0!==r?r:a.a.treeDataProperties.COLLAPSED_PROP,y=null!==(l=null==_?void 0:_.parentPropName)&&void 0!==l?l:a.a.treeDataProperties.PARENT_PROP,w=null!==(u=null===(d=this._gridOptions)||void 0===d?void 0:d.datasetIdPropertyName)&&void 0!==u?u:"id",T=null===(h=null===(c=this._gridOptions.presets)||void 0===c?void 0:c.treeData)||void 0===h?void 0:h.toggledItems,O={},E=[];if(Array.isArray(e)){for(let t=0;t<e.length;t++)O[e[t][w]]=e[t],delete O[e[t][w]].__used;for(const e of Object.keys(t)){const i=t[e],r=(null==i?void 0:i.searchTerms)?Object(o.deepCopy)(i.searchTerms):[],a=this.parseFormInputFilterConditions(r,i),l=i.columnDef,d=null!==(m=null!==(p=null===(g=null==l?void 0:l.filter)||void 0===g?void 0:g.type)&&void 0!==p?p:null==l?void 0:l.type)&&void 0!==m?m:s.FieldType.string,u=Object(n.m)(a.searchTerms,d);void 0!==u&&(i.parsedSearchTerms=u)}for(let i=0;i<e.length;i++){const r=e[i];let s=!0;for(const e of Object.keys(t)){const i=t[e],o=this.preProcessFilterConditionOnDataContext(r,i,this._grid);if(o){const e=null==i?void 0:i.parsedSearchTerms;if("boolean"==typeof o?o:n.a.executeFilterConditionTest(o,e))continue}s=!1}if(s){const e=E.length;E.splice(e,0,r[w]);let t=null!==(v=O[r[y]])&&void 0!==v&&v;const i=!(null===(f=this._gridOptions.treeDataOptions)||void 0===f?void 0:f.initiallyCollapsed);for(!this._isTreePresetExecuted&&Array.isArray(T)&&T.some(e=>e.itemId===t.id&&e.isCollapsed===i)&&(t[C]=i);t;)null!==(b=t.__used)&&void 0!==b||E.splice(e,0,t[w]),O[t[w]].__used=!0,t=null!==(S=O[t[y]])&&void 0!==S&&S}}}return this._isTreePresetExecuted=!0,E}getColumnFilters(){return this._columnFilters}getFiltersMetadata(){return this._filtersMetadata}getCurrentLocalFilters(){var e,t;const i=[];if(this._columnFilters)for(const r of Object.keys(this._columnFilters)){const n=this._columnFilters[r],s={columnId:r||""},o=this.sharedService.allColumns.find(e=>e.id===s.columnId),a=null===(t=null===(e=null==o?void 0:o.filter)||void 0===e?void 0:e.emptySearchTermReturnAllValues)||void 0===t||t;(null==n?void 0:n.searchTerms)&&(s.searchTerms=n.searchTerms),n.operator&&(s.operator=n.operator),Array.isArray(s.searchTerms)&&s.searchTerms.length>0&&(!a||""!==s.searchTerms[0])&&i.push(s)}return i}emitFilterChanged(e,t=!1){var i;const r=t?"onBeforeFilterChange":"onFilterChanged";if(e===s.EmitterType.remote&&(null===(i=this._gridOptions)||void 0===i?void 0:i.backendServiceApi)){let e=[];const t=this._gridOptions.backendServiceApi.service;return(null==t?void 0:t.getCurrentFilters)&&(e=t.getCurrentFilters()),this.pubSubService.publish(r,e)}if(e===s.EmitterType.local)return this.pubSubService.publish(r,this.getCurrentLocalFilters())}async onBackendFilterChange(e,t){var i,r,n,o;const a=null==t?void 0:t.shouldTriggerQuery;if(a&&await this.emitFilterChanged(s.EmitterType.remote,!0),!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');const l=this._gridOptions.backendServiceApi;if(!l||!l.process||!l.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const d=new Date;if(l.preProcess&&l.preProcess(),a){const s=await l.service.processOnFilterChanged(e,t),a=null!==(n=null===(r=null===(i=this._gridOptions)||void 0===i?void 0:i.pagination)||void 0===r?void 0:r.totalItems)&&void 0!==n?n:0;null===(o=this.backendUtilities)||void 0===o||o.executeBackendCallback(l,s,t,d,a,this.emitFilterChanged.bind(this),this.httpCancelRequests$)}}populateColumnFilterSearchTermPresets(e){return Array.isArray(e)&&(this._columnDefinitions.forEach(t=>{var i;(null===(i=t.filter)||void 0===i?void 0:i.searchTerms)&&delete t.filter.searchTerms;const r=e.find(e=>e.columnId===t.id);r&&Array.isArray(null==r?void 0:r.searchTerms)&&(t.filter=t.filter||{},t.filter.operator=r.operator||t.filter.operator||"",t.filter.searchTerms=r.searchTerms)}),this.refreshTreeDataFilters()),this._columnDefinitions}refreshTreeDataFilters(e){var t,i;const r=null!==(t=null!=e?e:this._dataView.getItems())&&void 0!==t?t:[];this._dataView&&(null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&r.length>0?(this._tmpPreFilteredData=this.preFilterTreeData(r,this._columnFilters),this._dataView.refresh()):0===r.length&&Array.isArray(this.sharedService.hierarchicalDataset)&&this.sharedService.hierarchicalDataset.length>0&&setTimeout(()=>this.refreshTreeDataFilters())}disableFilterFunctionality(e=!0,t=!0){const i=!this._gridOptions.enableFiltering;i!==e&&(t&&e&&this.clearFilters(),this.disableAllFilteringCommands(e),this._grid.setOptions({enableFiltering:i},!1,!0),this._grid.setHeaderRowVisibility(i),this._gridOptions.enableFiltering=!e,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))}toggleFilterFunctionality(e=!0){const t=this._gridOptions.enableFiltering;this.disableFilterFunctionality(t,e)}toggleHeaderFilterRow(){var e,t;let i=null!==(t=null===(e=this._gridOptions)||void 0===e?void 0:e.showHeaderRow)&&void 0!==t&&t;i=!i,this._grid.setHeaderRowVisibility(i),!0===i&&this._grid.setColumns(this.sharedService.columnDefinitions)}setSortColumnIcons(e){this._grid&&Array.isArray(e)&&this._grid.setSortColumns(e)}async updateFilters(e,t=!0,i=!0,r=!1){var n,o;if(!this._filtersMetadata||0===this._filtersMetadata.length||!this._gridOptions||!this._gridOptions.enableFiltering)throw new Error('[Slickgrid-Universal] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(e)){this.clearFilters(!1),e.forEach(e=>{var t;const i=this._filtersMetadata.find(t=>e.columnId===t.columnDef.id);if(e&&i){const n=e.operator||i.defaultOperator;this.updateColumnFilters(e.searchTerms,i.columnDef,n),i.setValues(e.searchTerms||[],n),(r||(null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData))&&this.callbackSearchEvent(void 0,{columnDef:i.columnDef,operator:n,searchTerms:e.searchTerms,shouldTriggerQuery:!0,forceOnSearchChangeEvent:!0})}});const a=null===(n=this._gridOptions)||void 0===n?void 0:n.backendServiceApi,l=a?s.EmitterType.remote:s.EmitterType.local;if(t&&await this.emitFilterChanged(l,!0),this._dataView.refresh(),a){const t=null==a?void 0:a.service;(null==t?void 0:t.updateFilters)&&(t.updateFilters(e,!0),i&&(null===(o=this.backendUtilities)||void 0===o||o.refreshBackendDataset(this._gridOptions)))}t&&await this.emitFilterChanged(l)}return!0}async updateSingleFilter(e,t=!0,i=!0){var r,n,o,a,l;const d=this.sharedService.allColumns.find(t=>t.id===e.columnId);if(d&&e.columnId){this._columnFilters={};const u=null===(n=null===(r=d.filter)||void 0===r?void 0:r.emptySearchTermReturnAllValues)||void 0===n||n;Array.isArray(e.searchTerms)&&(e.searchTerms.length>1||1===e.searchTerms.length&&(!u||""!==e.searchTerms[0]))&&(this._columnFilters[e.columnId]={columnId:e.columnId,operator:e.operator,searchTerms:e.searchTerms,columnDef:d,type:null!==(o=d.type)&&void 0!==o?o:s.FieldType.string});const c=null===(a=this._gridOptions)||void 0===a?void 0:a.backendServiceApi,h=c?s.EmitterType.remote:s.EmitterType.local;if(t&&await this.emitFilterChanged(h,!0),c){const e=null==c?void 0:c.service;(null==e?void 0:e.updateFilters)&&(e.updateFilters(this._columnFilters,!0),i&&(null===(l=this.backendUtilities)||void 0===l||l.refreshBackendDataset(this._gridOptions)))}else this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),this.refreshTreeDataFilters(),this._dataView.refresh();t&&await this.emitFilterChanged(h)}return!0}addFilterTemplateToHeaderRow(e,t=!0){var i;const r=e.column;if("selector"!==(null!==(i=null==r?void 0:r.id)&&void 0!==i?i:"")&&(null==r?void 0:r.filterable)){let e,i;const n=this.filterFactory.createFilter(r.filter);i=r&&r.filter&&r.filter.operator||n&&n.operator,this._columnFilters[r.id]?(e=this._columnFilters[r.id].searchTerms||void 0,i=this._columnFilters[r.id].operator||void 0):r.filter&&(e=r.filter.searchTerms||void 0,this.updateColumnFilters(e,r,i));const s={grid:this._grid,operator:i,searchTerms:e,columnDef:r,callback:this.callbackSearchEvent.bind(this)};if(n){n.init(s,t);const r=this._filtersMetadata.findIndex(e=>n.columnDef.id===e.columnDef.id);-1===r?this._filtersMetadata.push(n):this._filtersMetadata[r]=n,e&&n.setValues&&n.setValues(e,i)}}}callbackSearchEvent(t,i){var a,l,d,u,c,h,g,p;if(i){const m=(null==t?void 0:t.target)?t.target.value:void 0,v=i.searchTerms&&Array.isArray(i.searchTerms)?i.searchTerms:m?[m]:void 0,f=i.columnDef||null,b=null!==(a=null==f?void 0:f.id)&&void 0!==a?a:"",S=null!==(u=null!==(d=null===(l=null==f?void 0:f.filter)||void 0===l?void 0:l.type)&&void 0!==d?d:null==f?void 0:f.type)&&void 0!==u?u:s.FieldType.string,_=i.operator||void 0,C=v&&Array.isArray(v),y=C&&v&&v.length,w={...this._columnFilters},T=null===(h=null===(c=f.filter)||void 0===c?void 0:c.emptySearchTermReturnAllValues)||void 0===h||h;let O;if(f&&b)if(!C||0===y||1===y&&Array.isArray(v)&&T&&""===v[0])delete this._columnFilters[b];else{const e=""+b,t={columnId:e,columnDef:f,parsedSearchTerms:[],type:S},i=this.parseFormInputFilterConditions(v,t);t.operator=_||i.operator||Object(o.mapOperatorByFieldType)(S),O=Object(n.m)(i.searchTerms,S),void 0!==O&&(t.parsedSearchTerms=O),t.searchTerms=i.searchTerms||[],this._columnFilters[e]=t}const E=t&&"function"!=typeof t.isPropagationStopped?e.extend({},new Slick.EventData,t):t,P=null===(g=t)||void 0===g?void 0:g.key,x=null===(p=t)||void 0===p?void 0:p.keyCode;!this._onSearchChange||!i.forceOnSearchChangeEvent&&"Enter"!==P&&x!==s.KeyCode.ENTER&&Object(r.dequal)(w,this._columnFilters)||this._onSearchChange.notify({clearFilterTriggered:i.clearFilterTriggered,shouldTriggerQuery:i.shouldTriggerQuery,columnId:b,columnDef:f,columnFilters:this._columnFilters,operator:_||Object(o.mapOperatorByFieldType)(S),searchTerms:v,parsedSearchTerms:O,grid:this._grid},E)}}disableAllFilteringCommands(e=!0){var t,i;const r=this._grid.getColumns();return r.forEach(t=>{var i;(null===(i=null==t?void 0:t.header)||void 0===i?void 0:i.menu)&&t.header.menu.items.forEach(t=>{if(t&&"string"!=typeof t){"clear-filter"===t.command&&(t.hidden=e)}})}),(null===(i=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===i?void 0:i.customItems)&&this._gridOptions.gridMenu.customItems.forEach(t=>{if(t&&"string"!=typeof t){const i=t.command;"clear-filter"!==i&&"toggle-filter"!==i||(t.hidden=e)}}),r}updateColumnFilters(e,t,i){var r,o,a;const l=null!==(a=null!==(o=null===(r=t.filter)||void 0===r?void 0:r.type)&&void 0!==o?o:t.type)&&void 0!==a?a:s.FieldType.string,d=Object(n.m)(e,l);e&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:e,operator:i,parsedSearchTerms:d,type:l})}}}).call(this,i("EVdn"))}}]);
//# sourceMappingURL=vendors~51ef2392.60c27c172a0e43979bcb.bundle.map